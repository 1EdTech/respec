window.respecVersion="35.1.0",function(){"use strict";var e="undefined"!=typeof document?document.currentScript:null;const t=!!window.require;if(!t){const e=function(e,t){const n=e.map((e=>{if(!(e in window.require.modules))throw new Error(`Unsupported dependency name: ${e}`);return window.require.modules[e]}));Promise.all(n).then((e=>t(...e)))};e.modules={},window.require=e}function n(e,n){t||(window.require.modules[e]=n)}const r=new EventTarget;function o(e,t){if(r.dispatchEvent(new CustomEvent(e,{detail:t})),window.parent===window.self)return;const n=String(JSON.stringify(t?.stack||t));window.parent.postMessage({topic:e,args:n},window.parent.location.origin)}function i(e,t,n={once:!1}){r.addEventListener(e,(e=>t(e.detail)),n)}n("core/pubsubhub",{sub:i});const a=["githubToken","githubUser"];const s=document.documentElement;s?.hasAttribute("lang")||(s.lang="en",s.hasAttribute("dir")||(s.dir="ltr"));const c={},l=s?.lang??"en";var d=Object.freeze({__proto__:null,l10n:c,lang:l,name:"core/l10n",run:function(e){e.l10n=c[l]||c.en}});const u=(e,t)=>t.some((t=>e instanceof t));let p,f;const h=new WeakMap,m=new WeakMap,g=new WeakMap;let b={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function y(e){b=e(b)}function w(e){return(f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(x(this),t),$(this.request)}:function(...t){return $(e.apply(x(this),t))}}function v(e){return"function"==typeof e?w(e):(e instanceof IDBTransaction&&function(e){if(h.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));h.set(e,t)}(e),u(e,p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,b):e)}function $(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t($(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return g.set(t,e),t}(e);if(m.has(e))return m.get(e);const t=v(e);return t!==e&&(m.set(e,t),g.set(t,e)),t}const x=e=>g.get(e);const k=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],A=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(A.get(t))return A.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!k.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),o&&i.done]))[0]};return A.set(t,i),i}y((e=>({...e,get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)})));const S=["continue","continuePrimaryKey","advance"],C={},T=new WeakMap,L=new WeakMap,R={get(e,t){if(!S.includes(t))return e[t];let n=C[t];return n||(n=C[t]=function(...e){T.set(this,L.get(this)[t](...e))}),n}};async function*N(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,R);for(L.set(n,t),g.set(n,x(t));t;)yield n,t=await(T.get(n)||t.continue()),T.delete(n)}function I(e,t){return t===Symbol.asyncIterator&&u(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&u(e,[IDBIndex,IDBObjectStore])}y((e=>({...e,get:(t,n,r)=>I(t,n)?N:e.get(t,n,r),has:(t,n)=>I(t,n)||e.has(t,n)})));var O=Object.freeze({__proto__:null,deleteDB:function(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),$(n).then((()=>{}))},openDB:function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=$(a);return r&&a.addEventListener("upgradeneeded",(e=>{r($(a.result),e.oldVersion,e.newVersion,$(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s},unwrap:x,wrap:$});const P=/^[!#$%&'*+-.^`|~\w]+$/,j=/[\u000A\u000D\u0009\u0020]/u,D=/^[\u0009\u{0020}-\{u0073}\u{0080}-\u{00FF}]+$/u;function M(e,t,n){(t&&""!==t&&!e.has(t)&&D.test(n)||null===n)&&e.set(t.toLowerCase(),n)}function z(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let q={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function F(e){q=e}const U=/[&<>"']/,B=new RegExp(U.source,"g"),H=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,W=new RegExp(H.source,"g"),V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y=e=>V[e];function K(e,t){if(t){if(U.test(e))return e.replace(B,Y)}else if(H.test(e))return e.replace(W,Y);return e}const X=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function G(e){return e.replace(X,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Z=/(^|[^\[])\^/g;function J(e,t){let n="string"==typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let o="string"==typeof t?t:t.source;return o=o.replace(Z,"$1"),n=n.replace(e,o),r},getRegex:()=>new RegExp(n,t)};return r}function Q(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const ee={exec:()=>null};function te(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function ne(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function re(e,t,n,r){const o=t.href,i=t.title?K(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:i,text:K(a)}}class oe{options;rules;lexer;constructor(e){this.options=e||q}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:ne(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=ne(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1");e=ne(e.replace(/^ *>[ \t]?/gm,""),"\n");const n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",s="",c=!1;for(;e;){let n=!1;if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),l=e.split("\n",1)[0],d=0;this.options.pedantic?(d=2,s=r.trimStart()):(d=t[2].search(/[^ ]/),d=d>4?1:d,s=r.slice(d),d+=t[1].length);let u=!1;if(!r&&/^ *$/.test(l)&&(a+=l+"\n",e=e.substring(l.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const c=e.split("\n",1)[0];if(l=c,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),o.test(l))break;if(i.test(l))break;if(t.test(l))break;if(n.test(e))break;if(l.search(/[^ ]/)>=d||!l.trim())s+="\n"+l.slice(d);else{if(u)break;if(r.search(/[^ ]/)>=4)break;if(o.test(r))break;if(i.test(r))break;if(n.test(r))break;s+="\n"+l}u||l.trim()||(u=!0),a+=c+"\n",e=e.substring(c.length+1),r=l.slice(d)}}o.loose||(c?o.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let p,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(s),f&&(p="[ ] "!==f[0],s=s.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!f,checked:p,loose:!1,text:s,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=s.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=te(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?i.align.push("right"):/^ *:-+: *$/.test(e)?i.align.push("center"):/^ *:-+ *$/.test(e)?i.align.push("left"):i.align.push(null);for(const e of n)i.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of o)i.rows.push(te(e,i.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:K(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=ne(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),re(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return re(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...r[0]].length-1;let o,i,a=n,s=0;const c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=c.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const t=[...r[0]][0].length,c=e.slice(0,n+r.index+t+i);if(Math.min(n,i)%2){const e=c.slice(1,-1);return{type:"em",raw:c,text:e,tokens:this.lexer.inlineTokens(e)}}const l=c.slice(2,-2);return{type:"strong",raw:c,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=K(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=K(t[1]),n="mailto:"+e):(e=K(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=K(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=K(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:K(t[0]),{type:"text",raw:t[0],text:e}}}}const ie=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ae=/(?:[*+-]|\d{1,9}[.)])/,se=J(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ae).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ce=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,le=/(?!\s*\])(?:\\.|[^\[\]\\])+/,de=J(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",le).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ue=J(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ae).getRegex(),pe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fe=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,he=J("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",fe).replace("tag",pe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),me=J(ce).replace("hr",ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),ge={blockquote:J(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",me).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:de,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:ie,html:he,lheading:se,list:ue,newline:/^(?: *(?:\n|$))+/,paragraph:me,table:ee,text:/^[^\n]+/},be=J("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),ye={...ge,table:be,paragraph:J(ce).replace("hr",ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",be).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex()},we={...ge,html:J("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",fe).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ee,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:J(ce).replace("hr",ie).replace("heading"," *#{1,6} *[^\n]").replace("lheading",se).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ve=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$e=/^( {2,}|\\)\n(?!\s*$)/,xe="\\p{P}\\p{S}",ke=J(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,xe).getRegex(),Ee=J(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,xe).getRegex(),Ae=J("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,xe).getRegex(),_e=J("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,xe).getRegex(),Se=J(/\\([punct])/,"gu").replace(/punct/g,xe).getRegex(),Ce=J(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Te=J(fe).replace("(?:--\x3e|$)","--\x3e").getRegex(),Le=J("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Te).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Re=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ne=J(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Re).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ie=J(/^!?\[(label)\]\[(ref)\]/).replace("label",Re).replace("ref",le).getRegex(),Oe=J(/^!?\[(ref)\](?:\[\])?/).replace("ref",le).getRegex(),Pe={_backpedal:ee,anyPunctuation:Se,autolink:Ce,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:$e,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:ee,emStrongLDelim:Ee,emStrongRDelimAst:Ae,emStrongRDelimUnd:_e,escape:ve,link:Ne,nolink:Oe,punctuation:ke,reflink:Ie,reflinkSearch:J("reflink|nolink(?!\\()","g").replace("reflink",Ie).replace("nolink",Oe).getRegex(),tag:Le,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:ee},je={...Pe,link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",Re).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Re).getRegex()},De={...Pe,escape:J(ve).replace("])","~|])").getRegex(),url:J(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Me={...De,br:J($e).replace("{2,}","*").getRegex(),text:J(De.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ze={normal:ge,gfm:ye,pedantic:we},qe={normal:Pe,gfm:De,breaks:Me,pedantic:je};class Fe{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||q,this.options.tokenizer=this.options.tokenizer||new oe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ze.normal,inline:qe.normal};this.options.pedantic?(t.block=ze.pedantic,t.inline=qe.pedantic):this.options.gfm&&(t.block=ze.gfm,this.options.breaks?t.inline=qe.breaks:t.inline=qe.gfm),this.tokenizer.rules=t}static get rules(){return{block:ze,inline:qe}}static lex(e,t){return new Fe(t).lex(e)}static lexInline(e,t){return new Fe(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let n,r,o,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],i&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,i,a,s,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(c));)c=c.slice(0,i.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Ue{options;constructor(e){this.options=e||q}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+K(r)+'">'+(n?e:K(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:K(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=Q(e);if(null===r)return n;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){const r=Q(e);if(null===r)return n;let o=`<img src="${e=r}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class Be{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class He{options;renderer;textRenderer;constructor(e){this.options=e||q,this.options.renderer=this.options.renderer||new Ue,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Be}static parse(e,t){return new He(t).parse(e)}static parseInline(e,t){return new He(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(o.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=o;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,G(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=o;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=o;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let i="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});i+=this.renderer.tablerow(r)}n+=this.renderer.table(t,i);continue}case"blockquote":{const e=o,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=o,t=e.ordered,r=e.start,i=e.loose;let a="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,o=n.task;let s="";if(n.task){const e=this.renderer.checkbox(!!r);i?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):s+=e+" "}s+=this.parse(n.tokens,i),a+=this.renderer.listitem(s,o,!!r)}n+=this.renderer.list(a,t,r);continue}case"html":{const e=o;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=o;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let i=o,a=i.tokens?this.parseInline(i.tokens):i.text;for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],a+="\n"+(i.tokens?this.parseInline(i.tokens):i.text);n+=t?this.renderer.paragraph(a):a;continue}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}switch(o.type){case"escape":{const e=o;n+=t.text(e.text);break}case"html":{const e=o;n+=t.html(e.text);break}case"link":{const e=o;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=o;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=o;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=o;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=o;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=o;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=o;n+=t.text(e.text);break}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class We{options;constructor(e){this.options=e||q}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}const Ve=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(Fe.lex,He.parse);parseInline=this.#e(Fe.lexInline,He.parseInline);Parser=He;Renderer=Ue;TextRenderer=Be;Lexer=Fe;Tokenizer=oe;Hooks=We;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const o=e[r].flat(1/0);n=n.concat(this.walkTokens(o,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new Ue(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if("options"===n)continue;const r=n,o=e.renderer[r],i=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new oe(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=e.tokenizer[r],i=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new We;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const r=n,o=e.hooks[r],i=t[r];We.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(o.call(t,e)).then((e=>i.call(t,e)));const n=o.call(t,e);return i.call(t,n)}:t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Fe.lex(e,t??this.defaults)}parser(e,t){return He.parse(e,t??this.defaults)}#e(e,t){return(n,r)=>{const o={...r},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const a=this.#t(!!i.silent,!!i.async);if(null==n)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then((t=>e(t,i))).then((e=>i.hooks?i.hooks.processAllTokens(e):e)).then((e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then((()=>e)):e)).then((e=>t(e,i))).then((e=>i.hooks?i.hooks.postprocess(e):e)).catch(a);try{i.hooks&&(n=i.hooks.preprocess(n));let r=e(n,i);i.hooks&&(r=i.hooks.processAllTokens(r)),i.walkTokens&&this.walkTokens(r,i.walkTokens);let o=t(r,i);return i.hooks&&(o=i.hooks.postprocess(o)),o}catch(e){return a(e)}}}#t(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+K(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function Ye(e,t){return Ve.parse(e,t)}Ye.options=Ye.setOptions=function(e){return Ve.setOptions(e),Ye.defaults=Ve.defaults,F(Ye.defaults),Ye},Ye.getDefaults=z,Ye.defaults=q,Ye.use=function(...e){return Ve.use(...e),Ye.defaults=Ve.defaults,F(Ye.defaults),Ye},Ye.walkTokens=function(e,t){return Ve.walkTokens(e,t)},Ye.parseInline=Ve.parseInline,Ye.Parser=He,Ye.parser=He.parse,Ye.Renderer=Ue,Ye.TextRenderer=Be,Ye.Lexer=Fe,Ye.lexer=Fe.lex,Ye.Tokenizer=oe,Ye.Hooks=We,Ye.parse=Ye,Ye.options,Ye.setOptions,Ye.use,Ye.walkTokens,Ye.parseInline,He.parse,Fe.lex;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xe,Ge={exports:{}};Xe=Ge,function(e,t){Xe.exports=t()}(0,(function(){var e=[],t=[],n={},r={},o={};function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(t[0],(function(n,r){var o,i,s=(o=t[1],i=arguments,o.replace(/\$(\d{1,2})/g,(function(e,t){return i[t]||""})));return a(""===n?e[r-1]:n,s)}))}function c(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var o=r.length;o--;){var i=r[o];if(i[0].test(t))return s(t,i)}return t}function l(e,t,n){return function(r){var o=r.toLowerCase();return t.hasOwnProperty(o)?a(r,o):e.hasOwnProperty(o)?a(r,e[o]):c(o,r,n)}}function d(e,t,n,r){return function(r){var o=r.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&c(o,o,n)===o}}function u(e,t,n){return(n?t+" ":"")+(1===t?u.singular(e):u.plural(e))}return u.plural=l(o,r,e),u.isPlural=d(o,r,e),u.singular=l(r,o,t),u.isSingular=d(r,o,t),u.addPluralRule=function(t,n){e.push([i(t),n])},u.addSingularRule=function(e,n){t.push([i(e),n])},u.addUncountableRule=function(e){"string"!=typeof e?(u.addPluralRule(e,"$0"),u.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},u.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return u.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return u.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return u.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(u.addUncountableRule),u}));var Ze=Ke(Ge.exports),Je=function(e){var t={};try{t.WeakMap=WeakMap}catch(d){t.WeakMap=function(e,t){var n=t.defineProperty,r=t.hasOwnProperty,o=i.prototype;return o.delete=function(e){return this.has(e)&&delete e[this._]},o.get=function(e){return this.has(e)?e[this._]:void 0},o.has=function(e){return r.call(e,this._)},o.set=function(e,t){return n(e,this._,{configurable:!0,value:t}),this},i;function i(t){n(this,"_",{value:"_@ungap/weakmap"+e++}),t&&t.forEach(a,this)}function a(e){this.set(e[0],e[1])}}(Math.random(),Object)}var n=t.WeakMap,r={};try{r.WeakSet=WeakSet}catch(d){!function(e,t){var n=o.prototype;function o(){t(this,"_",{value:"_@ungap/weakmap"+e++})}n.add=function(e){return this.has(e)||t(e,this._,{value:!0,configurable:!0}),this},n.has=function(e){return this.hasOwnProperty.call(e,this._)},n.delete=function(e){return this.has(e)&&delete e[this._]},r.WeakSet=o}(Math.random(),Object.defineProperty)}function o(e,t,n,r,o,i){for(var a=("selectedIndex"in t),s=a;r<o;){var c,l=e(n[r],1);t.insertBefore(l,i),a&&s&&l.selected&&(s=!s,c=t.selectedIndex,t.selectedIndex=c<0?r:u.call(t.querySelectorAll("option"),l)),r++}}function i(e,t){return e==t}function a(e){return e}function s(e,t,n,r,o,i,a){var s=i-o;if(s<1)return-1;for(;s<=n-t;){for(var c=t,l=o;c<n&&l<i&&a(e[c],r[l]);)c++,l++;if(l===i)return t;t=c+1}return-1}function c(e,t,n,r,o){return n<r?e(t[n],0):0<n?e(t[n-1],-0).nextSibling:o}function l(e,t,n,r){for(;n<r;)f(e(t[n++],-1))}var d=r.WeakSet,u=[].indexOf,p=function(e,t,n){for(var r=1,o=t;r<o;){var i=(r+o)/2>>>0;n<e[i]?o=i:r=1+i}return r},f=function(e){return(e.remove||function(){var e=this.parentNode;e&&e.removeChild(this)}).call(e)};function h(e,t,n,r){for(var d=(r=r||{}).compare||i,u=r.node||a,f=null==r.before?null:u(r.before,0),h=t.length,m=h,g=0,b=n.length,y=0;g<m&&y<b&&d(t[g],n[y]);)g++,y++;for(;g<m&&y<b&&d(t[m-1],n[b-1]);)m--,b--;var w=g===m,v=y===b;if(w&&v)return n;if(w&&y<b)return o(u,e,n,y,b,c(u,t,g,h,f)),n;if(v&&g<m)return l(u,t,g,m),n;var $=m-g,x=b-y,k=-1;if($<x){if(-1<(k=s(n,y,b,t,g,m,d)))return o(u,e,n,y,k,u(t[g],0)),o(u,e,n,k+$,b,c(u,t,m,h,f)),n}else if(x<$&&-1<(k=s(t,g,m,n,y,b,d)))return l(u,t,g,k),l(u,t,k+x,m),n;return $<2||x<2?(o(u,e,n,y,b,u(t[g],0)),l(u,t,g,m)):$==x&&function(e,t,n,r,o,i){for(;r<o&&i(n[r],e[t-1]);)r++,t--;return 0===t}(n,b,t,g,m,d)?o(u,e,n,y,b,c(u,t,m,h,f)):function(e,t,n,r,i,a,s,c,d,u,f,h,m){!function(e,t,n,r,i,a,s,c,d){for(var u=[],p=e.length,f=s,h=0;h<p;)switch(e[h++]){case 0:i++,f++;break;case 1:u.push(r[i]),o(t,n,r,i++,i,f<c?t(a[f],0):d);break;case-1:f++}for(h=0;h<p;)switch(e[h++]){case 0:s++;break;case-1:-1<u.indexOf(a[s])?s++:l(t,a,s++,s)}}(function(e,t,n,r,o,i,a){var s,c,l,d,u,p,f=n+i,h=[];e:for(b=0;b<=f;b++){if(50<b)return null;for(p=b-1,d=b?h[b-1]:[0,0],u=h[b]=[],s=-b;s<=b;s+=2){for(c=(l=s===-b||s!==b&&d[p+s-1]<d[p+s+1]?d[p+s+1]:d[p+s-1]+1)-s;l<i&&c<n&&a(r[o+l],e[t+c]);)l++,c++;if(l===i&&c===n)break e;u[b+s]=l}}for(var m=Array(b/2+f/2),g=m.length-1,b=h.length-1;0<=b;b--){for(;0<l&&0<c&&a(r[o+l-1],e[t+c-1]);)m[g--]=0,l--,c--;if(!b)break;p=b-1,d=b?h[b-1]:[0,0],(s=l-c)==-b||s!==b&&d[p+s-1]<d[p+s+1]?(c--,m[g--]=1):(l--,m[g--]=-1)}return m}(n,r,a,s,c,u,h)||function(e,t,n,r,o,i,a,s){var c=0,l=r<s?r:s,d=Array(l++),u=Array(l);u[0]=-1;for(var f=1;f<l;f++)u[f]=a;for(var h=o.slice(i,a),m=t;m<n;m++){var g,b=h.indexOf(e[m]);-1<b&&-1<(c=p(u,l,g=b+i))&&(u[c]=g,d[c]={newi:m,oldi:g,prev:d[c-1]})}for(c=--l,--a;u[c]>a;)--c;l=s+r-c;var y=Array(l),w=d[c];for(--n;w;){for(var v=w.newi,$=w.oldi;v<n;)y[--l]=1,--n;for(;$<a;)y[--l]=-1,--a;y[--l]=0,--n,--a,w=w.prev}for(;t<=n;)y[--l]=1,--n;for(;i<=a;)y[--l]=-1,--a;return y}(n,r,i,a,s,c,d,u),e,t,n,r,s,c,f,m)}(u,e,n,y,b,x,t,g,m,$,h,d,f),n}var m={};function g(t,n){n=n||{};var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,!!n.bubbles,!!n.cancelable,n.detail),r}m.CustomEvent="function"==typeof CustomEvent?CustomEvent:(g["prototype"]=new g("").constructor.prototype,g);var b=m.CustomEvent,y={};try{y.Map=Map}catch(d){y.Map=function(){var e=0,t=[],n=[];return{delete:function(o){var i=r(o);return i&&(t.splice(e,1),n.splice(e,1)),i},forEach:function(e,r){t.forEach((function(t,o){e.call(r,n[o],t,this)}),this)},get:function(t){return r(t)?n[e]:void 0},has:r,set:function(o,i){return n[r(o)?e:t.push(o)-1]=i,this}};function r(n){return-1<(e=t.indexOf(n))}}}var w=y.Map;function v(){return this}function $(e,t){var n="_"+e+"$";return{get:function(){return this[n]||x(this,n,t.call(this,e))},set:function(e){x(this,n,e)}}}var x=function(e,t,n){return Object.defineProperty(e,t,{configurable:!0,value:"function"==typeof n?function(){return e._wire$=n.apply(this,arguments)}:n})[t]};Object.defineProperties(v.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});var k,E,A,_,S,C,T={},L={},R=[],N=L.hasOwnProperty,I=0,O={attributes:T,define:function(e,t){e.indexOf("-")<0?(e in L||(I=R.push(e)),L[e]=t):T[e]=t},invoke:function(e,t){for(var n=0;n<I;n++){var r=R[n];if(N.call(e,r))return L[r](e[r],t)}}},P=Array.isArray||(E=(k={}.toString).call([]),function(e){return k.call(e)===E}),j=(A=e,_="fragment",C="content"in M(S="template")?function(e){var t=M(S);return t.innerHTML=e,t.content}:function(e){var t,n=M(_),r=M(S);return D(n,/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)?(t=RegExp.$1,r.innerHTML="<table>"+e+"</table>",r.querySelectorAll(t)):(r.innerHTML=e,r.childNodes)),n},function(e,t){return("svg"===t?function(e){var t=M(_),n=M("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",D(t,n.firstChild.childNodes),t}:C)(e)});function D(e,t){for(var n=t.length;n--;)e.appendChild(t[0])}function M(e){return e===_?A.createDocumentFragment():A.createElementNS("http://www.w3.org/1999/xhtml",e)}var z,q,F,U,B,H,W,V,Y,K=(q="appendChild",F="cloneNode",U="createTextNode",H=(B="importNode")in(z=e),(W=z.createDocumentFragment())[q](z[U]("g")),W[q](z[U]("")),(H?z[B](W,!0):W[F](!0)).childNodes.length<2?function e(t,n){for(var r=t[F](),o=t.childNodes||[],i=o.length,a=0;n&&a<i;a++)r[q](e(o[a],n));return r}:H?z[B]:function(e,t){return e[F](!!t)}),X="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},G="-"+Math.random().toFixed(6)+"%",Z=!1;try{V=e.createElement("template"),Y="tabindex","content"in V&&(V.innerHTML="<p "+Y+'="'+G+'"></p>',V.content.childNodes[0].getAttribute(Y)==G)||(G="_dt: "+G.slice(1,-1)+";",Z=!0)}catch(d){}var J="\x3c!--"+G+"--\x3e",Q=8,ee=1,te=3,ne=/^(?:style|textarea)$/i,re=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,oe=" \\f\\n\\r\\t",ie="[^"+oe+"\\/>\"'=]+",ae="["+oe+"]+"+ie,se="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",ce="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+ie.replace("\\/","")+"))?)",le=new RegExp(se+ae+ce+"+)(["+oe+"]*/?>)","g"),de=new RegExp(se+ae+ce+"*)(["+oe+"]*/>)","g"),ue=new RegExp("("+ae+"\\s*=\\s*)(['\"]?)"+J+"\\2","gi");function pe(e,t,n,r){return"<"+t+n.replace(ue,fe)+r}function fe(e,t,n){return t+(n||'"')+G+(n||'"')}function he(e,t,n){return re.test(t)?e:"<"+t+n+"></"+t+">"}var me=Z?function(e,t){var n=t.join(" ");return t.slice.call(e,0).sort((function(e,t){return n.indexOf(e.name)<=n.indexOf(t.name)?-1:1}))}:function(e,t){return t.slice.call(e,0)};function ge(t,n,r,o){for(var i=t.childNodes,a=i.length,s=0;s<a;){var c=i[s];switch(c.nodeType){case ee:var l=o.concat(s);!function(t,n,r,o){for(var i,a=t.attributes,s=[],c=[],l=me(a,r),d=l.length,u=0;u<d;){var p=l[u++],f=p.value===G;if(f||1<(i=p.value.split(J)).length){var h=p.name;if(s.indexOf(h)<0){s.push(h);var m=r.shift().replace(f?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+h+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),g=a[m]||a[m.toLowerCase()];if(f)n.push(be(g,o,m,null));else{for(var b=i.length-2;b--;)r.shift();n.push(be(g,o,m,i))}}c.push(p)}}for(var y=((u=0)<(d=c.length)&&Z&&!("ownerSVGElement"in t));u<d;){var w=c[u++];y&&(w.value=""),t.removeAttribute(w.name)}var v=t.nodeName;if(/^script$/i.test(v)){var $=e.createElement(v);for(d=a.length,u=0;u<d;)$.setAttributeNode(a[u++].cloneNode(!0));$.textContent=t.textContent,t.parentNode.replaceChild($,t)}}(c,n,r,l),ge(c,n,r,l);break;case Q:var d=c.textContent;if(d===G)r.shift(),n.push(ne.test(t.nodeName)?ye(t,o):{type:"any",node:c,path:o.concat(s)});else switch(d.slice(0,2)){case"/*":if("*/"!==d.slice(-2))break;case"👻":t.removeChild(c),s--,a--}break;case te:ne.test(t.nodeName)&&X.call(c.textContent)===J&&(r.shift(),n.push(ye(t,o)))}s++}}function be(e,t,n,r){return{type:"attr",node:e,path:t,name:n,sparse:r}}function ye(e,t){return{type:"text",node:e,path:t}}var we,ve=(we=new n,{get:function(e){return we.get(e)},set:function(e,t){return we.set(e,t),t}});function $e(e,t){var n=(e.convert||function(e){return e.join(J).replace(de,he).replace(le,pe)})(t),r=e.transform;r&&(n=r(n));var o=j(n,e.type);ke(o);var i=[];return ge(o,i,t.slice(0),[]),{content:o,updates:function(n){for(var r=[],o=i.length,a=0,s=0;a<o;){var c=i[a++],l=function(e,t){for(var n=t.length,r=0;r<n;)e=e.childNodes[t[r++]];return e}(n,c.path);switch(c.type){case"any":r.push({fn:e.any(l,[]),sparse:!1});break;case"attr":var d=c.sparse,u=e.attribute(l,c.name,c.node);null===d?r.push({fn:u,sparse:!1}):(s+=d.length-2,r.push({fn:u,sparse:!0,values:d}));break;case"text":r.push({fn:e.text(l),sparse:!1}),l.textContent=""}}return o+=s,function(){var e=arguments.length;if(o!==e-1)throw new Error(e-1+" values instead of "+o+"\n"+t.join("${value}"));for(var i=1,a=1;i<e;){var s=r[i-a];if(s.sparse){var c=s.values,l=c[0],d=1,u=c.length;for(a+=u-2;d<u;)l+=arguments[i++]+c[d++];s.fn(l)}else s.fn(arguments[i++])}return n}}}}var xe=[];function ke(e){for(var t=e.childNodes,n=t.length;n--;){var r=t[n];1!==r.nodeType&&0===X.call(r.textContent).length&&e.removeChild(r)}}var Ee,Ae,_e=(Ee=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Ae=/([^A-Z])([A-Z]+)/g,function(e,t){return"ownerSVGElement"in e?function(e,t){var n;return(n=t?t.cloneNode(!0):(e.setAttribute("style","--hyper:style;"),e.getAttributeNode("style"))).value="",e.setAttributeNode(n),Ce(n,!0)}(e,t):Ce(e.style,!1)});function Se(e,t,n){return t+"-"+n.toLowerCase()}function Ce(e,t){var n,r;return function(o){var i,a,s,c;switch(typeof o){case"object":if(o){if("object"===n){if(!t&&r!==o)for(a in r)a in o||(e[a]="")}else t?e.value="":e.cssText="";for(a in i=t?{}:e,o)s="number"!=typeof(c=o[a])||Ee.test(a)?c:c+"px",!t&&/^--/.test(a)?i.setProperty(a,s):i[a]=s;n="object",t?e.value=function(e){var t,n=[];for(t in e)n.push(t.replace(Ae,Se),":",e[t],";");return n.join("")}(r=i):r=o;break}default:r!=o&&(n="string",r=o,t?e.value=o||"":e.cssText=o||"")}}}var Te,Le,Re=(Te=[].slice,(Le=Ne.prototype).ELEMENT_NODE=1,Le.nodeType=111,Le.remove=function(e){var t,n=this.childNodes,r=this.firstChild,o=this.lastChild;return this._=null,e&&2===n.length?o.parentNode.removeChild(o):((t=this.ownerDocument.createRange()).setStartBefore(e?n[1]:r),t.setEndAfter(o),t.deleteContents()),r},Le.valueOf=function(e){var t=this._,n=null==t;if(n&&(t=this._=this.ownerDocument.createDocumentFragment()),n||e)for(var r=this.childNodes,o=0,i=r.length;o<i;o++)t.appendChild(r[o]);return t},Ne);function Ne(e){var t=this.childNodes=Te.call(e,0);this.firstChild=t[0],this.lastChild=t[t.length-1],this.ownerDocument=t[0].ownerDocument,this._=null}function Ie(e){return{html:e}}function Oe(e,t){switch(e.nodeType){case He:return 1/t<0?t?e.remove(!0):e.lastChild:t?e.valueOf(!0):e.firstChild;case Be:return Oe(e.render(),t);default:return e}}function Pe(e,t){t(e.placeholder),"text"in e?Promise.resolve(e.text).then(String).then(t):"any"in e?Promise.resolve(e.any).then(t):"html"in e?Promise.resolve(e.html).then(Ie).then(t):Promise.resolve(O.invoke(e,t)).then(t)}function je(e){return null!=e&&"then"in e}var De,Me,ze,qe,Fe,Ue="ownerSVGElement",Be=v.prototype.nodeType,He=Re.prototype.nodeType,We=(Me=(De={Event:b,WeakSet:d}).Event,ze=De.WeakSet,qe=!0,Fe=null,function(e){return qe&&(qe=!qe,Fe=new ze,function(e){var t=new ze,n=new ze;try{new MutationObserver(a).observe(e,{subtree:!0,childList:!0})}catch(t){var r=0,o=[],i=function(e){o.push(e),clearTimeout(r),r=setTimeout((function(){a(o.splice(r=0,o.length))}),0)};e.addEventListener("DOMNodeRemoved",(function(e){i({addedNodes:[],removedNodes:[e.target]})}),!0),e.addEventListener("DOMNodeInserted",(function(e){i({addedNodes:[e.target],removedNodes:[]})}),!0)}function a(e){for(var r,o=e.length,i=0;i<o;i++)s((r=e[i]).removedNodes,"disconnected",n,t),s(r.addedNodes,"connected",t,n)}function s(e,t,n,r){for(var o,i=new Me(t),a=e.length,s=0;s<a;1===(o=e[s++]).nodeType&&function e(t,n,r,o,i){Fe.has(t)&&!o.has(t)&&(i.delete(t),o.add(t),t.dispatchEvent(n));for(var a=t.children||[],s=a.length,c=0;c<s;e(a[c++],n,r,o,i));}(o,i,t,n,r));}}(e.ownerDocument)),Fe.add(e),e}),Ve=/^(?:form|list)$/i,Ye=[].slice;function Ke(t){return this.type=t,function(t){var n=xe,r=ke;return function(o){var i,a,s;return n!==o&&(i=t,a=n=o,s=ve.get(a)||ve.set(a,$e(i,a)),r=s.updates(K.call(e,s.content,!0))),r.apply(null,arguments)}}(this)}var Xe=!(Ke.prototype={attribute:function(e,t,n){var r,o=Ue in e;if("style"===t)return _e(e,n,o);if("."===t.slice(0,1))return l=e,d=t.slice(1),o?function(e){try{l[d]=e}catch(t){l.setAttribute(d,e)}}:function(e){l[d]=e};if("?"===t.slice(0,1))return a=e,s=t.slice(1),function(e){c!==!!e&&((c=!!e)?a.setAttribute(s,""):a.removeAttribute(s))};if(/^on/.test(t)){var i=t.slice(2);return"connected"===i||"disconnected"===i?We(e):t.toLowerCase()in e&&(i=i.toLowerCase()),function(t){r!==t&&(r&&e.removeEventListener(i,r,!1),(r=t)&&e.addEventListener(i,t,!1))}}if("data"===t||!o&&t in e&&!Ve.test(t))return function(n){r!==n&&(r=n,e[t]!==n&&null==n?(e[t]="",e.removeAttribute(t)):e[t]=n)};if(t in O.attributes)return function(n){var o=O.attributes[t](e,n);r!==o&&(null==(r=o)?e.removeAttribute(t):e.setAttribute(t,o))};var a,s,c,l,d,u=!1,p=n.cloneNode(!0);return function(t){r!==t&&(r=t,p.value!==t&&(null==t?(u&&(u=!1,e.removeAttributeNode(p)),p.value=t):(p.value=t,u||(u=!0,e.setAttributeNode(p)))))}},any:function(e,t){var n,r={node:Oe,before:e},o=Ue in e?"svg":"html",i=!1;return function a(s){switch(typeof s){case"string":case"number":case"boolean":i?n!==s&&(n=s,t[0].textContent=s):(i=!0,n=s,t=h(e.parentNode,t,[(c=s,e.ownerDocument.createTextNode(c))],r));break;case"function":a(s(e));break;case"object":case"undefined":if(null==s){i=!1,t=h(e.parentNode,t,[],r);break}default:if(i=!1,P(n=s))if(0===s.length)t.length&&(t=h(e.parentNode,t,[],r));else switch(typeof s[0]){case"string":case"number":case"boolean":a({html:s});break;case"object":if(P(s[0])&&(s=s.concat.apply([],s)),je(s[0])){Promise.all(s).then(a);break}default:t=h(e.parentNode,t,s,r)}else"ELEMENT_NODE"in s?t=h(e.parentNode,t,11===s.nodeType?Ye.call(s.childNodes):[s],r):je(s)?s.then(a):"placeholder"in s?Pe(s,a):"text"in s?a(String(s.text)):"any"in s?a(s.any):"html"in s?t=h(e.parentNode,t,Ye.call(j([].concat(s.html).join(""),o).childNodes),r):a("length"in s?Ye.call(s):O.invoke(s,a))}var c}},text:function(e){var t;return function n(r){var o;t!==r&&("object"==(o=typeof(t=r))&&r?je(r)?r.then(n):"placeholder"in r?Pe(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?Ye.call(r).join(""):O.invoke(r,n)):"function"==o?n(r(e)):e.textContent=null==r?"":r)}}}),Ge=function(t){var r,o,i,a,s=(r=(e.defaultView.navigator||{}).userAgent,/(Firefox|Safari)\/(\d+)/.test(r)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(r)),c=!("raw"in t)||t.propertyIsEnumerable("raw")||!Object.isFrozen(t.raw);return s||c?(o={},i=function(e){for(var t=".",n=0;n<e.length;n++)t+=e[n].length+"."+e[n];return o[t]||(o[t]=e)},Ge=c?i:(a=new n,function(e){return a.get(e)||(n=i(t=e),a.set(t,n),n);var t,n})):Xe=!0,Ze(t)};function Ze(e){return Xe?e:Ge(e)}function Je(e){for(var t=arguments.length,n=[Ze(e)],r=1;r<t;)n.push(arguments[r++]);return n}var Qe=new n,et=function(e){var t,n,r;return function(){var o=Je.apply(null,arguments);return r!==o[0]?(r=o[0],n=new Ke(e),t=nt(n.apply(n,o))):n.apply(n,o),t}},tt=function(e,t){var n=t.indexOf(":"),r=Qe.get(e),o=t;return-1<n&&(o=t.slice(n+1),t=t.slice(0,n)||"html"),r||Qe.set(e,r={}),r[o]||(r[o]=et(t))},nt=function(e){var t=e.childNodes,n=t.length;return 1===n?t[0]:n?new Re(t):e},rt=new n;function ot(){var e=rt.get(this),t=Je.apply(null,arguments);return e&&e.template===t[0]?e.tagger.apply(null,t):function(e){var t=new Ke(Ue in this?"svg":"html");rt.set(this,{tagger:t,template:e}),this.textContent="",this.appendChild(t.apply(null,arguments))}.apply(this,t),this}var it,at,st,ct,lt=O.define,dt=Ke.prototype;function ut(e){return arguments.length<2?null==e?et("html"):"string"==typeof e?ut.wire(null,e):"raw"in e?et("html")(e):"nodeType"in e?ut.bind(e):tt(e,"html"):("raw"in e?et("html"):ut.wire).apply(null,arguments)}return ut.Component=v,ut.bind=function(e){return ot.bind(e)},ut.define=lt,ut.diff=h,(ut.hyper=ut).observe=We,ut.tagger=dt,ut.wire=function(e,t){return null==e?et(t||"html"):tt(e,t||"html")},ut._={WeakMap:n,WeakSet:d},it=et,at=new n,st=Object.create,ct=function(e,t){var n={w:null,p:null};return t.set(e,n),n},Object.defineProperties(v,{for:{configurable:!0,value:function(e,t){return function(e,t,r,o){var i,a,s,c=t.get(e)||ct(e,t);switch(typeof o){case"object":case"function":var l=c.w||(c.w=new n);return l.get(o)||(i=l,a=o,s=new e(r),i.set(a,s),s);default:var d=c.p||(c.p=st(null));return d[o]||(d[o]=new e(r))}}(this,at.get(e)||(r=e,o=new w,at.set(r,o),o),e,null==t?"default":t);var r,o}}}),Object.defineProperties(v.prototype,{handleEvent:{value:function(e){var t=e.currentTarget;this["getAttribute"in t&&t.getAttribute("data-call")||"on"+e.type](e)}},html:$("html",it),svg:$("svg",it),state:$("state",(function(){return this.defaultState})),defaultState:{get:function(){return{}}},dispatch:{value:function(e,t){var n=this._wire$;if(n){var r=new b(e,{bubbles:!0,cancelable:!0,detail:t});return r.component=this,(n.dispatchEvent?n:n.firstChild).dispatchEvent(r)}return!1}},setState:{value:function(e,t){var n=this.state,r="function"==typeof e?e.call(this,n):e;for(var o in r)n[o]=r[o];return!1!==t&&this.render(),this}}}),ut}(document);const Qe=Je,et=O,tt=Ye,nt=class{constructor(e){const{type:t,subtype:n,params:r}=function(e){if(e=e.trim(),!e)throw new TypeError("Invalid input.");let t="",n="",r="",o=null,i=new Map,a="type",s=Array.from(e);for(let e=0;e<s.length;e++){const c=s[e];switch(a){case"type":if("/"===c){a="subtype";continue}t+=c;break;case"subtype":if(";"===c){a="param-start";continue}n+=c;break;case"param-start":if(j.test(c)||";"===c)continue;r+=c,a="param-name";break;case"param-name":if("="===c||";"===c){if("="===c){a="param-value",o=null;continue}i.set(r.toLowerCase(),null),r="";continue}r+=c;break;case"param-value":if('"'==c){a="collect-quoted-string";continue}if(";"===c){o=o.trimEnd(),a="param-start",M(i,r,o),r="";continue}o="string"==typeof o?o+c:c;break;case"collect-quoted-string":if('"'===c){M(i,r,o),a="ignore-input-until-next-param",r="",o=null;continue}if("\\"===c)continue;o="string"==typeof o?o+c:c;break;case"ignore-input-until-next-param":if(";"!==c)continue;a="param-start";break;default:throw new Error(`State machine error - unknown parser mode: ${a} `)}}r&&M(i,r,o);if(""===t.trim()||!P.test(t))throw new TypeError("Invalid type");if(""===n.trim()||!P.test(n))throw new TypeError("Invalid subtype");return{type:t,subtype:n,params:Object.fromEntries(i.entries())}}(e);this.type=t.trim().toLowerCase(),this.subtype=n.trimEnd().toLowerCase(),this.parameters=new Map(Object.entries(r))}get essence(){return`${this.type}/${this.subtype}`}toString(){return function(e){const{parameters:t,essence:n}=e;if(!t.size)return n;let r=";";for(const[e,n]of t.entries())r+=e,null!==n?P.test(n)?r+=`=${n}`:r+=`="${n}"`:r+='=""',r+=";";return e.essence+r.slice(0,-1)}(this)}},rt=Ze,ot=/-/g,it=new Intl.DateTimeFormat(["sv-SE"],{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"});"en"===l||l.startsWith("en-");const at=".informative, .note, .issue, .example, .ednote, .practice, .introductory";function st(e){const t=new URL(e.href,document.baseURI),n=document.createElement("link");let{href:r}=t;switch(n.rel=e.hint,n.rel){case"dns-prefetch":case"preconnect":r=t.origin,(e.corsMode||t.origin!==document.location.origin)&&(n.crossOrigin=e.corsMode||"anonymous");break;case"preload":"as"in e&&n.setAttribute("as",e.as),e.corsMode&&(n.crossOrigin=e.corsMode)}return n.href=r,e.dontRemove||n.classList.add("removeOnSave"),n}function ct(e){e.querySelectorAll(".remove, script[data-requiremodule]").forEach((e=>{e.remove()}))}function lt(e,t="long"){const n=new Intl.ListFormat(l,{style:t,type:e});return(e,t)=>{let r=0;return n.formatToParts(e).map((({type:n,value:o})=>"element"===n&&t?t(o,r++,e):o))}}const dt=lt("conjunction"),ut=lt("disjunction");function pt(e,t){return dt(e,t).join("")}function ft(e,t){return ut(e,t).join("")}function ht(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/</g,"&lt;")}function mt(e){return e.trim().replace(/\s+/g," ")}function gt(e,t=l){return t=t.toLowerCase(),new Proxy(e,{get(e,n){const r=function(e,t,n=l){return n=n.toLowerCase(),e[n]?.[t]||e[n.match(/^(\w{2,3})-.+$/)?.[1]]?.[t]}(e,n,t)||e.en[n];if(!r)throw new Error(`No l10n data for key: "${n}"`);return r}})}function bt(e,t){const n=[].concat(t).map((t=>{const n=e.createElement("link");return n.rel="stylesheet",n.href=t,n})).reduce(((e,t)=>(e.appendChild(t),e)),e.createDocumentFragment());e.head.appendChild(n)}function yt(e,t,...n){const r=[this,e,...n];if(t){const n=t.split(/\s+/);for(const t of n){const n=window[t];if(n)try{e=n.apply(this,r)}catch(e){Ot(`call to \`${t}()\` failed with: ${e}.`,"utils/runTransforms",{hint:"See developer console for stack trace."}),console.error(e)}}}return e}function wt(e,t=(e=>e)){const n=e.map(t),r=n.slice(0,-1).map((e=>Qe`${e}, `));return Qe`${r}${n[n.length-1]}`}function vt(e,t="",n="",r=!1){if(e.id)return e.id;n||(n=(e.title?e.title:e.textContent).trim());let o=r?n:n.toLowerCase();if(o=o.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\W+/gim,"-").replace(/^-+/,"").replace(/-+$/,""),o?!/\.$/.test(o)&&/^[a-z]/i.test(t||o)||(o=`x${o}`):o="generatedID",t&&(o=`${t}-${o}`),e.ownerDocument.getElementById(o)){let t=0,n=`${o}-${t}`;for(;e.ownerDocument.getElementById(n);)t+=1,n=`${o}-${t}`;o=n}return e.id=o,o}function $t(e){const t=new Set,n="ltNodefault"in e.dataset?"":mt(e.textContent),r=e.children[0];if(e.dataset.lt?e.dataset.lt.split("|").map((e=>mt(e))).forEach((e=>t.add(e))):1===e.childNodes.length&&1===e.getElementsByTagName("abbr").length&&r.title?t.add(r.title):'""'===e.textContent&&t.add("the-empty-string"),t.add(n),t.delete(""),e.dataset.localLt){e.dataset.localLt.split("|").forEach((e=>t.add(mt(e))))}return[...t]}function xt(e,t,n={copyAttributes:!0}){if(e.localName===t)return e;const r=e.ownerDocument.createElement(t);if(n.copyAttributes)for(const{name:t,value:n}of e.attributes)r.setAttribute(t,n);return r.append(...e.childNodes),e.replaceWith(r),r}function kt(e,t){const n=t.closest(at);let r=!1;if(n&&(r=!t.closest(".normative")||!n.querySelector(".normative")),e.startsWith("!")){if(r)return{type:"informative",illegal:!0};r=!1}else e.startsWith("?")&&(r=!0);return{type:r?"informative":"normative",illegal:!1}}function Et(e,t){return t.append(...e.childNodes),e.appendChild(t),e}function At(e,t){const n=[];let r=e.parentElement;for(;r;){const e=r.closest(t);if(!e)break;n.push(e),r=e.parentElement}return n}function _t(e){const{previousSibling:t}=e;if(!t||t.nodeType!==Node.TEXT_NODE)return"";const n=t.textContent.lastIndexOf("\n");if(-1===n)return"";const r=t.textContent.slice(n+1);return/\S/.test(r)?"":r}class St extends Set{constructor(e=[]){super();for(const t of e)this.add(t)}add(e){return this.has(e)||this.getCanonicalKey(e)?this:super.add(e)}has(e){return super.has(e)||[...this.keys()].some((t=>t.toLowerCase()===e.toLowerCase()))}delete(e){return super.has(e)?super.delete(e):super.delete(this.getCanonicalKey(e))}getCanonicalKey(e){return super.has(e)?e:[...this.keys()].find((t=>t.toLowerCase()===e.toLowerCase()))}}function Ct(e){const t=e.cloneNode(!0);return t.querySelectorAll("[id]").forEach((e=>e.removeAttribute("id"))),t.querySelectorAll("dfn").forEach((e=>{xt(e,"span",{copyAttributes:!1})})),t.hasAttribute("id")&&t.removeAttribute("id"),Tt(t),t}function Tt(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT);for(const e of[...Lt(t)])e.remove()}function*Lt(e){for(;e.nextNode();)yield e.currentNode}class Rt extends Map{constructor(e=[]){return super(),e.forEach((([e,t])=>{this.set(e,t)})),this}set(e,t){return super.set(e.toLowerCase(),t),this}get(e){return super.get(e.toLowerCase())}has(e){return super.has(e.toLowerCase())}delete(e){return super.delete(e.toLowerCase())}}class Nt extends Error{constructor(e,t,n){super(e);const r=n.isWarning?"ReSpecWarning":"ReSpecError";Object.assign(this,{message:e,plugin:t,name:r,...n}),n.elements&&n.elements.forEach((t=>function(e,t,n){e.classList.add("respec-offending-element"),e.hasAttribute("title")||e.setAttribute("title",n||t),e.id||vt(e,"respec-offender")}(t,e,n.title)))}toJSON(){const{message:e,name:t,stack:n}=this,{plugin:r,hint:o,elements:i,title:a,details:s}=this;return{message:e,name:t,plugin:r,hint:o,elements:i,title:a,details:s,stack:n}}}function It(e,t,n={}){const r={...n,isWarning:!1};o("error",new Nt(e,t,r))}function Ot(e,t,n={}){const r={...n,isWarning:!0};o("warn",new Nt(e,t,r))}function Pt(e){return{showError:(t,n)=>It(t,e,n),showWarning:(t,n)=>Ot(t,e,n)}}function jt(e){return e?`\`${e}\``:""}function Dt(e,{quotes:t}={quotes:!1}){return pt(e,t?e=>jt(Mt(e)):jt)}function Mt(e){return String(e)?`"${e}"`:""}function zt(e,...t){return qt(e.map(((e,n)=>{const r=t[n];if(!r)return e;if(!r.startsWith("[")&&!r.endsWith("]"))return e+r;const[o,i]=r.slice(1,-1).split("|");if(i){return`${e}[${o}](${new URL(i,"https://respec.org/docs/")})`}return`${e}[\`${o}\`](https://respec.org/docs/#${o})`})).join(""))}function qt(e){if(!e)return e;const t=e.trimEnd().split("\n");for(;t.length&&!t[0].trim();)t.shift();const n=t.filter((e=>e.trim())).map((e=>e.search(/[^\s]/))),r=Math.min(...n);return t.map((e=>e.slice(r))).join("\n")}const Ft=new Map([["text/html","html"],["application/xml","xml"]]);function Ut(e,t=document){const n=Ft.get(e);if(!n){const t=[...Ft.values()].join(", ");throw new TypeError(`Invalid format: ${e}. Expected one of: ${t}.`)}const r=Bt(n,t);return`data:${e};charset=utf-8,${encodeURIComponent(r)}`}function Bt(e,t){const n=t.cloneNode(!0);!function(e){const{head:t,body:n,documentElement:r}=e;Tt(e),e.querySelectorAll(".removeOnSave, #toc-nav").forEach((e=>e.remove())),n.classList.remove("toc-sidebar"),ct(r);const i=e.createDocumentFragment(),a=e.querySelector("meta[name='viewport']");a&&t.firstChild!==a&&i.appendChild(a);let s=e.querySelector("meta[charset], meta[content*='charset=']");s||(s=Qe`<meta charset="utf-8" />`);i.appendChild(s);const c=`ReSpec ${window.respecVersion||"Developer Channel"}`,l=Qe`
    <meta name="generator" content="${c}" />
  `;i.appendChild(l),t.prepend(i),o("beforesave",r)}(n);let r="";if("xml"===e)r=(new XMLSerializer).serializeToString(n);else!function(e){e.querySelectorAll("style").forEach((e=>{e.innerHTML=`\n${e.innerHTML}\n`})),e.querySelectorAll("head > *").forEach((e=>{e.outerHTML=`\n${e.outerHTML}`}))}(n),n.doctype&&(r+=(new XMLSerializer).serializeToString(n.doctype)),r+=n.documentElement.outerHTML;return r}n("core/exporter",{rsDocToDataURL:Ut});class Ht{constructor(){this._respecDonePromise=new Promise((e=>{i("end-all",(()=>e()),{once:!0})})),this.errors=[],this.warnings=[],i("error",(e=>{console.error(e,e.toJSON()),this.errors.push(e)})),i("warn",(e=>{console.warn(e,e.toJSON()),this.warnings.push(e)}))}get version(){return window.respecVersion}get ready(){return this._respecDonePromise}async toHTML(){return Bt("html",document)}}const Wt="core/post-process";const Vt="core/pre-process";const Yt="core/base-runner";async function Kt(e){!function(){const e=new Ht;Object.defineProperty(document,"respec",{value:e})}(),o("start-all",respecConfig),function(e){const t={},n=e=>Object.assign(t,e);n(e),i("amend-user-config",n),i("end-all",(()=>{const e=document.createElement("script");e.id="initialUserConfig",e.type="application/json";for(const e of a)e in t&&delete t[e];e.innerHTML=JSON.stringify(t,null,2),document.head.appendChild(e)}))}(respecConfig),function(e){const t=new URLSearchParams(document.location.search),n=Array.from(t).filter((([e,t])=>!!e&&!!t)).map((([e,t])=>{const n=decodeURIComponent(e),r=decodeURIComponent(t.replace(/%3D/g,"="));let o;try{o=JSON.parse(r)}catch{o=r}return[n,o]})),r=Object.fromEntries(n);Object.assign(e,r),o("amend-user-config",r)}(respecConfig),performance.mark(`${Yt}-start`),await async function(e){if(Array.isArray(e.preProcess)){const t=e.preProcess.filter((e=>{const t="function"==typeof e;return t||It("Every item in `preProcess` must be a JS function.",Vt),t})).map((async(t,n)=>{const r=Pt(`${Vt}/${t.name||`[${n}]`}`);try{return await t(e,document,r)}catch(e){It(`Function ${t.name} threw an error during \`preProcess\`.`,Vt,{hint:"See developer console."}),console.error(e)}}));await Promise.all(t)}}(respecConfig);const t=e.filter((e=>{return(t=e)&&(t.run||t.Plugin);var t}));t.forEach((e=>!e.name&&console.warn("Plugin lacks name:",e))),await async function(e,t){for(const n of e.filter((e=>e.prepare)))try{await n.prepare(t)}catch(e){console.error(e)}}(t,respecConfig),await async function(e,t){for(const n of e){const e=n.name||"";try{await new Promise((async(r,o)=>{const i=setTimeout((()=>{const t=`Plugin ${e} took too long.`;console.error(t,n),o(new Error(t))}),15e3);performance.mark(`${e}-start`);try{n.Plugin?(await new n.Plugin(t).run(),r()):n.run&&(await n.run(t),r())}catch(e){o(e)}finally{clearTimeout(i),performance.mark(`${e}-end`),performance.measure(e,`${e}-start`,`${e}-end`)}}))}catch(e){console.error(e)}}}(t,respecConfig),o("plugins-done",respecConfig),await async function(e){if(Array.isArray(e.postProcess)){const t=e.postProcess.filter((e=>{const t="function"==typeof e;return t||It("Every item in `postProcess` must be a JS function.",Wt),t})).map((async(t,n)=>{const r=Pt(`${Wt}/${t.name||`[${n}]`}`);try{return await t(e,document,r)}catch(e){It(`Function ${t.name} threw an error during \`postProcess\`.`,Wt,{hint:"See developer console."}),console.error(e)}}));await Promise.all(t)}"function"==typeof e.afterEnd&&await e.afterEnd(e,document)}(respecConfig),o("end-all"),ct(document),performance.mark(`${Yt}-end`),performance.measure(Yt,`${Yt}-start`,`${Yt}-end`)}var Xt=String.raw`.respec-modal .close-button{position:absolute;z-index:inherit;padding:.2em;font-weight:700;cursor:pointer;margin-left:5px;border:none;background:0 0}
#respec-ui{position:fixed;display:flex;flex-direction:row-reverse;top:20px;right:20px;width:202px;text-align:right;z-index:9000}
#respec-pill,.respec-info-button{height:2.4em;background:#fff;background:var(--bg,#fff);color:#787878;color:var(--tocnav-normal-text,#787878);border:1px solid #ccc;box-shadow:1px 1px 8px 0 rgba(100,100,100,.5);box-shadow:1px 1px 8px 0 var(--tocsidebar-shadow,rgba(100,100,100,.5));padding:.2em 0}
.respec-info-button{border:none;opacity:.75;border-radius:2em;margin-right:1em;min-width:3.5em;will-change:opacity}
.respec-info-button:focus,.respec-info-button:hover{opacity:1;transition:opacity .2s}
#respec-pill{width:4.8em}
#respec-pill:not(:disabled){animation:respec-fadein .6s ease-in-out}
@keyframes respec-fadein{
from{margin-top:-1.2em;border-radius:50%;border:.2em solid rgba(100,100,100,.5);box-shadow:none;height:4.8em}
to{margin-top:0;border:1px solid #ccc;border-radius:0;box-shadow:1px 1px 8px 0 rgba(100,100,100,.5);height:2.4em}
}
#respec-pill:disabled{margin-top:-1.2em;position:relative;border:none;box-shadow:none;border-radius:50%;width:4.8em;height:4.8em;padding:0}
#respec-pill:disabled::after{position:absolute;content:'';inset:-.2em;border-radius:50%;border:.2em solid rgba(100,100,100,.5);border-left:.2em solid transparent;animation:respec-spin .5s infinite linear}
@media (prefers-reduced-motion){
#respec-pill:not(:disabled){animation:none}
#respec-pill:disabled::after{animation:none;border-left:.2em solid rgba(100,100,100,.5)}
}
@keyframes respec-spin{
0%{transform:rotate(0)}
100%{transform:rotate(360deg)}
}
.respec-hidden{visibility:hidden;opacity:0;transition:visibility 0s .2s,opacity .2s linear}
.respec-visible{visibility:visible;opacity:1;transition:opacity .2s linear}
#respec-pill:focus,#respec-pill:hover{color:#000;background-color:#f5f5f5;transition:color .2s}
#respec-menu{position:absolute;margin:0;padding:0;font-family:sans-serif;background:var(--bg,#fff);color:var(--text,#000);box-shadow:1px 1px 8px 0 rgba(100,100,100,.5);width:200px;display:none;text-align:left;margin-top:32px;font-size:.8em}
#respec-menu:not([hidden]){display:block}
#respec-menu li{list-style-type:none;margin:0;padding:0}
.respec-save-buttons{display:grid;grid-template-columns:repeat(auto-fill,minmax(47%,2fr));grid-gap:.5cm;padding:.5cm}
.respec-save-button:link{padding-top:16px;color:var(--def-text,#fff);background:var(--def-bg,#2a5aa8);justify-self:stretch;height:1cm;text-decoration:none;text-align:center;font-size:inherit;border:none;border-radius:.2cm}
.respec-save-button:link:hover{color:var(--def-text,#fff);background:var(--defrow-border,#2a5aa8);padding:0;margin:0;border:0;padding-top:16px}
.respec-save-button:link:focus{background:var(--tocnav-active-bg,#193766);color:var(--tocnav-active-text,#000)}
#respec-pill:focus,#respec-ui button:focus,.respec-option:focus{outline:0;outline-style:none}
#respec-pill-error{background-color:red;color:#fff}
#respec-pill-warning{background-color:orange;color:#fff}
.respec-error-list,.respec-warning-list{margin:0;padding:0;font-family:sans-serif;font-size:.85em}
.respec-warning-list{background-color:#fffbe6}
:is(.respec-warning-list,.respec-error-list)>li{list-style-type:none;margin:0;padding:.5em 0;padding-left:2em;padding-right:.5em}
:is(.respec-warning-list,.respec-error-list)>li+li{margin-top:.5rem}
:is(.respec-warning-list,.respec-error-list)>li:before{position:absolute;left:.4em}
:is(.respec-warning-list,.respec-error-list) p{padding:0;margin:0}
.respec-warning-list>li{color:#5c3b00;border-bottom:thin solid #fff5c2}
.respec-error-list,.respec-error-list li{background-color:#fff0f0}
.respec-warning-list>li::before{content:"⚠️"}
.respec-error-list>li::before{content:"💥"}
.respec-error-list>li{color:#5c3b00;border-bottom:thin solid #ffd7d7}
:is(.respec-warning-list,.respec-error-list)>li li{list-style:disc}
#respec-overlay{display:block;position:fixed;z-index:10000;top:0;left:0;height:100%;width:100%;background:#000}
.respec-show-overlay{transition:opacity .2s linear;opacity:.5}
.respec-hide-overlay{transition:opacity .2s linear;opacity:0}
.respec-modal{display:block;position:fixed;z-index:11000;top:10%;background:var(--bg,#fff);color:var(--text,#000);border:5px solid #666;border-color:var(--tocsidebar-shadow,#666);min-width:20%;padding:0;max-height:80%;overflow-y:auto;margin:0 -.5cm;left:20%;max-width:75%;min-width:60%}
.respec-modal h3{margin:0;padding:.2em;left:0!important;text-align:center;background:var(--tocsidebar-shadow,#ddd);color:var(--text,#000);font-size:1em}
#respec-menu button.respec-option{background:var(--bg,#fff);color:var(--text,#000);border:none;width:100%;text-align:left;font-size:inherit;padding:1.2em 1.2em}
#respec-menu button.respec-option:hover{background-color:var(--tocnav-hover-bg,#eee);color:var(--tocnav-hover-text,#000)}
.respec-cmd-icon{padding-right:.5em}
#respec-ui button.respec-option:first-child{margin-top:0}
#respec-ui button.respec-option:last-child{border:none;border-radius:inherit;margin-bottom:0}
.respec-button-copy-paste{position:absolute;height:28px;width:40px;cursor:pointer;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #90b8de;border-left:0;border-radius:0 0 3px 0;-webkit-user-select:none;user-select:none;-webkit-appearance:none;top:0;left:127px}
@media print{
#respec-ui{display:none}
}
.respec-iframe{width:100%;min-height:550px;height:100%;overflow:hidden;padding:0;margin:0;border:0}
.respec-iframe:not(.ready){background:url(https://respec.org/xref/loader.gif) no-repeat center}
.respec-iframe+a[href]{font-size:.9rem;float:right;margin:0 .5em .5em;border-bottom-width:1px}
p:is(.respec-hint,.respec-occurrences){display:block;margin-top:.5em}
.respec-plugin{text-align:right;color:rgb(120,120,120,.5);font-size:.6em}`;const Gt=/&gt;/gm,Zt=/&amp;/gm;class Jt extends tt.Renderer{code(e,t,n){const{language:r,...o}=Jt.parseInfoString(t);if(/(^webidl$)/i.test(r))return`<pre class="idl">${e}</pre>`;const i=super.code(e,r,n).replace('class="language-','class="'),{example:a,illegalExample:s}=o;if(!a&&!s)return i;const c=a||s,l=`${r} ${a?"example":"illegal-example"}`;return i.replace("<pre>",`<pre title="${c}" class="${l}">`)}image(e,t,n){if(!t)return super.image(e,t,n);return String.raw`
      <figure>
        <img src="${e}" alt="${n}" />
        <figcaption>${t}</figcaption>
      </figure>
    `}static parseInfoString(e){const t=e.search(/\s/);if(-1===t)return{language:e};const n=e.slice(0,t),r=e.slice(t+1);let o;if(r)try{o=JSON.parse(`{ ${r} }`)}catch(e){console.error(e)}return{language:n,...o}}heading(e,t,n){const r=/(.+)\s+{#([\w-]+)}$/;if(r.test(e)){const[,n,o]=e.match(r);return`<h${t} id="${o}">${n}</h${t}>`}return super.heading(e,t,n)}}const Qt={gfm:!0,renderer:new Jt};function en(e,t={inline:!1}){const n=qt(e).replace(Gt,">").replace(Zt,"&");return t.inline?tt.parseInline(n,Qt):tt.parse(n,Qt)}function tn(e){for(const t of e.getElementsByTagName("pre"))t.prepend("\n");e.innerHTML=en(e.innerHTML)}const nn=(rn="[data-format='markdown']:not(body)",e=>{const t=e.querySelectorAll(rn);return t.forEach(tn),Array.from(t)});var rn;var on=Object.freeze({__proto__:null,markdownToHtml:en,name:"core/markdown",run:function(e){const t=!!document.querySelector("[data-format=markdown]:not(body)"),n="markdown"===e.format;if(!n&&!t)return;if(!n)return void nn(document.body);const r=document.getElementById("respec-ui");r.remove();const o=document.body.cloneNode(!0);var i;!function(e,t){const n=e.querySelectorAll(t);for(const e of n){const{innerHTML:t}=e;if(/^<\w/.test(t.trimStart()))continue;const n=t.split("\n"),r=n.slice(0,2).join("\n"),o=n.slice(-2).join("\n");if(r.trim()&&e.prepend("\n\n"),o.trim()){const t=_t(e);e.append(`\n\n${t}`)}}}(o,"[data-format=markdown], section, div, address, article, aside, figure, header, main"),tn(o),i=o.querySelectorAll(".nolinks a[href]"),Array.from(i).forEach((e=>{e.replaceWith(e.textContent)})),o.append(r),document.body.replaceWith(o)}});function an(e,t){e&&Array.from(t).forEach((([t,n])=>{e.setAttribute(`aria-${t}`,n)}))}!function(){const e=document.createElement("style");e.id="respec-ui-styles",e.textContent=Xt,e.classList.add("removeOnSave"),document.head.appendChild(e)}();const sn=Qe`<div id="respec-ui" class="removeOnSave" hidden></div>`,cn=Qe`<ul
  id="respec-menu"
  role="menu"
  aria-labelledby="respec-pill"
  hidden
></ul>`,ln=Qe`<button
  class="close-button"
  onclick=${()=>vn.closeModal()}
  title="Close"
>
  ❌
</button>`;let dn,un;window.addEventListener("load",(()=>bn(cn)));const pn=[],fn=[],hn={};i("start-all",(()=>document.body.prepend(sn)),{once:!0}),i("end-all",(()=>document.body.prepend(sn)),{once:!0});const mn=Qe`<button id="respec-pill" disabled>ReSpec</button>`;function gn(){cn.classList.toggle("respec-hidden"),cn.classList.toggle("respec-visible"),cn.hidden=!cn.hidden}function bn(e){const t=e.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled])"),n=t[0],r=t[t.length-1];n&&n.focus(),e.addEventListener("keydown",(e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(r.focus(),e.preventDefault()):document.activeElement===r&&(n.focus(),e.preventDefault()))}))}sn.appendChild(mn),mn.addEventListener("click",(e=>{e.stopPropagation(),mn.setAttribute("aria-expanded",String(cn.hidden)),gn(),cn.querySelector("li:first-child button").focus()})),document.documentElement.addEventListener("click",(()=>{cn.hidden||gn()})),sn.appendChild(cn),cn.addEventListener("keydown",(e=>{"Escape"!==e.key||cn.hidden||(mn.setAttribute("aria-expanded",String(cn.hidden)),gn(),mn.focus())}));const yn=new Map([["controls","respec-menu"],["expanded","false"],["haspopup","true"],["label","ReSpec Menu"]]);function wn(e,t,n,r){t.push(e),hn.hasOwnProperty(n)||(hn[n]=function(e,t,n){const r=`respec-pill-${e}`,o=Qe`<button
    id="${r}"
    class="respec-info-button"
  ></button>`;o.addEventListener("click",(()=>{o.setAttribute("aria-expanded","true");const r=Qe`<ol class="${`respec-${e}-list`}"></ol>`;for(const e of t){const t=document.createRange().createContextualFragment($n(e)),n=document.createElement("li");t.firstElementChild===t.lastElementChild?n.append(...t.firstElementChild.childNodes):n.appendChild(t),r.appendChild(n)}vn.freshModal(n,r,o)}));const i=new Map([["expanded","false"],["haspopup","true"],["controls",`respec-pill-${e}-modal`]]);return an(o,i),o}(n,t,r),sn.appendChild(hn[n]));const o=hn[n];o.textContent=t.length;const i=1===t.length?rt.singular(r):r;an(o,new Map([["label",`${t.length} ${i}`]]))}an(mn,yn);const vn={show(){try{sn.hidden=!1}catch(e){console.error(e)}},hide(){sn.hidden=!0},enable(){mn.removeAttribute("disabled")},addCommand(e,t,n,r){r=r||"";const o=`respec-button-${e.toLowerCase().replace(/\s+/,"-")}`,i=Qe`<button id="${o}" class="respec-option">
      <span class="respec-cmd-icon" aria-hidden="true">${r}</span> ${e}…
    </button>`,a=Qe`<li role="menuitem">${i}</li>`;return a.addEventListener("click",t),cn.appendChild(a),i},error(e){wn(e,pn,"error","ReSpec Errors")},warning(e){wn(e,fn,"warning","ReSpec Warnings")},closeModal(e){un&&(un.classList.remove("respec-show-overlay"),un.classList.add("respec-hide-overlay"),un.addEventListener("transitionend",(()=>{un.remove(),un=null}))),e&&e.setAttribute("aria-expanded","false"),dn&&(dn.remove(),dn=null,mn.focus())},freshModal(e,t,n){dn&&dn.remove(),un&&un.remove(),un=Qe`<div id="respec-overlay" class="removeOnSave"></div>`;const r=`${n.id}-modal`,o=`${r}-heading`;dn=Qe`<div
      id="${r}"
      class="respec-modal removeOnSave"
      role="dialog"
      aria-labelledby="${o}"
    >
      ${ln}
      <h3 id="${o}">${e}</h3>
      <div class="inside">${t}</div>
    </div>`;const i=new Map([["labelledby",o]]);an(dn,i),document.body.append(un,dn),un.addEventListener("click",(()=>this.closeModal(n))),un.classList.toggle("respec-show-overlay"),dn.hidden=!1,bn(dn)}};function $n(e){if("string"==typeof e)return e;const t=e.plugin?`<p class="respec-plugin">(plugin: "${e.plugin}")</p>`:"",n=e.hint?`\n${en(`<p class="respec-hint"><strong>How to fix:</strong> ${qt(e.hint)}`,{inline:!e.hint.includes("\n")})}\n`:"",r=Array.isArray(e.elements)?`<p class="respec-occurrences">Occurred <strong>${e.elements.length}</strong> times at:</p>\n    ${en(e.elements.map(xn).join("\n"))}`:"",o=e.details?`\n\n<details>\n${e.details}\n</details>\n`:"";return`${en(`**${ht(e.message)}**`,{inline:!0})}${n}${r}${o}${t}`}function xn(e){return`* [\`<${e.localName}>\`](#${e.id}) element`}async function kn(e){try{vn.show(),await async function(){"loading"===document.readyState&&await new Promise((e=>document.addEventListener("DOMContentLoaded",e)))}(),await Kt(e)}finally{vn.enable()}}document.addEventListener("keydown",(e=>{"Escape"===e.key&&vn.closeModal()})),window.respecUI=vn,i("error",(e=>vn.error(e))),i("warn",(e=>vn.warning(e))),window.addEventListener("error",(e=>{console.error(e.error,e.message,e)}));const En=[Promise.resolve().then((function(){return An})),Promise.resolve().then((function(){return d})),Promise.resolve().then((function(){return Cn})),Promise.resolve().then((function(){return Rn})),Promise.resolve().then((function(){return On})),Promise.resolve().then((function(){return Dn})),Promise.resolve().then((function(){return Mn})),Promise.resolve().then((function(){return Fn})),Promise.resolve().then((function(){return Yn})),Promise.resolve().then((function(){return Qn})),Promise.resolve().then((function(){return zr})),Promise.resolve().then((function(){return Hr})),Promise.resolve().then((function(){return on})),Promise.resolve().then((function(){return Wr})),Promise.resolve().then((function(){return Vr})),Promise.resolve().then((function(){return eo})),Promise.resolve().then((function(){return no})),Promise.resolve().then((function(){return oo})),Promise.resolve().then((function(){return io})),Promise.resolve().then((function(){return co})),Promise.resolve().then((function(){return uo})),Promise.resolve().then((function(){return vi})),Promise.resolve().then((function(){return Ei})),Promise.resolve().then((function(){return Oi})),Promise.resolve().then((function(){return Pi})),Promise.resolve().then((function(){return zi})),Promise.resolve().then((function(){return Hi})),Promise.resolve().then((function(){return Wi})),Promise.resolve().then((function(){return Gi})),Promise.resolve().then((function(){return Qi})),Promise.resolve().then((function(){return ta})),Promise.resolve().then((function(){return Fo})),Promise.resolve().then((function(){return va})),Promise.resolve().then((function(){return Pa})),Promise.resolve().then((function(){return ua})),Promise.resolve().then((function(){return Jo})),Promise.resolve().then((function(){return Ka})),Promise.resolve().then((function(){return Xa})),Promise.resolve().then((function(){return Ga})),Promise.resolve().then((function(){return os})),Promise.resolve().then((function(){return as})),Promise.resolve().then((function(){return no})),Promise.resolve().then((function(){return ps})),Promise.resolve().then((function(){return $s})),Promise.resolve().then((function(){return Ts})),Promise.resolve().then((function(){return Is})),Promise.resolve().then((function(){return Ds})),Promise.resolve().then((function(){return Bs})),Promise.resolve().then((function(){return Hs})),Promise.resolve().then((function(){return Ws})),Promise.resolve().then((function(){return Js})),Promise.resolve().then((function(){return ic})),Promise.resolve().then((function(){return dc})),Promise.resolve().then((function(){return gc})),Promise.resolve().then((function(){return wc})),Promise.resolve().then((function(){return $c})),Promise.resolve().then((function(){return kc})),Promise.resolve().then((function(){return Rc})),Promise.resolve().then((function(){return jc})),Promise.resolve().then((function(){return Dc})),Promise.resolve().then((function(){return Mc})),Promise.resolve().then((function(){return zc})),Promise.resolve().then((function(){return qc})),Promise.resolve().then((function(){return Fc})),Promise.resolve().then((function(){return Uc})),Promise.resolve().then((function(){return Wc})),Promise.resolve().then((function(){return Xc})),Promise.resolve().then((function(){return Jc})),Promise.resolve().then((function(){return nl})),Promise.resolve().then((function(){return il})),Promise.resolve().then((function(){return cl})),Promise.resolve().then((function(){return ul})),Promise.resolve().then((function(){return hl})),Promise.resolve().then((function(){return bl})),Promise.resolve().then((function(){return $l}))];Promise.all(En).then((e=>kn(e))).catch((e=>console.error(e)));var An=Object.freeze({__proto__:null,name:"core/location-hash",run:function(){window.location.hash&&document.respec.ready.then((()=>{let e=decodeURIComponent(window.location.hash).slice(1);const t=document.getElementById(e),n=/\W/.test(e);if(!t&&n){const t=e.replace(/[\W]+/gim,"-").replace(/^-+/,"").replace(/-+$/,"");document.getElementById(t)&&(e=t)}window.location.hash=`#${e}`}))}});const _n={lint:{"no-headingless-sections":!0,"no-http-props":!0,"no-unused-vars":!1,"check-punctuation":!1,"local-refs-exist":!0,"check-internal-slots":!1,"check-charset":!1,"privsec-section":!1},pluralize:!0,specStatus:"base",highlightVars:!0,addSectionLinks:!0},Sn={};var Cn=Object.freeze({__proto__:null,name:"1edtech/defaults",run:function(e){const t=!1!==e.lint&&{..._n.lint,...Sn.lint,...e.lint};Object.assign(e,{..._n,...Sn,...e,lint:t})}});var Tn=String.raw`@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}`;const Ln=function(){const e=document.createElement("style");return e.id="respec-mainstyle",e.textContent=Tn,document.head.appendChild(e),e}();var Rn=Object.freeze({__proto__:null,name:"core/style",run:function(e){e.noReSpecCSS&&Ln.remove()}});var Nn=String.raw`@charset "UTF-8";
@import url(https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Source+Code+Pro);
:root{--fgclr1:rgba(0, 0, 0, 1);--fgclr2:rgba(0, 90, 156, 1);--fgclr3:rgba(70, 130, 180, 1);--fgclr4:rgba(40, 100, 150, 1);--gray:rgba(200, 200, 200, 0.9);--lightgray:rgba(240, 240, 240, 1);--lightestgray:rgba(250, 250, 250, 0.8);--darkgray:rgba(180, 180, 180, 1)}
body{font-family:Roboto,Arial,Helvetica,sans-serif}
code,pre,samp{font-family:'Source Code Pro',monospace}
header{border-bottom:2px solid var(--gray);padding-bottom:2em}
.header-top{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}
a#ims-logo,a#logo{text-decoration:none;border:0}
h1.title{font-size:200%}
div.subtitle{font-size:150%;color:var(--fgclr2)}
#cpr{margin-bottom:1.5em;margin-top:2.5em}
#cpr p{margin-top:0;margin-bottom:0}
.statusPD{position:fixed;display:block;top:0;left:0;width:300px;height:30px;text-align:right;padding-top:2px;padding-right:2em;background-color:red;color:#fff;font-size:20px;transform-origin:left top;transform:rotate(-90deg) translate(-100%,0);-ms-transform-origin:left top;-ms-transform:rotate(90deg);-webkit-transform-origin:left top;-webkit-transform:rotate(-90deg) translate(-100%,0);-moz-transform-origin:left top;-moz-transform:rotate(-90deg) translate(-100%,0);-o-transform-origin:left top;-o-transform:rotate(-90deg) translate(-100%,0);z-index:12000}
.statusPD.final{background-color:#00f}
dt,h1,h2,h3,h4,h5,h6{page-break-after:avoid;page-break-inside:avoid;font:100% sans-serif;font-family:inherit;line-height:1.2;-webkit-hyphens:manual;-ms-hyphens:manual;hyphens:manual}
h2,h3,h4,h5,h6{margin-top:3rem}
h1,h2,h3,h4{color:var(--fgclr4);background:0 0}
h1{font-size:170%}
h2{font-size:140%}
h3{font-size:120%}
h4{font-weight:700}
h5{font-style:italic}
h6{font-variant:small-caps}
dt{font-weight:700}
a[href].internalDFN{color:var(--fgclr1);text-decoration:none;border-bottom:1px var(--fgclr2) dotted}
a[href]:focus,a[href]:hover{background:var(--lightgray)}
a[href]:active{color:#c00;border-color:#c00}
.example{border:1px solid var(--darkgray);counter-increment:example}
.example figcaption{background-color:var(--fgclr3);color:#fff}
section#revisionhistory table{margin-bottom:3em}
div#endWarranty p{margin-top:.3em;margin-bottom:.3em}
div#endWarranty{margin-top:6em;padding-top:3em;border-top:2px solid var(--gray);text-align:center}
table{border-collapse:collapse;word-wrap:normal;overflow-wrap:normal;-webkit-hyphens:manual;-ms-hyphens:manual;hyphens:manual;width:100%;margin-top:1.5em;margin-bottom:1.5em;max-width:50em;border:1px solid var(--gray)}
td,th{padding-left:1em;padding-right:1em;padding-left:1em;padding-right:1em;text-align:left;text-align:start;vertical-align:top;border:1px solid var(--gray)}
th{font-weight:700;background-color:var(--fgclr3);color:var(--lightgray);padding:.6em}
td{padding:.8em}
th>*{padding:0;margin:0}
table#no-cell-borders,table#version-table{border:1px solid var(--gray)}
table#no-cell-borders td,table#version-table td{border:none}
table#version-table td{padding:.2em}
td code,td.pre{white-space:pre;overflow:scroll}
table.index{font-size:small;border-collapse:collapse;border-spacing:0;text-align:left;margin:1em 0}
table.index td,table.index th{padding:.4em}
table.index tr:hover td:not([rowspan]),table.index tr:hover th:not([rowspan]){background:#f7f8f9}
table.index th:first-child a{font-weight:700}
.alert{border:2px solid red;padding:.3em}
dt>dfn{font-weight:700}
a[href].hidden-reveal::before{content:"›"}
h2>a[href].self-link::before,h3>a[href].self-link::before,h4>a[href].self-link::before,h5>a[href].self-link::before,h6>a[href].self-link::before{content:"›"}
a[href].hidden-reveal,a[href].hidden-reveal:visited{text-decoration:none;border-bottom:none}
.admonition{margin-top:1em;margin-bottom:1em;margin:1em 0;border-left-width:.5em;border-left-style:solid;padding:.5em 1.2em .5em;position:relative;clear:both}
.admonition .admon-top{padding-right:1em;min-width:7.5em;color:#e05252;text-transform:uppercase}
.admonition .ednote-title,.admonition .note-title{color:#2b2}
.admonition .ednote-title,.admonition .warning-title{color:#f22}
.admonition.issue{border-color:#e05252;background:#fbe9e9;counter-increment:issue;overflow:auto}
.admonition.ednote,.admonition.note{border-color:#52e052;background:#e9fbe9}
.admonition>p:first-child{margin-top:0}
.admonition.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9;padding-top:1em}
.admonition .warning-title:before{content:"⚠";font-size:3em;float:left;height:100%;padding-right:.3em;vertical-align:top;margin-top:-.5em}
body{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;color:var(--fgclr1)}
.figure,.sidefigure,figure{text-align:left}
.figure img,.figure pre,.sidefigure img,.sidefigure pre,figure img,figure pre{display:unset}
.caption,caption,figcaption{display:block;padding:.5em 0 .5em .5em}`;function In(){const e=document.createElement("meta");e.name="viewport";e.content=function(e,t=", ",n="="){return Array.from(Object.entries(e)).map((([e,t])=>`${e}${n}${JSON.stringify(t)}`)).join(t)}({width:"device-width","initial-scale":"1","shrink-to-fit":"no"}).replace(/"/g,""),document.head.insertBefore(e,document.head.firstChild)}var On=Object.freeze({__proto__:null,name:"1edtech/style",run:async function(e){if(In(),bt(document,"https://www.w3.org/StyleSheets/TR/2016/base.css"),e.overrideCSSLocation){const t=e.overrideCSSLocation;bt(document,t)}else{const e=document.createElement("style");e.textContent=Nn,document.head.appendChild(e)}}});const Pn="1edtech/config";function jn(e){return null!=e&&e.trim().length>0}var Dn=Object.freeze({__proto__:null,name:Pn,run:async function(e){if(jn(e.specTitle)||(It("head config must have the <code>specTitle</code> property set: title of the document, excluding version",Pn),e.specTitle="@@@FIXME (conf.specTitle)"),jn(e.docVersion)||(It("head config must have the <code>docVersion</code> property set, e.g. 'June 28, 2019'",Pn),e.docVersion="@@@FIXME (conf.docVersion)"),jn(e.specDate)||("Base Document"===e.specStatus?e.specDate=it.format(new Date):(It("head config must have the <code>specDate</code> property set, e.g. 'June 28, 2019'",Pn),e.specDate="@@@FIXME(conf.specDate)")),jn(e.specNature)||(It("head config must have the <code>specNature</code> property set: one of 'normative' or 'informative'",Pn),e.specNature="informative"),jn(e.specType)||(It("head config must have the <code>specType</code> property set: One of 'spec', 'cert', 'impl', 'errata', 'doc' ",Pn),e.specType="spec"),"doc"===e.specType||"proposal"===e.specType)return;jn(e.shortName)||(It("head config must have the <code>shortName</code> property set: list at urls-names.md#shortnames",Pn),e.shortName="FIXME"),jn(e.specStatus)||(It("head config must have the <code>specStatus</code> property set to one of 'Base Document', 'Candidate Final', Candidate Final Public', or 'Final Release'",Pn),e.specStatus="@@@FIXME(conf.specStatus)"),-1==["Base Document","Candidate Final","Candidate Final Public","Final Release","Proposal"].indexOf(e.specStatus)&&It("head config must have the <code>specStatus</code> property set to one of 'Base Document', 'Candidate Final', 'Candidate Final Public', 'Final Release', or 'Proposal'",Pn),jn(e.specVersion)||(It("head config must have the <code>specVersion</code> property set, e.g. '1.1'",Pn),e.specVersion="@@@FIXME(conf.specVersion)")}});var Mn=Object.freeze({__proto__:null,name:"1edtech/compute",run:async function(e){const t=`https://www.imsglobal.org/spec/${e.shortName}/`;e.versionURL=`v${e.specVersion}`.replace(".","p"),e.thisURL=`${t}${e.versionURL}/`,e.errataURL=`${e.thisURL}errata/`,"spec"!==e.specType&&(e.thisURL=`${e.thisURL}${e.specType}/`),e.latestURI=`${t}latest/`,"spec"!==e.specType&&(e.latestURI=`${e.latestURI}${e.specType}/`),e.mainSpecURL=`${t}${e.versionURL}/`}});function zn(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes}function qn(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]}var Fn=Object.freeze({__proto__:null,name:"1edtech/transclude",run:async function(){let e=document.querySelector("script.transclude");for(;null!==e;){if(!e.hasAttribute("data-id")){o("error","transclude script element without data-id attribute");break}const t=window[e.getAttribute("data-id")];if(void 0===t||"string"!=typeof t){o("error",`no transclude variable named '${t}' found in global scope`);break}const n=zn(t);for(let t=0;t<n.length;t++){const r=n[t].cloneNode(!0);e.parentNode.insertBefore(r,e)}e.parentNode.removeChild(e),e=document.querySelector("script.transclude")}}});const Un="core/github";let Bn,Hn;const Wn=new Promise(((e,t)=>{Bn=e,Hn=e=>{It(e,Un),t(new Error(e))}})),Vn=gt({en:{file_a_bug:"File an issue",participate:"Participate:",commit_history:"Commit history"},ko:{participate:"참여"},zh:{file_a_bug:"反馈错误",participate:"参与："},ja:{commit_history:"変更履歴",file_a_bug:"問題報告",participate:"参加方法："},nl:{commit_history:"Revisiehistorie",file_a_bug:"Dien een melding in",participate:"Doe mee:"},es:{commit_history:"Historia de cambios",file_a_bug:"Nota un bug",participate:"Participe:"},de:{commit_history:"Revisionen",file_a_bug:"Fehler melden",participate:"Mitmachen:"}});var Yn=Object.freeze({__proto__:null,github:Wn,name:Un,run:async function(e){if(!e.hasOwnProperty("github")||!e.github)return void Bn(null);if("object"==typeof e.github&&!e.github.hasOwnProperty("repoURL")){const e=zt`Config option ${"[github]"} is missing property \`repoURL\`.`;return void Hn(e)}let t,n=e.github.repoURL||e.github;n.endsWith("/")||(n+="/");try{t=new URL(n,"https://github.com")}catch{const e=zt`${"[github]"} configuration option is not a valid URL? (${n}).`;return void Hn(e)}if("https://github.com"!==t.origin){const e=zt`${"[github]"} configuration option must be HTTPS and pointing to GitHub. (${t.href}).`;return void Hn(e)}const[r,o]=t.pathname.split("/").filter((e=>e));if(!r||!o){const e=zt`${"[github]"} URL needs a path. For example, "w3c/my-spec".`;return void Hn(e)}const i=e.github.branch||"gh-pages",a=new URL("./issues/",t).href,s=new URL(`./commits/${e.github.branch??""}`,t.href),c={edDraftURI:`https://${r.toLowerCase()}.github.io/${o}/`,githubToken:void 0,githubUser:void 0,issueBase:a,atRiskBase:a,otherLinks:[],pullBase:new URL("./pulls/",t).href,shortName:o};let l="https://respec.org/github";if(e.githubAPI)if(new URL(e.githubAPI).hostname===window.parent.location.hostname)l=e.githubAPI;else{Ot("The `githubAPI` configuration option is private and should not be added manually.",Un)}if(!e.excludeGithubLinks){const n={key:Vn.participate,data:[{value:`GitHub ${r}/${o}`,href:t},{value:Vn.file_a_bug,href:c.issueBase},{value:Vn.commit_history,href:s.href},{value:"Pull requests",href:c.pullBase}]};e.otherLinks||(e.otherLinks=[]),e.otherLinks.unshift(n)}const d={branch:i,repoURL:t.href,apiBase:l,fullName:`${r}/${o}`,issuesURL:a,pullsURL:c.pullBase,newIssuesURL:new URL("./new/choose",a).href,commitHistoryURL:s.href};Bn(d);const u={...c,...e,github:d,githubAPI:l};Object.assign(e,u)}});class Kn{constructor(e){this.doc=e,this.root=e.createDocumentFragment(),this.stack=[this.root],this.current=this.root}findPosition(e){return parseInt(e.tagName.charAt(1),10)}findParent(e){let t;for(;e>0;)if(e--,t=this.stack[e],t)return t}findHeader({firstChild:e}){for(;e;){if(/H[1-6]/.test(e.tagName))return e;e=e.nextSibling}return null}addHeader(e){const t=this.doc.createElement("section"),n=this.findPosition(e);t.appendChild(e),this.findParent(n).appendChild(t),this.stack[n]=t,this.stack.length=n+1,this.current=t}addSection(e){const t=this.findHeader(e),n=t?this.findPosition(t):1,r=this.findParent(n);t&&e.removeChild(t),e.appendChild(Xn(e)),t&&e.prepend(t),r.appendChild(e),this.current=r}addElement(e){this.current.appendChild(e)}}function Xn(e){const t=new Kn(e.ownerDocument);for(;e.firstChild;){const n=e.firstChild;switch(n.localName){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.addHeader(n);break;case"section":t.addSection(n);break;default:t.addElement(n)}}return t.root}const Gn="core/data-include";function Zn(e,t,{replace:n}){const{includeFormat:r}=e.dataset;let o=t;"markdown"===r&&(o=en(o)),"text"===r?e.textContent=o:e.innerHTML=o,"markdown"===r&&function(e){const t=Xn(e);if("section"===t.firstElementChild.localName&&"section"===e.localName){const n=t.firstElementChild;n.remove(),e.append(...n.childNodes)}else e.textContent="";e.appendChild(t)}(e),n&&e.replaceWith(...e.childNodes)}async function Jn(e,t){const n=e.querySelectorAll("[data-include]"),r=Array.from(n).map((async e=>{const n=e.dataset.include;if(!n)return;const r=`include-${String(Math.random()).slice(2)}`;e.dataset.includeId=r;try{const o=await fetch(n);!function(e,t,n){const r=document.querySelector(`[data-include-id=${t}]`),o=yt(e,r.dataset.oninclude,n),i="string"==typeof r.dataset.includeReplace;Zn(r,o,{replace:i}),i||function(e){["data-include","data-include-format","data-include-replace","data-include-id","oninclude"].forEach((t=>e.removeAttribute(t)))}(r)}(await o.text(),r,n),t<3&&await Jn(e,t+1)}catch(t){const r=`\`data-include\` failed: \`${n}\` (${t.message}).`;console.error(r,e,t),It(r,Gn,{elements:[e]})}}));await Promise.all(r)}var Qn=Object.freeze({__proto__:null,name:Gn,run:async function(){await Jn(document,1)}});const er=-(2**31),tr=2**31-1;function nr(e){return Number.isInteger(e)&&e<=tr&&e>=er}function rr(e){return Number.isInteger(e)}function or(){return!0}var ir=async(e,t,n)=>{const{default:r}=await import("https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs");r.initialize({startOnLoad:!1});const{svg:o}=await r.render(`class-diagram-${e}`,t),i=o.trim().replace(/height="[0-9]*"/,"");return Qe`<h3>${n}</h3>
    ${i}`};function ar(e){return Qe`<div class="issue" title="${e}"></div>`}function sr(e){return Qe`<div class="note">${e}</div>`}function cr(e){const t=`${e.parentClass.name}.${e.name}`.toLowerCase();return Qe`<tr>
    <td id="${t}">${e.name}</td>
    <td>
      ${e.documentation.description}
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}
    </td>
  </tr>`}function lr(e){let t=e.name;return"Enumeration"!==e.stereoType&&"EnumExt"!==e.stereoType||(t+=" Enumeration"),t=Qe`<a href="#${e.id}"><samp>${t}</samp></a>`,t}var dr=(e,t,n)=>{if(t&&t.properties)return n=n??`${t.name}`,Qe`<h3>${n}</h3>
      <p>${t.documentation.description}</p>
      ${t.documentation.issues.map(ar)}
      ${t.documentation.notes.map(sr)}
      <table class="simple">
        <thead>
          <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Description</th>
            <th>Multiplicity</th>
            ${e.showPrivacyAnnotations?Qe`<th>Privacy</th>`:null}
          </tr>
        </thead>
        <tbody>
          ${t.properties.map((t=>function(e,t){return Qe` <tr>
    <td style="min-width: 150px; word-break: break-all;">${t.name}</td>
    <td>${lr(t.type)}</td>
    <td>
      ${t.documentation.description}
      ${t.documentation.issues.map(ar)}
      ${t.documentation.notes.map(sr)}
      ${function(e,t){if(e.showPrivacyAnnotations&&t)return Qe`<div class="advisement">Privacy implication: ${t}</div>`}(e,t.documentation.privacyDoc)}
    </td>
    <td>${function(e){switch(e.cardinality.value){case"ONE":return"[1]";case"ZERO_OR_ONE":return"[0..1]";case"ZERO_OR_MANY":return"[0..*]";case"ONE_OR_MANY":return"[1..*]";case"TWO":return"[2]";case"TWO_OR_MANY":return"[2..*]";case"THREE_OR_MANY":return"[3..*]"}}(t)}</td>
    ${e.showPrivacyAnnotations?function(e){return Qe`<td>
    <a href="#privacy-${e.privacyImplications.value.toLowerCase()}">
      ${function(e){return Qe`${e.privacyImplications.label}`}(e)}
    </a>
  </td>`}(t):null}
  </tr>`}(e,t)))}
          ${function(e,t){return t.isExtensible?Qe` <tr>
      <td colspan="${e.showPrivacyAnnotations?5:4}">
        This class can be extended with additional properties.
      </td>
    </tr>`:Qe``}(e,t)}
        </tbody>
      </table>`};var ur=(e,t,n)=>{if(e)return t=t??`${e.name} Data Model`,n=(n??e.id).replace(/\./g,"-"),Qe`<h2 id="${n}">${t}</h2>
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}`},pr=(e,t)=>{if(e&&e.properties){const n="Vocabulary"===e.stereoType?"Vocabulary":"Enumeration";return t=t??`${e.name} ${n}`,Qe`<h3>${t}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}
      <table class="simple">
        <thead>
          <tr>
            <th>Term</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          ${e.properties.map(cr)}
          ${"EnumExt"===e.stereoType?Qe`<tr>
                <td colspan="2">
                  This enumeration can be extended with new, proprietary terms.
                  The new terms must start with the substring 'ext:'.
                </td>
              </tr>`:Qe``}
        </tbody>
      </table>`}},fr=(e,t,n)=>{if(e&&e.operations)return t=t??`${e.name}`,n=(n??e.id).replace(/\./g,"-"),Qe`<h3 id="${n}">${t}</h3>
      <p>${e.documentation?.description}</p>
      ${e.documentation?.issues.map(ar)}
      ${e.documentation?.notes.map(sr)}`},hr=(e,t,n)=>{if(e)return n=n??`${e.name}`,Qe`<h3>${n}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}
      <pre class="nohighlight">${JSON.stringify(t,null,2)}</pre>`},mr=(e,t,n)=>{if(e)return t=t??`${e.name} JSON Schema`,n=(n??e.id).replace(/\./g,"-"),Qe`<h2 id="${n}">${t}</h2>
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}`},gr=(e,t,n)=>{if(e)return n=n??`${e.name}`,Qe`<h3>${n}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}
      <pre class="nohighlight">${t}</pre>`},br=(e,t,n,r)=>{if(n)return r=r??`${n.name}`,Qe`<h3>${r}</h3>
      <p>${n.documentation.description}</p>
      ${n.documentation.issues.map(ar)}
      ${n.documentation.notes.map(sr)}
      ${function(e,t,n){return Qe`<h5>Request</h5>
    ${function(e,t){let n=`${t.method} ${e}${t.request.path}`;const r=t.request.parameters.filter((e=>"QUERY"===e.type));if(r)for(let e=0;e<r.length;e++){const t=r[e];n+=0==e?"?":"&",n+=`${t.name}={${t.name}}`}return Qe`<p><code>${n}</code></p>`}(t,n)}
    ${function(e,t){if(Array.from(t.request.parameters).length>0)return Qe`
      <table class="simple" style="caption-side:top">
        <caption style="display:table-caption;text-align:left">
          Request header, path, and query parameters
        </caption>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Parameter Type</th>
            <th>Description</th>
            <th>Required</th>
            ${e.showPrivacyAnnotations?Qe`<th>Confidentiality Level</th>`:null}
          </tr>
        </thead>
        <tbody>
          ${t.request.parameters.map((t=>function(e,t){return Qe` <tr>
    <td>
      <code>${t.name}</code>
      <div>(${t.type.toLowerCase()})</div>
    </td>
    <td>${function(e){let t=e.value.name;e.cardinality.value.includes("MANY")&&(t+="[]");"Enumeration"!==e.value.stereoType&&"EnumExt"!==e.value.stereoType||(t+=" Enumeration");return t=Qe`<a href="#${e.value.id}"><samp>${t}</samp></a>`,t}(t)}</td>
    <td>
      ${t.documentation.description}
      ${t.documentation.issues.map(ar)}
      ${t.documentation.notes.map(sr)}
    </td>
    <td>${wr(t)}</td>
    ${e.showPrivacyAnnotations?vr(t):null}
  </tr>`}(e,t)))}
        </tbody>
      </table>
    `}(e,n)}
    ${function(e,t){if(Array.from(t.request.bodies).length>0)return Qe`
      <table class="simple" style="caption-side:top">
        <caption style="display:table-caption;text-align:left">
          Allowed request content types
        </caption>
        <thead>
          <tr>
            <th>Content-Type Header</th>
            <th>Content Type</th>
            <th>Content Description</th>
            <th>Content Required</th>
            ${e.showPrivacyAnnotations?Qe`<th>Confidentiality Level</th>`:null}
          </tr>
        </thead>
        <tbody>
          ${t.request.bodies.map((t=>function(e,t){return Qe`<tr>
    <td>${t.contentType}</td>
    <td>${$r(t)}</td>
    <td>
      ${t.documentation?.description}
      ${t.documentation?.issues.map(ar)}
      ${t.documentation?.notes.map(sr)}
    </td>
    <td>${wr(t)}</td>
    ${e.showPrivacyAnnotations?vr(t):null}
  </tr>`}(e,t)))}
        </tbody>
      </table>
    `}(e,n)}`}(e,t,n)}
      ${function(e,t){const n=t.responses.flatMap(yr);return Qe`<h5>Responses</h5>
    <table class="simple" style="caption-side:top">
      <caption style="display:table-caption;text-align:left">
        Allowed response codes and content types
      </caption>
      <thead>
        <tr>
          <th>Status Code</th>
          <th>Content-Type Header</th>
          <th>Content Type</th>
          <th>Content Description</th>
          <th>Content Required</th>
          ${e.showPrivacyAnnotations?Qe`<th>Confidentiality Level</th>`:null}
        </tr>
      </thead>
      <tbody>
        ${n.map((t=>function(e,t){return Qe`<tr>
    <td>${t.statusCode}</td>
    <td>${t.body?.contentType}</td>
    <td>${$r(t.body)}</td>
    <td>
      ${t.documentation?.description}
      ${t.body?.documentation?.description}
      ${t.body?.documentation?.issues.map(ar)}
      ${t.body?.documentation?.notes.map(sr)}
    </td>
    <td>${wr(t.body)}</td>
    ${e.showPrivacyAnnotations?vr(t.body):null}
  </tr>`}(e,t)))}
      </tbody>
    </table>`}(e,n)}`};function yr(e){const t=Array.from(e.bodies);if(0==t.length)return e;{const n=new Array;for(let r=0;r<t.length;r++){const o=t[r];n.push({...e,body:o})}return n}}function wr(e){if(e?.cardinality)return e.cardinality.value.includes("ZERO")?"Optional":"Required"}function vr(e){if(e?.confidentiality)return Qe`<td>
      <a href="#privacy-${e.confidentiality.value.toLowerCase()}">
        ${function(e){if(e?.confidentiality)return e.confidentiality.label}(e)}
      </a>
    </td>`}function $r(e){if(e?.type){let t=e.type.name;return e.cardinality.value.includes("MANY")&&(t+="[]"),"Enumeration"!==e.type.stereoType&&"EnumExt"!==e.type.stereoType||(t+=" Enumeration"),t=Qe`<a href="#${e.type.id}"><samp>${t}</samp></a>`,t}}var xr=(e,t,n)=>{if(e)return t=t??`${e.name} Service Model`,n=(n??e.id).replace(/\./g,"-"),Qe`<h2 id="${n}">${t}</h2>
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}`},kr=(e,t)=>{const n=e.classes.filter((e=>e.stereoType===t)).sort(((e,t)=>{const n=e.name.toUpperCase(),r=t.name.toUpperCase();return n<r?-1:n>r?1:0}));if(n.length>0)return Qe` <table class="simple">
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        ${n.map(Er)}
      </tbody>
    </table>`};function Er(e){return Qe` <tr id="${e.id}">
    <td id="${e.name.toLowerCase()}">${e.name}</td>
    <td>
      ${e.documentation.description}
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}
    </td>
  </tr>`}var Ar=(e,t)=>{if(e&&e.generalizations)return t=t??`${e.name}`,Qe`<h3>${t}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}
      <p>The ultimate representation of this class is a choice of exactly one of the classes in the following set:</p>
      <table class="simple">
        <thead>
          <tr>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          ${e.generalizations.map(_r)}
        </tbody>
      </table>`};function _r(e){return Qe` <tr>
    <td style="min-width: 150px; word-break: break-all;">${lr(e)}</td>
    <td>
      ${e.documentation.description}
      ${e.documentation.issues.map(ar)}
      ${e.documentation.notes.map(sr)}
    </td>
  </tr>`}const Sr="1edtech/mps";function Cr(e){if(e.mps.apiKey)return e.mps.apiKey;throw"No MPS API KEY found"}function Tr(e){if(e.mps.serverUrl)return e.mps.serverUrl;throw"No MPS server URL found"}async function Lr(e,t,n=!0){try{const r=await fetch(`${Tr(e)}/jsonschema/${t}?allowAdditionalProperties=${n}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":Cr(e)}});if(!r.ok)return It(`Could not get the schema for ${t}: ${r.status}`,Sr),null;return await r.json()}catch(e){return It(`Could not get the schema for ${t}: ${e}`,Sr),null}}async function Rr(e,t,n){const r=`${t}-${n}`,o=sessionStorage.getItem(r);if(o)return JSON.parse(o);const i=JSON.stringify({query:`\n    {\n      modelByID(id: "${n}", source: ${t??"CORE"}) {\n        id\n        id\n        name\n        documentation {\n          description\n          notes\n          issues\n        }\n        classes {\n          id\n          name\n          stereoType\n          documentation {\n            description\n            notes\n            issues\n            packageName\n          }\n          properties {\n            name\n            type {\n              id\n              name\n              stereoType\n            }\n            cardinality {\n              value\n            }\n            documentation {\n              description\n              notes\n              issues\n              privacyDoc\n            }\n            privacyImplications {\n              label\n              value\n            }\n            parentClass {\n              id\n              name\n            }\n\n          }\n          isExtensible\n          generalizations {\n            id\n            name\n            documentation {\n              description\n              notes\n              issues\n            }\n          }\n        }\n        services {\n          ... on RestService {\n            id\n            type\n            documentation {\n              description\n              notes\n              issues\n            }\n            rootPath\n            interfaces {\n              id\n              name\n              documentation {\n                description\n                notes\n                issues\n              }\n              operations {\n                id\n                name\n                documentation {\n                  description\n                  notes\n                  issues\n                }\n                method\n                request {\n                  id\n                  documentation {\n                    description\n                    notes\n                    issues\n                  }\n                  path\n                  bodies {\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type {\n                      id\n                      name\n                    }\n                    cardinality {\n                      value\n                    }\n                    confidentiality {\n                      label\n                      value\n                    }\n                    contentType\n                  }\n                  parameters {\n                    id\n                    name\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type\n                    cardinality {\n                      value\n                    }\n                    confidentiality {\n                      label\n                      value\n                    }\n                    value {\n                      id\n                      name\n                      stereoType\n                    }\n                  }\n                }\n                responses {\n                  id\n                  documentation {\n                    description\n                    notes\n                    issues\n                  }\n                  statusCode\n                  bodies {\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type {\n                      id\n                      name\n                      stereoType\n                    }\n                    confidentiality {\n                      label\n                      value\n                    }\n                    cardinality {\n                      value\n                    }\n                    contentType\n                  }\n                  parameters {\n                    id\n                    name\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type\n                    cardinality {\n                      value\n                    }\n                    value {\n                      id\n                      name\n                      stereoType\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    `});try{const t=await fetch(`${Tr(e)}/graphql`,{method:"POST",headers:{"Content-Type":"application/json","X-Api-Key":Cr(e)},body:i});if(!t.ok)return It(`Could not get MPS model for ${n}. Please see the developer console for details.`,Sr),null;const o=(await t.json()).data.modelByID;return o?(sessionStorage.setItem(r,JSON.stringify(o)),o):(It(`Unknown model ${n} at ${Tr(e)}, source: ${e.mps.source??"CORE"}`,Sr),null)}catch(e){return It(`Could not get MPS model for ${n}: ${e}`,Sr),null}}async function Nr(e,t,n){t.setAttribute("id",n.id);const r=t.getAttribute("title");let o;switch(n.stereoType){case"Enum":case"EnumeratedList":case"Enumeration":case"EnumExt":case"Vocabulary":o=pr(n,r);break;case"EmbeddedSelection":o=Ar(n,r);break;default:o=dr(e,n,r)}if(o){let e=null;Array.from(o.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}async function Ir(e,t,n){const r=t.getAttribute("id");t.setAttribute("id",n.id);const o=t.getAttribute("title"),i=fr(n,o,r);if(i){let r=null;Array.from(i.childNodes).forEach((e=>{if("#comment"!==e.nodeName){let n=e;"#text"===e.nodeName&&(n=document.createElement("text"),n.innerHTML=e.nodeValue),r?r.insertAdjacentElement("afterend",n):t.insertAdjacentElement("afterbegin",n),r=n}}));Array.from(n.operations).forEach((async r=>{let o=t.querySelector(`section[data-operation="${r.id}"]`);o?jr(e,o,n.rootPath,r):(o=Qe`<section
          data-operation="${r.id}"
        ></section>`,jr(e,o,n.rootPath,r),t.insertAdjacentElement("beforeend",o))}))}}async function Or(e,t,n){t.setAttribute("id",`${n.id}-schema`);const r=t.getAttribute("title"),o=await Lr(e,n.id),i=hr(n,o,r);if(o&&i){let e=null;Array.from(i.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}async function Pr(e,t,n){const r=t.getAttribute("data-source")??e.mps.source;if("CORE"!==r&&"SANDBOX"!==r)return void It(`Invalid source ${r} for model ${n}`);const o=t.getAttribute("title");t.getAttribute("id");const i=t.getAttribute("data-binding"),a=await Rr(e,r,n),s=await async function(e,t,n){n=n??"yaml";try{const r=await fetch(`${Tr(e)}/openapischema/${t}?binding=${n.toLowerCase()}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":Cr(e)}});return r.ok?await r.text():(It(`Could not get the OpenAPI schema for ${t}: ${r.status}`,Sr),null)}catch(e){return It(`Could not get the OpenAPI schema for ${t}: ${e}`,Sr),null}}(e,n,i);if(a&&s){const e=gr(a,s,o);if(e){let n=null;Array.from(e.childNodes).forEach((e=>{if("#comment"!==e.nodeName){let r=e;"#text"===e.nodeName&&(r=document.createElement("text"),r.innerHTML=e.nodeValue),n?n.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),n=r}}))}}else t.insertAdjacentElement("afterbegin",Qe`<h3>${n}</h3>`)}async function jr(e,t,n,r){t.setAttribute("id",r.id);const o=t.getAttribute("title"),i=br(e,n,r,o);if(i){let e=null;Array.from(i.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}async function Dr(e,t){const n=t.getAttribute("data-sample");if(""===n)return void It("Example is missing a schema id",Sr);const r=t.getAttribute("id")??`example-${n}`;t.setAttribute("id",r),t.removeAttribute("data-sample");const o=t.getAttribute("data-include-optional-fields")??"false",i=await async function(e,t,n=!1){try{const r=await fetch(`${Tr(e)}/sample/${t}?includeOptionalFields=${n}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":Cr(e)}});return r.ok?await r.json():(It(`Could not get sampledata for ${t}: ${r.status}`,Sr),null)}catch(e){return It(`Could not get sample data for ${t}: ${e}`,Sr),null}}(e,n,o);if(i){const e=Qe`
<pre class="nohighlight">
${JSON.stringify(i,null,2)}
</pre>`;t.append(e)}else t.append(Qe`<p>Could not get sample data. See developer console for details.</p>`)}async function Mr(e,t,n,r){t.setAttribute("id",`${n}-class-diagram`);const o=t.getAttribute("title"),i=t.getAttribute("data-package"),a=t.getAttribute("data-classes"),s=t.hasAttribute("data-class-diagram-omit-properties"),c=t.hasAttribute("data-class-diagram-hide-title"),l=await async function(e,t,n=!1,r=!1,o=null,i=null,a=null){try{let s=`?omitProperties=${n}&hideTitle=${r}`;o&&(s+=`&title=${o}`),i&&(s+=`&packageNames=${i}`),a&&(s+=`&classNames=${a}`);const c=await fetch(`${Tr(e)}/classdiagram/${t}${s}`,{method:"GET",headers:{"Content-Type":"text/markdown","X-Api-Key":Cr(e)}});return c.ok?await c.text():(It(`Could not get the class diagram for ${t}: ${c.status}`,Sr),null)}catch(e){return It(`Could not get the class diagram for ${t}: ${e}`,Sr),null}}(e,n,s,c,o,i,a),d=await ir(r,l,o);if(l&&d){let e=null;Array.from(d.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}var zr=Object.freeze({__proto__:null,name:Sr,run:async function(e){let t=new Array,n=0;const r=Array.from(document.querySelectorAll("section[data-model]"));if(0===r.length)return;const o=r.map((t=>{const n=t.getAttribute("data-model");return`${t.getAttribute("data-source")??e.mps.source}-${n}`})).filter(((e,t,n)=>n.indexOf(e)===t));t.push(...Array.from(o.map((t=>{const n=t.split("-");return Rr(e,n[0],n[1])})))),await Promise.all(t),t=new Array;const a=r.filter((e=>!(e.getAttribute("data-service-model")||e.getAttribute("data-stereotype")||e.getAttribute("data-schema-format")||e.hasAttribute("data-class-diagram")))),s=r.filter((e=>e.getAttribute("data-stereotype"))),c=r.filter((e=>e.getAttribute("data-service-model"))),l=r.filter((e=>e.getAttribute("data-schema-format"))),d=r.filter((e=>e.hasAttribute("data-class-diagram")));a.length>0&&t.push(...Array.from(a).map((async t=>{const r=t.getAttribute("data-model")??"";if(""===r)t.insertAdjacentElement("afterbegin",Qe`<h2>Missing Model id</h2>`),It("Cannot process DataModel sections without the Model id",Sr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{await async function(e,t,n){const r=t.getAttribute("data-source")??e.mps.source;if("CORE"!==r&&"SANDBOX"!==r)return void It(`Invalid source ${r} for model ${n}`);const o=t.getAttribute("title"),i=t.getAttribute("id"),a=t.getAttribute("data-package")??"",s=await Rr(e,r,n);if(s){const n=ur(s,o,i);if(n){let e=null;Array.from(n.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}let r=Array.from(s.classes).filter((e=>"PrimitiveType"!==e.stereoType&&"DerivedType"!==e.stereoType));""!==a&&(r=r.filter((e=>e.documentation.packageName===a))),r.forEach((async n=>{let r=t.querySelector(`section[data-class="${n.id}"]`);r?Nr(e,r,n):(r=Qe`<section data-class="${n.id}"></section>`,Nr(e,r,n),t.insertAdjacentElement("beforeend",r))}))}else t.insertAdjacentElement("afterbegin",Qe`<h3>${n}</h3>`)}(e,t,r)}catch(e){It(`Cannot process DataModel ${r}: ${e}`,Sr)}}}))),s.length>0&&t.push(...Array.from(s).map((async t=>{const r=t.getAttribute("data-model")??"",o=t.getAttribute("data-stereotype")??"";if(""===r)t.insertAdjacentElement("afterbegin",Qe`<h2>Missing Model id</h2>`),It("Cannot process SteroType sections without the Model id",Sr,{elements:[t]});else if(""===o)t.insertAdjacentElement("afterbegin",Qe`<h2>Missing StereoType</h2>`),It("Cannot process SteroType sections without the StereoType",Sr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{await async function(e,t,n,r){const o=t.getAttribute("data-source")??e.mps.source;if("CORE"!==o&&"SANDBOX"!==o)return void It(`Invalid source ${o} for model ${n}`);const i=t.getAttribute("title"),a=t.getAttribute("id"),s=await Rr(e,o,n);if(s){const e=ur(s,i,a);if(e){let n=null;Array.from(e.childNodes).forEach((e=>{if("#comment"!==e.nodeName){let r=e;"#text"===e.nodeName&&(r=document.createElement("text"),r.innerHTML=e.nodeValue),n?n.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),n=r}}))}const n=kr(s,r);n&&t.insertAdjacentElement("beforeend",n)}else t.insertAdjacentElement("afterbegin",Qe`<h3>${n}</h3>`)}(e,t,r,o)}catch(e){It(`Cannot process StereoType ${r} ${o}: ${e}`,Sr)}}}))),l.length>0&&t.push(...Array.from(l).map((async t=>{const r=t.getAttribute("data-model")??"",o=t.getAttribute("data-schema-format")?.toLowerCase()??"";if(""===r)t.insertAdjacentElement("afterbegin",Qe`<h2>Missing Model id</h2>`),It("Cannot process Schema sections without the Model id",Sr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{""===o||"json"===o?await async function(e,t,n){const r=t.getAttribute("data-source")??e.mps.source;if("CORE"!==r&&"SANDBOX"!==r)return void It(`Invalid source ${r} for model ${n}`);const o=t.getAttribute("title"),i=t.getAttribute("id"),a=t.getAttribute("data-package")??"",s=await Rr(e,r,n);if(s){const n=mr(s,o,i);if(n){let e=null;Array.from(n.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}let r=Array.from(s.classes).filter((e=>"PrimitiveType"!==e.stereoType&&"DerivedType"!==e.stereoType));""!==a&&(r=r.filter((e=>e.documentation.packageName===a))),r.forEach((async n=>{let r=t.querySelector(`section[data-class="${n.id}"]`);r?Or(e,r,n):(r=Qe`<section data-class="${n.id}"></section>`,Or(e,r,n),t.insertAdjacentElement("beforeend",r))}))}else t.insertAdjacentElement("afterbegin",Qe`<h3>${n}</h3>`)}(e,t,r):await Pr(e,t,r)}catch(e){It(`Cannot process Schema for ${r}: ${e}`,Sr)}}}))),c.length>0&&t.push(...Array.from(c).map((async t=>{const r=t.getAttribute("data-model")??"",o=t.getAttribute("data-service-model")??"";if(""===r)t.insertAdjacentElement("afterbegin",Qe`<h2>Missing Model id</h2>`),It("Cannot process ServiceModel section without the Model id",Sr,{elements:[t]});else if(""===o)t.insertAdjacentElement("afterbegin",Qe`<h2>Missing ServiceModel id</h2>`),It("Cannot process ServiceModel section without the ServiceModel id",Sr,{elements:[t]});else{const o=t.getAttribute("id");t.setAttribute("id",`${r}.${n}`),n++;try{await async function(e,t,n){const r=t.getAttribute("data-model"),o=t.getAttribute("data-service-model"),i=t.getAttribute("data-source")??e.mps.source;if("CORE"!==i&&"SANDBOX"!==i)return void It(`Invalid source ${i} for model ${r}`);const a=t.getAttribute("title"),s=(await Rr(e,i,r)).services.find((e=>e.id===o));if(s){const r=xr(s,a,n);if(r){let e=null;Array.from(r.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}let o=[];s.interfaces.forEach((e=>{e.rootPath=s.rootPath,o.push(e)}));const i=t.getAttribute("data-interface-filter")??"";""!==i&&(o=o.filter((e=>e.id===i))),o.forEach((async n=>{let r=t.querySelector(`section[data-interface="${n.id}"]`);r?Ir(e,r,n):(r=Qe`
          <section data-interface="${n.id}"></section>
        `,Ir(e,r,n),t.insertAdjacentElement("beforeend",r))}))}else t.insertAdjacentElement("afterbegin",Qe`<h3>${r}</h3>`)}(e,t,o)}catch(e){It(`Cannot process ServiceModel ${r}: ${e}`,Sr)}}}))),d.length>0&&t.push(...Array.from(d).map((async t=>{const r=t.getAttribute("data-model")??"";if(""===r)t.insertAdjacentElement("afterbegin",Qe`<h2>Missing Model id</h2>`),It("Cannot process ClassDiagram section without the Model id",Sr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{await Mr(e,t,r,n)}catch(e){It(`Cannot process ClassDiagram ${r}: ${e}`,Sr)}}})));const u=document.querySelectorAll("[data-sample]");if(u&&t.push(...Array.from(u).map((async t=>{const n=t.getAttribute("data-sample");try{await Dr(e,t)}catch(e){It(`Cannot generate sample ${n}: ${e}`,Sr)}}))),"function"==typeof window.ajv2019){const n=new window.ajv2019({allErrors:!0});!function(e){e.addFormat("byte",nr),e.addFormat("double",or),e.addFormat("float",or),e.addFormat("int32",nr),e.addFormat("int64",rr),e.addFormat("date",/^\d\d\d\d-[0-1]\d-[0-3]\d$/),e.addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i),e.addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),e.addFormat("uuid",/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i)}(n);const r=document.querySelectorAll("pre[data-schema]");r&&t.push(...Array.from(r).map((async t=>{const r=t.getAttribute("data-schema");try{await async function(e,t,n){const r=n.getAttribute("data-schema"),o=n.getAttribute("data-allowAdditionalProperties")??!0;if(""===r)return void It("Example is missing a schema id",Sr);const i=await Lr(e,r,o);if(null!==i)try{let e=n.innerText;e=e.replace(/\/\/ .*$/gm,"");const o=JSON.parse(e);void 0===t.refs[i.$id]&&t.compile(i);const a=t.refs[i.$id].validate;a(o)||(n.insertAdjacentElement("beforebegin",Qe`<div class="issue" title="Invalid JSON">
          <p>NOTE: This example contains invalid JSON for ${r}.</p>
          <ul>
            ${a.errors.map((e=>{""===e.instancePath&&(e.instancePath="class");let t=`${e.instancePath}: ${e.message}`;return"additionalProperties"===e.keyword&&(t+=` (additional property: "${e.params.additionalProperty})"`),`<li>${t}</li>`}))}
          </ul>
        </div>`),It(`Invalid example JSON for ${r}.`,Sr))}catch(e){return void It(`Cannot parse example JSON for ${r}: ${e}`,Sr)}}(e,n,t)}catch(e){It(`Cannot validate example ${r}: ${e}`,Sr)}})))}await Promise.all(t),Array.from(document.querySelectorAll("section[data-model]")).map((t=>`${e.mps.source}-${t.getAttribute("data-model")}`)).forEach((e=>{sessionStorage.removeItem(e)})),i("end-all",(()=>{const e=document.getElementById("initialUserConfig"),t=JSON.parse(e.innerHTML);"mps"in t&&(delete t.mdm,e.innerHTML=JSON.stringify(t,null,2))}))}});const qr=gt({en:{privacy_section_header:"Privacy",privacy_implications:"Privacy Implications",privacy_implications_paragraph:"All of the privacy implications contained within this Information Model are described in this Section. All of the corresponding concepts and methods for these privacy annotations are defined in the Privacy Framework.",confidentiality_level:"Confidentiality Level",confidentiality_level_paragram:"All of the privacy classification of the exchanged payloads are described in this Section.",ACCESSIBILITY_label:"Accessibility",ACCESSIBILITY_def:"denotes information about the accessibility personal needs and preferences of the user",ANALYTICS_label:"Analytics",ANALYTICS_def:"denotes information that will be used to support the creation of learning analytics",CONTAINER_label:"Container",CONTAINER_def:"denotes that the child attributes have privacy-sensitive information",CREDENTIALS_label:"Credentials",CREDENTIALS_def:"denotes access control information for the use e.g. password, private key, etc.",CREDENTIALSIDREF_label:"CredentialsIdRef",CREDENTIALSIDREF_def:"denotes reference to/use of an identifier to credentials information for the user",DEMOGRAPHICS_label:"Demographics",DEMOGRAPHICS_def:"denotes information about the demographics of the user e.g. ethnicity, gender, etc.",EXTENSION_label:"Extension",EXTENSION_def:"denotes that proprietary information can be included and so this MAY contain privacy-sensitive information",FINANCIAL_label:"Financial",FINANCIAL_def:"denotes that the information is of a financial nature e.g. bank account, financial aid status, etc.",IDENTIFIER_label:"Identifier",IDENTIFIER_def:"denotes a unique identifier that has been assigned, by some third party, to the user e.g. passport number, social security number, etc.",IDENTIFIERREF_label:"IdentifierRef",IDENTIFIERREF_def:"denotes reference to/use of a unique identifier that has been assigned, by some third party, to the user",INSURANCE_label:"Insurance/Assurance",INSURANCE_def:"denotes that the information is about the insurance life-assurance nature, e.g. type of insurance, etc.",LEGAL_label:"Legal",LEGAL_def:"denotes that the information is of a legal or judicial nature e.g. Will, prison record, etc.",MEDICAL_label:"Medical/Healthcare",MEDICAL_def:"denotes that the information is of a medical, or healthcare-related nature e.g. allergies, blood-type, mobility needs, etc.",NA_label:"N/A",NA_def:"denotes that there are NO PRIVACY IMPLICATIONS for this attribute (this is the default setting)",OTHER_label:"Other",OTHER_def:"denotes privacy sensitive information that is NOT covered by one of the other categories",QUALIFICATION_label:"Qualification/Certification",QUALIFICATION_def:"denotes that the information is about education qualifications, skill-set certifications, microcredentials, etc.",PERSONAL_label:"Personal",PERSONAL_def:"denotes personal information about the user e.g. name, address, etc.",SOURCEDID_label:"SourcedId",SOURCEDID_def:"denotes the interoperability unique identifier that has been assigned and MUST be present for the correct usage of the corresponding 1EdTech specification",SOURCEDIDREF_label:"SourcedIdRef",SOURCEDIDREF_def:"denotes reference to/use of the interoperability unique identifier, sourcedId, to link/point to an associated 1EdTech object",UNRESTRICTED_label:"unrestricted",UNRESTRICTED_def:"there are no privacy concerns (this is the default value).",NORMAL_label:"normal",NORMAL_def:"denotes that privacy sensitive data could be included and so all best practices to secure this data should be used.",RESTRICTED_label:"restricted",RESTRICTED_def:"denotes that some of the data is more sensitive than usual or that many attributes information that when used together create increased vulnerability for identification of the associated individual or group.",VERYRESTRICTED_label:"veryrestricted",VERYRESTRICTED_def:"denotes that the request could contain very sensitive privacy data. Depending on the capabilities of the Provider this very sensitive data may be obfuscated or may not even be present."}}),Fr=["ACCESSIBILITY","ANALYTICS","CONTAINER","CREDENTIALS","CREDENTIALSIDREF","DEMOGRAPHICS","EXTENSION","FINANCIAL","IDENTIFIER","IDENTIFIERREF","INSURANCE","LEGAL","MEDICAL","NA","OTHER","QUALIFICATION","PERSONAL","SOURCEDID","SOURCEDIDREF"],Ur=["UNRESTRICTED","NORMAL","RESTRICTED","VERYRESTRICTED"];function Br(e,t){return Qe`<section>
    <h3>${e}</h3>
    <p>${t}</p>
  </section>`}var Hr=Object.freeze({__proto__:null,name:"1edtech/privacy",run:async function(e){if(!e.showPrivacyAnnotations)return;const t=document.querySelector("section#privacy-appendix")||Qe`<section id="privacy-appendix"></section>`;document.querySelector("section#privacy-appendix > h2")||t.prepend(Qe`<h2>${qr.privacy_section_header}</h2>`),t.classList.add("appendix");const n=Br(qr.privacy_implications,qr.privacy_implications_paragraph);var r;n.appendChild((r=qr,Qe`<dl>
    ${Fr.map((e=>Qe`<dt>
          <dfn id="privacy-${e.toLowerCase()}">
            ${r[e+"_label"]}
          </dfn>
        </dt>
        <dd>${r[e+"_def"]}</dd>`))}
  </dl>`)),t.appendChild(n);const o=Br(qr.confidentiality_level,qr.confidentiality_level_paragram);o.appendChild(((e,t)=>Qe`<dl>
    ${e.map((e=>Qe`<dt>
          <dfn id="privacy-${e.toLowerCase()}">
            ${t[e+"_label"]}
          </dfn>
        </dt>
        <dd>${t[e+"_def"]}</dd>`))}
  </dl>`)(Ur,qr)),t.appendChild(o),document.body.appendChild(t)}});var Wr=Object.freeze({__proto__:null,name:"1edtech/post-markdown",run:async function(e){if("markdown"!==e.format)return;const t=document.body.querySelectorAll("md-only");for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}});var Vr=Object.freeze({__proto__:null,name:"core/reindent",run:function(){for(const e of document.getElementsByTagName("pre"))e.innerHTML=qt(e.innerHTML)}});const Yr="1edtech/templates/headers";function Kr(e){if(e.specStatusString)return e.specStatusString;if("doc"===e.specType)return"This is an informative 1EdTech document that may be revised at any time.";if("proposal"===e.specType)return"This is a proposal that may be revised at any time.";switch(e.specStatus){case"Proposal":case"Base Document":return"This document is for review and comment by 1EdTech Contributing Members.";case"Candidate Final":case"Candidate Final Public":return"This document is for review and adoption by the 1EdTech membership.";case"Final Release":return"This document is made available for adoption by the public community at large.";default:return`Unknown <code>specStatus: "${e.specStatus}"</code>`}}function Xr(e){if(e.key)return Qe`
    <tr class="${e.class?e.class:null}">
      <td>${e.key}</td>
      <td>
        <table style="margin:0;border:none">
          <tr>
            ${e.data?e.data.map(Gr):Gr(e)}
          </tr>
        </table>
      </td>
    </tr>
  `;Ot("Found a link without `key` attribute in the configuration. See dev console.",Yr)}function Gr(e){return Qe` <td class="${e.class?e.class:null}">
    ${e.href?Qe`<a href="${e.href}">${e.value||e.href}</a>`:e.value}
  </td>`}function Zr(e){return Qe`<div id="ipr">
      <h2>IPR and Distribution Notice</h2>
      <p>
        Recipients of this document are requested to submit, with their
        comments, notification of any relevant patent claims or other
        intellectual property rights of which they may be aware that might be
        infringed by any implementation of the specification set forth in this
        document, and to provide supporting documentation.
      </p>
      <p>
        1EdTech takes no position regarding the validity or scope of any
        intellectual property or other rights that might be claimed to pertain
        implementation or use of the technology described in this document or
        the extent to which any license under such rights might or might not be
        available; neither does it represent that it has made any effort to
        identify any such rights. Information on 1EdTech's procedures with respect
        to rights in 1EdTech specifications can be found at the 1EdTech Intellectual
        Property Rights webpage:
        <a href="http://www.imsglobal.org/ipr/imsipr_policyFinal.pdf">
          http://www.imsglobal.org/ipr/imsipr_policyFinal.pdf </a
        >.
      </p>
    </div>
    ${function(e){if(e.iprs)return Qe`<p>
        The following participating organizations have made explicit license
        commitments to this specification:
      </p>
      <table>
      <thead>
        <tr>
          <th>Org name</th>
          <th>Date election made</th>
          <th>Necessary claims</th>
          <th>Type</th>
        </th>
      </thead>
      <tbody>
      ${e.iprs.map(Jr)}
      </tbody>
      </table>`}(e)}`}function Jr(e){return Qe`<tr>
    <td>${e.company}</td>
    <td>${e.electionDate}</td>
    <td>${e.necessaryClaims}</td>
    <td>${e.type}</td>
  </tr>`}var Qr=e=>Qe`<header>
    <div class="header-top">
      <h1 class="title" id="title">${e.specTitle}</h1>
      <a href="https://www.1edtech.org" id="1edtech-logo" style="margin-left:27px">
        <img
          src="https://purl.imsglobal.org/respec/1edtech_logo_color_with_tagline.svg"
          width="300" height="105"
          alt="1EdTech logo"
        />
      </a>
    </div>
    ${function(e){if("doc"!==e.specType&&"proposal"!==e.specType)return Qe`<div class="subtitle">
        ${e.specStatus}<br />Spec Version ${e.specVersion}
      </div>`}(e)} ${function(e){if("doc"!==e.specType&&"proposal"!==e.specType)return Qe`<span
      class="statusPD${"Final Release"===e.specStatus?" final":""}"
      data-content="${e.specStatus}"
      >${e.specStatus}</span
    >`}(e)}
    ${function(e){return"doc"!==e.specType&&"proposal"!==e.specType?Qe`<table
  id="version-table"
  title="Version/Release Details">
    <tbody>
      <tr>
        <td>Document Version:</td>
        <td>${e.docVersion}</td>
      </tr>
      <tr>
        <td>Date Issued:</td>
        <td>${e.specDate}</td>
      </tr>
      <tr>
        <td>Status:</td>
        <td>${Kr(e)}</td>
      </tr>
      <tr>
        <td>This version:</td>
        <td><a href='${e.thisURL}'>${e.thisURL}</a></td>
      </tr>
      ${"normative"===e.specNature?Qe`<tr>
                <td>Latest version:</td>
                <td><a href="${e.latestURI}">${e.latestURI}</a></td>
              </tr>
              <tr>
                <td>Errata:</td>
                <td><a href="${e.errataURL}">${e.errataURL}</a></td>
              </tr>`:null}
      ${e.otherLinks?e.otherLinks.map(Xr):""}
    </tbody>
  </table>`:Qe`<table
      id="version-table"
      title="Version/Release Details">
      <tbody>
        <tr>
          <td>Date Issued:</td>
          <td>${e.specDate}</td>
        </tr>
        <tr>
          <td>Status:</td>
          <td>${Kr(e)}</td>
        </tr>
      </tbody>
    </table>`}(e)} ${Zr(e)} ${function(e){return"proposal"===e.specType?Qe`<div id="disclosure">
      <h2>Proposals</h2>
      <p>
        Proposals are made available for the purposes of Project Group / Task
        Force only and should not be distributed outside of the 1EdTech Contributing
        Membership without the express written consent of 1EdTech. Provision of
        any work documents outside of the project group/ task force will revoke
        all privileges as an Invited Guest. Any documents provided
        non-participants will be done by 1EdTech only on the 1EdTech public
        website when the documents become publicly available.
      </p>
    </div>`:Qe`<div id="disclosure">
      <p>
        Use of this specification to develop products or services is governed by
        the license with 1EdTech found on the 1EdTech website:
        <a href="http://www.imsglobal.org/speclicense.html">
          http://www.imsglobal.org/speclicense.html</a
        >.
      </p>
      <p>
        Permission is granted to all parties to use excerpts from this document
        as needed in producing requests for proposals.
      </p>
      <p>
        The limited permissions granted above are perpetual and will not be
        revoked by 1EdTech or its successors or assigns.
      </p>
      <p>
        THIS SPECIFICATION IS BEING OFFERED WITHOUT ANY WARRANTY WHATSOEVER, AND
        IN PARTICULAR, ANY WARRANTY OF NONINFRINGEMENT IS EXPRESSLY DISCLAIMED.
        ANY USE OF THIS SPECIFICATION SHALL BE MADE ENTIRELY AT THE
        IMPLEMENTER'S OWN RISK, AND NEITHER THE CONSORTIUM, NOR ANY OF ITS
        MEMBERS OR SUBMITTERS, SHALL HAVE ANY LIABILITY WHATSOEVER TO ANY
        IMPLEMENTER OR THIRD PARTY FOR ANY DAMAGES OF ANY NATURE WHATSOEVER,
        DIRECTLY OR INDIRECTLY, ARISING FROM THE USE OF THIS SPECIFICATION.
      </p>
      <p>
        Public contributions, comments and questions can be posted here:
        <a href="http://www.imsglobal.org/forums/ims-glc-public-forums-and-resources">
          http://www.imsglobal.org/forums/ims-glc-public-forums-and-resources
        </a>.
      </p>
    </div>`}(e)}
    ${Qe`<div id="cpr">
    <p>
      © ${(new Date).getFullYear()} 1EdTech&trade; Consortium, Inc. All Rights Reserved.
    </p>
    <p>
      Trademark information:
      <a href="http://www.imsglobal.org/copyright.html"
        >http://www.imsglobal.org/copyright.html
      </a>
    </p>
  </div>`}
  </header>`;var eo=Object.freeze({__proto__:null,name:"1edtech/headers",run:async function(e){document.title=`${e.specTitle} ${e.specVersion??""} \n    ${e.specStatus??""}`;const t=document.body,n=Qr(e);t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}});const to=gt({en:{permalinkLabel(e,t){let n=`Permalink for${t?"":" this"} ${e}`;return t&&(n+=` ${mt(t.textContent)}`),n}}});var no=Object.freeze({__proto__:null,name:"core/id-headers",run:function(e){const t=document.querySelectorAll("section:not(.head,#abstract,#sotd) h2, h3, h4, h5, h6");for(const n of t){let t=n.id;if(t||(vt(n),t=n.parentElement.id||n.id),!e.addSectionLinks)continue;const r=to.permalinkLabel(n.closest(".appendix")?"Appendix":"Section",n.querySelector(":scope > bdi.secno")),o=Qe`<div class="header-wrapper"></div>`;n.replaceWith(o);const i=Qe`<a
      href="#${t}"
      class="self-link"
      aria-label="${r}"
    ></a>`;o.append(n,i)}}});const ro="1edtech/abstract";var oo=Object.freeze({__proto__:null,name:ro,run:async function(){let e=document.getElementById("abstract");e||(Ot("Document should have one element with 'abstract'",ro),e=Qe`<section id="abstract" class="introductory remove">
      <h2>To be removed</h2>
    </section>`,document.body.prepend(e)),e.tagName.startsWith("H")&&(e.removeAttribute("id"),e=e.parentElement,e.id="abstract"),"SECTION"===e.tagName&&(e.classList.contains("introductory")||e.classList.add("introductory"));let t=document.querySelector("#abstract>h2");t||(t=document.createElement("h2"),t.textContent="Abstract",e.prepend(t))}});var io=Object.freeze({__proto__:null,name:"core/data-transform",run:function(){document.querySelectorAll("[data-transform]").forEach((e=>{e.innerHTML=yt(e.innerHTML,e.dataset.transform),e.removeAttribute("data-transform")}))}});const ao="core/dfn-abbr";function so(e){const t=(n=e).dataset.abbr?n.dataset.abbr:n.textContent.match(/\b([a-z])/gi).join("").toUpperCase();var n;const r=e.textContent.replace(/\s\s+/g," ").trim();e.insertAdjacentHTML("afterend",` (<abbr title="${r}">${t}</abbr>)`);const o=e.dataset.lt||"";e.dataset.lt=o.split("|").filter((e=>e.trim())).concat(t).join("|")}var co=Object.freeze({__proto__:null,name:ao,run:function(){const e=document.querySelectorAll("[data-abbr]");for(const t of e){const{localName:e}=t;if("dfn"===e)so(t);else{It(`\`data-abbr\` attribute not supported on \`${e}\` elements.`,ao,{elements:[t],title:"Error: unsupported."})}}}});function lo(e){const t=e.querySelectorAll(":scope > section");for(const e of t){if(!e.children.length)continue;if(!e.id){const t=e.children[0].textContent;if("conformance"==t.toLowerCase()||"conformance statements"==t.toLowerCase())return vt(e,null,"conformance"),e}const t=lo(e);if(t)return t}return null}var uo=Object.freeze({__proto__:null,name:"1edtech/inlines",run:async function(e){if("errata"==e.specType)return;let t=document.querySelector("section#conformance");t||(t=lo(document.body))}});const po=/^[a-z]+(\s+[a-z]+)+\??$/,fo=/\B"([^"]*)"\B/,ho=/^(\w+)\(([^\\)]*)\)(?:\|(\w+)(?:\((?:([^\\)]*))\))?)?$/,mo=/\[\[(\w+(?: +\w+)*)\]\](\([^)]*\))?$/,go=/^((?:\[\[)?(?:\w+(?: +\w+)*)(?:\]\])?)$/,bo=/^(?:\w+)\??$/,yo=/^(\w+)\["([\w- ]*)"\]$/,wo=/\.?(\w+\(.*\)$)/,vo=/\/(.+)/,$o=/\[\[.+\]\]/;function xo(e){const{identifier:t,renderParent:n,nullable:r}=e;if(n)return Qe`<a
      data-xref-type="_IDL_"
      data-link-type="idl"
      data-lt="${t}"
      ><code>${t+(r?"?":"")}</code></a
    >`}function ko(e){const{identifier:t,parent:n,slotType:r,renderParent:o,args:i}=e,{identifier:a}=n||{},s="method"===r,c=s?Qe`(${wt(i,Eo)})`:null,l=s?`(${i.join(", ")})`:"";return Qe`${n&&o?".":""}<a
      data-xref-type="${r}"
      data-link-type="${r}"
      data-link-for="${a}"
      data-xref-for="${a}"
      data-lt="${`[[${t}]]${l}`}"
      ><code>[[${t}]]${c}</code></a
    >`}function Eo(e,t,n){if(t<n.length-1)return Qe`<var>${e}</var>`;const r=e.split(/(^\.{3})(.+)/),o=r.length>1,i=o?r[2]:r[0];return Qe`${o?"...":null}<var>${i}</var>`}function Ao(e){const{parent:t,identifier:n,renderParent:r}=e,{identifier:o}=t||{};return Qe`${r?".":""}<a
      data-link-type="idl"
      data-xref-type="attribute|dict-member|const"
      data-link-for="${o}"
      data-xref-for="${o}"
      ><code>${n}</code></a
    >`}function _o(e){const{args:t,identifier:n,type:r,parent:o,renderParent:i}=e,{renderText:a,renderArgs:s}=e,{identifier:c}=o||{},l=wt(s||t,Eo),d=`${n}(${t.join(", ")})`;return Qe`${o&&i?".":""}<a
      data-link-type="idl"
      data-xref-type="${r}"
      data-link-for="${c}"
      data-xref-for="${c}"
      data-lt="${d}"
      ><code>${a||n}</code></a
    >${!a||s?Qe`<code>(${l})</code>`:""}`}function So(e){const{identifier:t,enumValue:n,parent:r}=e,o=r?r.identifier:t;return Qe`"<a
      data-link-type="idl"
      data-xref-type="enum-value"
      data-link-for="${o}"
      data-xref-for="${o}"
      data-lt="${n?null:"the-empty-string"}"
      ><code>${n}</code></a
    >"`}function Co(e){const{identifier:t}=e;return Qe`"<a
      data-link-type="idl"
      data-cite="webidl"
      data-xref-type="exception"
      ><code>${t}</code></a
    >"`}function To(e){const{identifier:t,nullable:n}=e;return Qe`<a
    data-link-type="idl"
    data-cite="webidl"
    data-xref-type="interface"
    data-lt="${t}"
    ><code>${t+(n?"?":"")}</code></a
  >`}function Lo(e){let t;try{t=function(e){const t=$o.test(e),n=t?vo:wo,[r,o]=e.split(n);if(t&&r&&!o)throw new SyntaxError(`Internal slot missing "for" part. Expected \`{{ InterfaceName/${r}}}\` }.`);const i=r.split(/[./]/).concat(o).filter((e=>e&&e.trim())).map((e=>e.trim())),a=!e.includes("/"),s=[];for(;i.length;){const t=i.pop();if(ho.test(t)){const[,e,n,r,o]=t.match(ho),i=n.split(/,\s*/).filter((e=>e)),c=r?.trim(),l=o?.split(/,\s*/).filter((e=>e));s.push({type:"method",identifier:e,args:i,renderParent:a,renderText:c,renderArgs:l})}else if(yo.test(t)){const[,e,n]=t.match(yo);s.push({type:"enum",identifier:e,enumValue:n,renderParent:a})}else if(fo.test(t)){const[,e]=t.match(fo);a?s.push({type:"exception",identifier:e}):s.push({type:"enum",enumValue:e,renderParent:a})}else if(mo.test(t)){const[,e,n]=t.match(mo),r=n?"method":"attribute",o=n?.slice(1,-1).split(/,\s*/).filter((e=>e));s.push({type:"internal-slot",slotType:r,identifier:e,args:o,renderParent:a})}else if(go.test(t)&&i.length){const[,e]=t.match(go);s.push({type:"attribute",identifier:e,renderParent:a})}else if(po.test(t)){const e=t.endsWith("?"),n=e?t.slice(0,-1):t;s.push({type:"idl-primitive",identifier:n,renderParent:a,nullable:e})}else{if(!bo.test(t)||0!==i.length)throw new SyntaxError(`IDL micro-syntax parsing error in \`{{ ${e} }}\``);{const e=t.endsWith("?"),n=e?t.slice(0,-1):t;s.push({type:"base",identifier:n,renderParent:a,nullable:e})}}}return s.forEach(((e,t,n)=>{e.parent=n[t+1]||null})),s.reverse()}(e)}catch(t){const n=Qe`<span>{{ ${e} }}</span>`,r="Error: Invalid inline IDL string.";return It(t.message,"core/inlines",{title:r,elements:[n]}),n}const n=Qe(document.createDocumentFragment()),r=[];for(const e of t)switch(e.type){case"base":{const t=xo(e);t&&r.push(t);break}case"attribute":r.push(Ao(e));break;case"internal-slot":r.push(ko(e));break;case"method":r.push(_o(e));break;case"enum":r.push(So(e));break;case"exception":r.push(Co(e));break;case"idl-primitive":r.push(To(e));break;default:throw new Error("Unknown type.")}return n`${r}`}const Ro=new Set(["alias","reference"]),No=async function(){const e=await et.openDB("respec-biblio2",12,{upgrade(e){Array.from(e.objectStoreNames).map((t=>e.deleteObjectStore(t)));e.createObjectStore("alias",{keyPath:"id"}).createIndex("aliasOf","aliasOf",{unique:!1}),e.createObjectStore("reference",{keyPath:"id"})}}),t=Date.now();for(const n of[...Ro]){const r=e.transaction(n,"readwrite").store,o=IDBKeyRange.lowerBound(t);let i=await r.openCursor(o);for(;i?.value;){const e=i.value;(void 0===e.expires||e.expires<t)&&await r.delete(e.id),i=await i.continue()}}return e}();const Io={get ready(){return No},async find(e){return await this.isAlias(e)&&(e=await this.resolveAlias(e)),await this.get("reference",e)},async has(e,t){if(!Ro.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t);return!!await n.openCursor(r)},async isAlias(e){return await this.has("alias",e)},async resolveAlias(e){if(!e)throw new TypeError("id is required");const t=(await this.ready).transaction("alias","readonly").store,n=IDBKeyRange.only(e),r=await t.openCursor(n);return r?r.value.aliasOf:r},async get(e,t){if(!Ro.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t),o=await n.openCursor(r);return o?o.value:o},async addAll(e,t){if(!e)return;const n={alias:[],reference:[]};for(const r of Object.keys(e)){const o={id:r,...e[r],expires:t};o.aliasOf?n.alias.push(o):n.reference.push(o)}const r=[...Ro].flatMap((e=>n[e].map((t=>this.add(e,t)))));await Promise.all(r)},async add(e,t){if(!Ro.has(e))throw new TypeError(`Invalid type: ${e}`);if("object"!=typeof t)throw new TypeError("details should be an object");if("alias"===e&&!t.hasOwnProperty("aliasOf"))throw new TypeError("Invalid alias object.");const n=await this.ready;let r=await this.has(e,t.id);if(r){const o=await this.get(e,t.id);if(o?.expires<Date.now()){const{store:o}=n.transaction(e,"readwrite");await o.delete(t.id),r=!1}}const{store:o}=n.transaction(e,"readwrite");return r?await o.put(t):await o.add(t)},async close(){(await this.ready).close()},async clear(){const e=await this.ready,t=[...Ro],n=e.transaction(t,"readwrite"),r=t.map((e=>n.objectStore(e).clear()));await Promise.all(r)}},Oo={},Po=new URL("https://api.specref.org/bibrefs?refs="),jo=st({hint:"dns-prefetch",href:Po.origin});let Do;document.head.appendChild(jo);const Mo=new Promise((e=>{Do=e}));async function zo(e,t={forceUpdate:!1}){const n=[...new Set(e)].filter((e=>e.trim()));if(!n.length||!1===navigator.onLine)return null;let r;try{r=await fetch(Po.href+n.join(","))}catch(e){return console.error(e),null}if(!t.forceUpdate&&!r.ok||200!==r.status)return null;const o=await r.json(),i=Date.now()+36e5;try{const e=r.headers.has("Expires")?Math.min(Date.parse(r.headers.get("Expires")),i):i;await Io.addAll(o,e)}catch(e){console.error(e)}return o}async function qo(e){const t=await Mo;if(!t.hasOwnProperty(e))return null;const n=t[e];return n.aliasOf?await qo(n.aliasOf):n}var Fo=Object.freeze({__proto__:null,Plugin:class{constructor(e){this.conf=e}normalizeReferences(){const e=new Set([...this.conf.normativeReferences].map((e=>e.toLowerCase())));Array.from(this.conf.informativeReferences).filter((t=>e.has(t.toLowerCase()))).forEach((e=>this.conf.informativeReferences.delete(e)))}getRefKeys(){return{informativeReferences:Array.from(this.conf.informativeReferences),normativeReferences:Array.from(this.conf.normativeReferences)}}async run(){this.conf.localBiblio||(this.conf.localBiblio={}),this.conf.biblio=Oo;const e=Object.keys(this.conf.localBiblio).filter((e=>this.conf.localBiblio[e].hasOwnProperty("aliasOf"))).map((e=>this.conf.localBiblio[e].aliasOf)).filter((e=>!this.conf.localBiblio.hasOwnProperty(e)));this.normalizeReferences();const t=this.getRefKeys(),n=Array.from(new Set(t.normativeReferences.concat(t.informativeReferences).filter((e=>!this.conf.localBiblio.hasOwnProperty(e))).concat(e).sort())),r=n.length?await async function(e){const t=[];try{await Io.ready;const n=e.map((async e=>({id:e,data:await Io.find(e)})));t.push(...await Promise.all(n))}catch(n){t.push(...e.map((e=>({id:e,data:null})))),console.warn(n)}return t}(n):[],o={hasData:[],noData:[]};r.forEach((e=>{(e.data?o.hasData:o.noData).push(e)})),o.hasData.forEach((e=>{Oo[e.id]=e.data}));const i=o.noData.map((e=>e.id));if(i.length){const e=await zo(i,{forceUpdate:!0});Object.assign(Oo,e)}Object.assign(Oo,this.conf.localBiblio),(()=>{Do(this.conf.biblio)})()}},biblio:Oo,name:"core/biblio",resolveRef:qo,updateFromNetwork:zo});const Uo="core/render-biblio",Bo=gt({en:{info_references:"Informative references",norm_references:"Normative references",references:"References",reference_not_found:"Reference not found."},ko:{references:"참조"},nl:{info_references:"Informatieve referenties",norm_references:"Normatieve referenties",references:"Referenties"},es:{info_references:"Referencias informativas",norm_references:"Referencias normativas",references:"Referencias",reference_not_found:"Referencia no encontrada."},ja:{info_references:"参照用参考文献",norm_references:"規範的参考文献",references:"参考文献"},de:{info_references:"Weiterführende Informationen",norm_references:"Normen und Spezifikationen",references:"Referenzen"},zh:{info_references:"非规范性引用",norm_references:"规范性引用",references:"参考文献"}}),Ho=new Map([["CR","W3C Candidate Recommendation"],["ED","W3C Editor's Draft"],["LCWD","W3C Last Call Working Draft"],["NOTE","W3C Working Group Note"],["PR","W3C Proposed Recommendation"],["REC","W3C Recommendation"],["WD","W3C Working Draft"]]),Wo=(Vo=".",e=>{const t=e.trim();return!t||t.endsWith(Vo)?t:t+Vo});var Vo;function Yo(e,t){const{goodRefs:n,badRefs:r}=function(e){const t=[],n=[];for(const r of e)r.refcontent?t.push(r):n.push(r);return{goodRefs:t,badRefs:n}}(e.map(Ko)),o=function(e){const t=new Map;for(const n of e)t.has(n.refcontent.id)||t.set(n.refcontent.id,n);return[...t.values()]}(n),i=o.concat(r).sort(((e,t)=>e.ref.toLocaleLowerCase().localeCompare(t.ref.toLocaleLowerCase()))),a=Qe`<section>
    <h3>${t}</h3>
    <dl class="bibliography">${i.map(Go)}</dl>
  </section>`;vt(a,"",t);const s=function(e){return e.reduce(((e,t)=>{const n=t.refcontent.id;return(e.has(n)?e.get(n):e.set(n,[]).get(n)).push(t.ref),e}),new Map)}(n);return function(e,t){e.map((({ref:e,refcontent:n})=>{const r=`#bib-${e.toLowerCase()}`,o=t.get(n.id).map((e=>`a.bibref[href="#bib-${e.toLowerCase()}"]`)).join(",");return{refUrl:r,elems:document.querySelectorAll(o),refcontent:n}})).forEach((({refUrl:e,elems:t,refcontent:n})=>{t.forEach((t=>{t.setAttribute("href",e),t.setAttribute("title",n.title),t.dataset.linkType="biblio"}))}))}(o,s),function(e){for(const{ref:t}of e){const e=[...document.querySelectorAll(`a.bibref[href="#bib-${t.toLowerCase()}"]`)].filter((({textContent:e})=>e.toLowerCase()===t.toLowerCase()));It(`Reference "[${t}]" not found.`,Uo,{hint:`Search for ["${t}"](https://www.specref.org?q=${t}) on Specref to see if it exists or if it's misspelled.`,elements:e})}}(r),a}function Ko(e){let t=Oo[e],n=e;const r=new Set([n]);for(;t&&t.aliasOf;)if(r.has(t.aliasOf)){t=null;It(`Circular reference in biblio DB between [\`${e}\`] and [\`${n}\`].`,Uo)}else n=t.aliasOf,t=Oo[n],r.add(n);return t&&!t.id&&(t.id=e.toLowerCase()),{ref:e,refcontent:t}}function Xo(e,t){const n=e.replace(/^(!|\?)/,""),r=`#bib-${n.toLowerCase()}`,o=Qe`<cite
    ><a class="bibref" href="${r}" data-link-type="biblio">${t||n}</a></cite
  >`;return t?o:Qe`[${o}]`}function Go(e){const{ref:t,refcontent:n}=e,r=`bib-${t.toLowerCase()}`;return Qe`
    <dt id="${r}">[${t}]</dt>
    <dd>
      ${n?{html:Zo(n)}:Qe`<em class="respec-offending-element"
            >${Bo.reference_not_found}</em
          >`}
    </dd>
  `}function Zo(e){if("string"==typeof e)return e;let t=`<cite>${e.title}</cite>`;return t=e.href?`<a href="${e.href}">${t}</a>. `:`${t}. `,e.authors&&e.authors.length&&(t+=e.authors.join("; "),e.etAl&&(t+=" et al"),t+=". "),e.publisher&&(t=`${t} ${Wo(e.publisher)} `),e.date&&(t+=`${e.date}. `),e.status&&(t+=`${Ho.get(e.status)||e.status}. `),e.href&&(t+=`URL: <a href="${e.href}">${e.href}</a>`),t}var Jo=Object.freeze({__proto__:null,name:Uo,renderInlineCitation:Xo,run:function(e){const t=Array.from(e.informativeReferences),n=Array.from(e.normativeReferences);if(!t.length&&!n.length)return;const r=document.querySelector("section#references")||Qe`<section id="references"></section>`;if(document.querySelector("section#references > :is(h2, h1)")||r.prepend(Qe`<h1>${Bo.references}</h1>`),r.classList.add("appendix"),n.length){const e=Yo(n,Bo.norm_references);r.appendChild(e)}if(t.length){const e=Yo(t,Bo.info_references);r.appendChild(e)}document.body.appendChild(r)}});const Qo="core/inlines",ei={},ti=e=>new RegExp(e.map((e=>e.source)).join("|")),ni=gt({en:{rfc2119Keywords:()=>ti([/\bMUST(?:\s+NOT)?\b/,/\bSHOULD(?:\s+NOT)?\b/,/\bSHALL(?:\s+NOT)?\b/,/\bMAY\b/,/\b(?:NOT\s+)?REQUIRED\b/,/\b(?:NOT\s+)?RECOMMENDED\b/,/\bOPTIONAL\b/])},de:{rfc2119Keywords:()=>ti([/\bMUSS\b/,/\bMÜSSEN\b/,/\bERFORDERLICH\b/,/\b(?:NICHT\s+)?NÖTIG\b/,/\bDARF(?:\s+NICHT)?\b/,/\bDÜRFEN(?:\s+NICHT)?\b/,/\bVERBOTEN\b/,/\bSOLL(?:\s+NICHT)?\b/,/\bSOLLEN(?:\s+NICHT)?\b/,/\b(?:NICHT\s+)?EMPFOHLEN\b/,/\bKANN\b/,/\bKÖNNEN\b/,/\bOPTIONAL\b/])}}),ri=/(?:`[^`]+`)(?!`)/,oi=/(?:{{[^}]+\?*}})/,ii=/\B\|\w[\w\s]*(?:\s*:[\w\s&;"?<>]+\??)?\|\B/,ai=/(?:\[\[(?:!|\\|\?)?[\w.-]+(?:|[^\]]+)?\]\])/,si=/(?:\[\[\[(?:!|\\|\?)?#?[\w-.]+\]\]\])/,ci=/(?:\[=[^=]+=\])/,li=/(?:\[\^[^^]+\^\])/;function di(e){const t=e.slice(2,-2).trim(),[n,r,o]=t.split("/",3).map((e=>e&&e.trim())).filter((e=>!!e)),[i,a,s]=t.startsWith("/")?["element-attr",null,n]:o?["attr-value",`${n}/${r}`,o]:r?["element-attr",n,r]:["element",null,n];return Qe`<code
    ><a
      data-xref-type="${i}"
      data-xref-for="${a}"
      data-link-type="${i}"
      data-link-for="${a}"
      >${s}</a
    ></code
  >`}function ui(e){const t=mt(e),n=Qe`<em class="rfc2119">${t}</em>`;return ei[t]=!0,n}function pi(e){const t=e.slice(3,-3).trim();return t.startsWith("#")?Qe`<a href="${t}" data-matched-text="${e}"></a>`:Qe`<a data-cite="${t}" data-matched-text="${e}"></a>`}function fi(e,t){const n=mt(e.slice(2,-2));if(n.startsWith("\\"))return e.replace("\\","");const r=Lo(n);return!!t.parentElement.closest("dfn")?yi(`\`${r.textContent}\``):r}function hi(e,t,n){const r=e.slice(2,-2);if(r.startsWith("\\"))return[`[[${r.slice(1)}]]`];const[o,i]=r.split("|").map(mt),{type:a,illegal:s}=kt(o,t.parentElement),c=Xo(o,i),l=o.replace(/^(!|\?)/,"");if(s&&!n.normativeReferences.has(l)){const e=c.childNodes[1]||c;Ot("Normative references in informative sections are not allowed. ",Qo,{elements:[e],hint:`Remove '!' from the start of the reference \`[[${r}]]\``})}return"informative"!==a||s?n.normativeReferences.add(l):n.informativeReferences.add(l),c.childNodes[1]?c.childNodes:[c]}function mi(e,t,n){return"ABBR"===t.parentElement.tagName?e:Qe`<abbr title="${n.get(e)}">${e}</abbr>`}function gi(e){const t=e.slice(1,-1).split(":",2),[n,r]=t.map((e=>e.trim()));return Qe`<var data-type="${r}">${n}</var>`}function bi(e){const t=function(e){const t=e=>e.replace("%%","/").split("/").map(mt).join("/"),n=e.replace("\\/","%%"),r=n.lastIndexOf("/");if(-1===r)return[t(n)];const o=n.substring(0,r),i=n.substring(r+1,n.length);return[t(o),t(i)]}(e=e.slice(2,-2)),[n,r]=2===t.length?t:[null,t[0]],[o,i]=r.includes("|")?r.split("|",2).map((e=>e.trim())):[null,r],a=wi(i),s=n?mt(n):null;return Qe`<a
    data-link-type="dfn|abstract-op"
    data-link-for="${s}"
    data-xref-for="${s}"
    data-lt="${o}"
    >${a}</a
  >`}function yi(e){const t=e.slice(1,-1);return Qe`<code>${t}</code>`}function wi(e){return ri.test(e)?e.split(/(`[^`]+`)(?!`)/).map((e=>e.startsWith("`")?yi(e):wi(e))):document.createTextNode(e)}var vi=Object.freeze({__proto__:null,name:Qo,rfc2119Usage:ei,run:function(e){const t=new Map;document.normalize(),document.querySelector("section#conformance")||document.body.classList.add("informative"),e.normativeReferences=new St,e.informativeReferences=new St,e.respecRFC2119||(e.respecRFC2119=ei);const n=document.querySelectorAll("abbr[title]:not(.exclude)");for(const{textContent:e,title:r}of n){const n=mt(e),o=mt(r);t.set(n,o)}const r=t.size?new RegExp(`(?:\\b${[...t.keys()].join("\\b)|(?:\\b")}\\b)`):null,o=function(e,t=[],n={wsNodes:!0}){const r=t.join(", "),o=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,(e=>n.wsNodes||e.data.trim()?r&&e.parentElement.closest(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT)),i=[];let a;for(;a=o.nextNode();)i.push(a);return i}(document.body,["#respec-ui",".head","pre","svg"],{wsNodes:!1}),i=ni.rfc2119Keywords(),a=new RegExp(`(${ti([i,oi,ii,ai,si,ci,ri,li,...r?[r]:[]]).source})`);for(const n of o){const r=n.data.split(a);if(1===r.length)continue;const o=document.createDocumentFragment();let s=!0;for(const a of r)if(s=!s,s)switch(!0){case a.startsWith("{{"):o.append(fi(a,n));break;case a.startsWith("[[["):o.append(pi(a));break;case a.startsWith("[["):o.append(...hi(a,n,e));break;case a.startsWith("|"):o.append(gi(a));break;case a.startsWith("[="):o.append(bi(a));break;case a.startsWith("`"):o.append(yi(a));break;case a.startsWith("[^"):o.append(di(a));break;case t.has(a):o.append(mi(a,n,t));break;case i.test(a):o.append(ui(a))}else o.append(a);n.replaceWith(o)}}});const $i="1edtech/conformance";function xi(e){ei.MUST=!0,ei["MUST NOT"]=!0,ei.REQUIRED=!0,ei.SHALL=!0,ei["SHALL NOT"]=!0,ei.SHOULD=!0,ei["SHOULD NOT"]=!0,ei.RECOMMENDED=!0,ei.MAY=!0,ei.OPTIONAL=!0;const t=[...Object.keys(ei)],n=(r=t.sort(),[].concat(dt(r,(e=>Qe`<em class="rfc2119">${e}</em>`))).map((e=>"string"==typeof e?Qe`${e}`:e)));var r;const o=t.length>1,i=Qe`<p>
      As well as sections marked as non-normative, all authoring guidelines,
      diagrams, examples, and notes in this specification are non-normative.
      Everything else in this specification is normative.
    </p>
    ${t.length?Qe`
          <p>
            The key word${o?"s":""} ${[n]} in this document
            ${o?"are":"is"} to be interpreted as described in
            ${Xo("RFC2119")}.
          </p>
        `:null}
    <p>
      An implementation of this specification that fails to implement a
      MUST/REQUIRED/SHALL requirement or fails to abide by a MUST NOT/SHALL NOT
      prohibition is considered nonconformant. SHOULD/SHOULD NOT/RECOMMENDED
      statements constitute a best practice. Ignoring a best practice does not
      violate conformance but a decision to disregard such guidance should be
      carefully considered. MAY/OPTIONAL statements indicate that implementers
      are entirely free to choose whether or not to implement the option.
    </p>`;return e.skipCertGuideConformanceRef||"cert"==e.specType?i:Qe`${i}
    <p>
      The <a href="#document-set">Conformance and Certification Guide</a>
      for this specification may introduce greater normative constraints than
      those defined here for specific service or implementation categories.
    </p>`}function ki(e,t){let n;t.normativeReferences.add("RFC2119"),"normative"===t.specNature?n=xi(t):"informative"===t.specNature&&(n=function(e){return e.mainSpecTitle||Ot("No mainSpecTitle property found in config')",$i),e.mainSpecBiblioKey||Ot("No mainSpecBiblioKey property found in config')",$i),Qe` <p>
    This document is an informative resource in the Document Set of the
    ${e.mainSpecTitle?e.mainSpecTitle:""} specification
    ${e.mainSpecBiblioKey?Xo(e.mainSpecBiblioKey):""}.
    As such, it does not include any normative requirements. Occurrences in this
    document of terms such as MAY, MUST, MUST NOT, SHOULD or RECOMMENDED have no
    impact on the conformance criteria for implementors of this specification.
  </p>`}(t)),"SECTION"===e.tagName?e.prepend(...n.childNodes):e.parentNode.parentNode.append(...n.childNodes)}var Ei=Object.freeze({__proto__:null,name:$i,run:function(e){if("errata"===e.specType)return;let t=document.querySelector("section#conformance");if(t||(t=document.querySelector("section#conformance-0")),t){if(e.specNature||It("Document must have config.specNature set",$i),"SECTION"===t.tagName){const e=t.querySelector("h1, h2, h3, h4, h5, h6");e?t=e:Ot("No heading found in the conformance section",$i)}ki(t,e)}else{if("doc"===e.specType)return;It("No section found with id 'conformance'",$i)}}});function Ai(e,t,n,r){try{switch(t){case"element-attr":return document.createAttribute(e),!0;case"element":return document.createElement(e),!0}}catch(o){It(`Invalid ${t} name "${e}": ${o.message}`,r,{hint:`Check that the ${t} name is allowed per the XML's Name production for ${t}.`,elements:[n]})}return!1}function _i(e,t,n,r){if(/^[a-z]+(-[a-z]+)*$/i.test(e))return!0;return It(`Invalid ${t} name "${e}".`,r,{hint:`Check that the ${t} name is allowed per the naming rules for this type.`,elements:[n]}),!1}const Si=new Rt;function Ci(e,t){for(const n of t)Si.has(n)||Si.set(n,new Set),Si.get(n).add(e)}const Ti="core/dfn",Li=new Map([["abstract-op",{requiresFor:!1}],["attr-value",{requiresFor:!0,associateWith:"a markup attribute",validator:_i}],["element",{requiresFor:!1,validator:Ai}],["element-attr",{requiresFor:!1,validator:Ai}],["element-state",{requiresFor:!0,associateWith:"a markup attribute",validator:_i}],["event",{requiresFor:!1,validator:_i}],["http-header",{requiresFor:!1}],["media-type",{requiresFor:!1,validator:function(e,t,n,r){try{const t=new nt(e);if(t.toString()!==e)throw new Error(`Input doesn't match its canonical form: "${t}".`)}catch(o){return It(`Invalid ${t} "${e}": ${o.message}.`,r,{hint:"Check that the MIME type has both a type and a sub-type, and that it's in a canonical form (e.g., `text/plain`).",elements:[n]}),!1}return!0}}],["scheme",{requiresFor:!1,validator:_i}],["permission",{requiresFor:!1,validator:function(e,t,n,r){return e.startsWith('"')&&e.endsWith('"')?_i(e.slice(1,-1),t,n,r):(It(`Invalid ${t} "${e}".`,r,{hint:`Check that the ${t} is quoted with double quotes.`,elements:[n]}),!1)}}]]),Ri=[...Li.keys()];function Ni(e,t){let n="";switch(!0){case Ri.some((t=>e.classList.contains(t))):n=[...e.classList].find((e=>Li.has(e))),function(e,t,n){const r=Li.get(t);if(r.requiresFor&&!n.dataset.dfnFor){const e=zt`Definition of type "\`${t}\`" requires a ${"[data-dfn-for]"} attribute.`,{associateWith:o}=r,i=zt`Use a ${"[data-dfn-for]"} attribute to associate this with ${o}.`;It(e,Ti,{hint:i,elements:[n]})}r.validator&&r.validator(e,t,n,Ti)}(t,n,e);break;case mo.test(t):n=function(e,t){t.dataset.hasOwnProperty("idl")||(t.dataset.idl="");const n=t.closest("[data-dfn-for]");t!==n&&n?.dataset.dfnFor&&(t.dataset.dfnFor=n.dataset.dfnFor);if(!t.dataset.dfnFor){const n=zt`Use a ${"[data-dfn-for]"} attribute to associate this dfn with a WebIDL interface.`;It(`Internal slot "${e}" must be associated with a WebIDL interface.`,Ti,{hint:n,elements:[t]})}t.matches(".export, [data-export]")||(t.dataset.noexport="");const r=e.endsWith(")")?"method":"attribute";if(!t.dataset.dfnType)return r;const o=["attribute","method"],{dfnType:i}=t.dataset;if(!o.includes(i)||r!==i){const n=zt`Invalid ${"[data-dfn-type]"} attribute on internal slot.`,i=`The only allowed types are: ${function(e,{quotes:t}={quotes:!1}){return ft(e,t?e=>jt(Mt(e)):jt)}(o,{quotes:!0})}. The slot "${e}" seems to be a "${jt(r)}"?`;return It(n,Ti,{hint:i,elements:[t]}),"dfn"}return i}(t,e)}if(!n&&!e.matches("[data-dfn-type]")){const t=e.closest("[data-dfn-type]");n=t?.dataset.dfnType}n&&!e.dataset.dfnType&&(e.dataset.dfnType=n)}function Ii(e){switch(!0){case e.matches(".export.no-export"):It(zt`Declares both "${"[no-export]"}" and "${"[export]"}" CSS class.`,Ti,{elements:[e],hint:"Please use only one."});break;case e.matches(".no-export, [data-noexport]"):if(e.matches("[data-export]")){It(zt`Declares ${"[no-export]"} CSS class, but also has a "${"[data-export]"}" attribute.`,Ti,{elements:[e],hint:"Please chose only one."}),delete e.dataset.export}e.dataset.noexport="";break;case e.matches(":is(.export):not([data-noexport], .no-export)"):e.dataset.export=""}}var Oi=Object.freeze({__proto__:null,name:Ti,run:function(){for(const e of document.querySelectorAll("dfn")){const t=$t(e);if(Ci(e,t),e.dataset.cite&&/\b#\b/.test(e.dataset.cite))continue;const[n]=t;Ni(e,n),Ii(e),1===t.length&&n===mt(e.textContent)||(e.dataset.lt=t.join("|"))}}});var Pi=Object.freeze({__proto__:null,name:"core/pluralize",run:function(e){if(!e.pluralize)return;const t=function(){const e=new Set;document.querySelectorAll("a:not([href])").forEach((t=>{const n=mt(t.textContent).toLowerCase();e.add(n),t.dataset.lt&&e.add(t.dataset.lt)}));const t=new Set,n=document.querySelectorAll("dfn:not([data-lt-noDefault])");return n.forEach((e=>{const n=mt(e.textContent).toLowerCase();t.add(n),e.dataset.lt&&e.dataset.lt.split("|").forEach((e=>t.add(e))),e.dataset.localLt&&e.dataset.localLt.split("|").forEach((e=>t.add(e)))})),function(n){const r=mt(n).toLowerCase(),o=rt.isSingular(r)?rt.plural(r):rt.singular(r);return e.has(o)&&!t.has(o)?o:""}}();document.querySelectorAll("dfn:not([data-lt-no-plural]):not([data-lt-noDefault])").forEach((e=>{const n=[e.textContent];e.dataset.lt&&n.push(...e.dataset.lt.split("|")),e.dataset.localLt&&n.push(...e.dataset.localLt.split("|"));const r=new Set(n.map(t).filter((e=>e)));if(r.size){const t=e.dataset.plurals?e.dataset.plurals.split("|"):[],n=[...new Set([...t,...r])];e.dataset.plurals=n.join("|"),Ci(e,n)}}))}});var ji=String.raw`span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}`;const Di=gt({en:{example:"Example"},nl:{example:"Voorbeeld"},es:{example:"Ejemplo"},ko:{example:"예시"},ja:{example:"例"},de:{example:"Beispiel"},zh:{example:"例"}});function Mi(e,t,n){n.title=e.title,n.title&&e.removeAttribute("title");const r=t>0?` ${t}`:"",o=n.title?Qe`<span class="example-title">: ${n.title}</span>`:"";return Qe`<div class="marker">
    <a class="self-link">${Di.example}<bdi>${r}</bdi></a
    >${o}
  </div>`}var zi=Object.freeze({__proto__:null,name:"core/examples",run:function(){const e=document.querySelectorAll("pre.example, pre.illegal-example, aside.example");if(!e.length)return;document.head.insertBefore(Qe`<style>
      ${ji}
    </style>`,document.querySelector("link"));let t=0;e.forEach((e=>{const n=e.classList.contains("illegal-example"),r={number:t,illegal:n},{title:o}=e;if("aside"===e.localName){++t;const n=Mi(e,t,r);e.prepend(n);const i=vt(e,"example",o||String(t));n.querySelector("a.self-link").href=`#${i}`}else{const n=!!e.closest("aside");n||++t,r.content=e.innerHTML,e.classList.remove("example","illegal-example");const i=e.id?e.id:null;i&&e.removeAttribute("id");const a=Mi(e,n?0:t,r),s=Qe`<div class="example" id="${i}">
        ${a} ${e.cloneNode(!0)}
      </div>`;vt(s,"example",o||String(t));s.querySelector("a.self-link").href=`#${s.id}`,e.replaceWith(s)}}))}});var qi=String.raw`.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-color:var(--warning-border,#f11);border-width:.2em;border-style:solid;background:#fbe9e9;background:var(--warning-bg,#fbe9e9);color:#000;color:var(--text,#000)}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}`;const Fi="core/issues-notes",Ui=gt({en:{editors_note:"Editor's note",feature_at_risk:"(Feature at Risk) Issue",issue:"Issue",issue_summary:"Issue summary",no_issues_in_spec:"There are no issues listed in this specification.",note:"Note",warning:"Warning"},ja:{note:"注",editors_note:"編者注",feature_at_risk:"(変更の可能性のある機能) Issue",issue:"Issue",issue_summary:"Issue の要約",no_issues_in_spec:"この仕様には未解決の issues は含まれていません．",warning:"警告"},nl:{editors_note:"Redactionele noot",issue_summary:"Lijst met issues",no_issues_in_spec:"Er zijn geen problemen vermeld in deze specificatie.",note:"Noot",warning:"Waarschuwing"},es:{editors_note:"Nota de editor",issue:"Cuestión",issue_summary:"Resumen de la cuestión",note:"Nota",no_issues_in_spec:"No hay problemas enumerados en esta especificación.",warning:"Aviso"},de:{editors_note:"Redaktioneller Hinweis",issue:"Frage",issue_summary:"Offene Fragen",no_issues_in_spec:"Diese Spezifikation enthält keine offenen Fragen.",note:"Hinweis",warning:"Warnung"},zh:{editors_note:"编者注",feature_at_risk:"（有可能变动的特性）Issue",issue:"Issue",issue_summary:"Issue 总结",no_issues_in_spec:"本规范中未列出任何 issue。",note:"注",warning:"警告"}});function Bi(e,t,n){const r=function(){if(document.querySelector(".issue[data-number]"))return e=>{if(e.dataset.number)return Number(e.dataset.number)};let e=0;return t=>{if(t.classList.contains("issue")&&"span"!==t.localName)return++e}}(),o=document.createElement("ul");e.forEach((e=>{const{type:i,displayType:a,isFeatureAtRisk:s}=function(e){const t=e.classList.contains("issue"),n=e.classList.contains("warning"),r=e.classList.contains("ednote"),o=e.classList.contains("atrisk"),i=t?"issue":n?"warning":r?"ednote":"note",a=t?o?Ui.feature_at_risk:Ui.issue:n?Ui.warning:r?Ui.editors_note:Ui.note;return{type:i,displayType:a,isFeatureAtRisk:o}}(e),c="issue"===i,l="span"===e.localName,{number:d}=e.dataset,u={type:i,inline:l,title:e.title,number:r(e)};if(!l){const r=Qe`<div class="${s?`${i} atrisk`:i}" role="${"note"===i?"note":null}"></div>`,l=document.createElement("span"),p=Qe`<div role="heading" class="${`${i}-title marker`}">${l}</div>`;vt(p,"h",i);let f,h=a;if(e.id?(r.id=e.id,e.removeAttribute("id")):vt(r,"issue-container",u.number?`number-${u.number}`:""),c){if(void 0!==u.number&&(h+=` ${u.number}`),e.dataset.hasOwnProperty("number")){const e=function(e,t,{isFeatureAtRisk:n=!1}={}){if(!n&&t.issueBase)return Qe`<a href="${t.issueBase+e}" />`;if(n&&t.atRiskBase)return Qe`<a href="${t.atRiskBase+e}" />`}(d,n,{isFeatureAtRisk:s});if(e&&(l.before(e),e.append(l)),l.classList.add("issue-number"),f=t.get(d),!f){Ot(`Failed to fetch issue number ${d}.`,Fi)}f&&!u.title&&(u.title=f.title)}o.append(function(e,t,n){const r=`${e}${t.number?` ${t.number}`:""}`,o=t.title?Qe`<span style="text-transform: none">: ${t.title}</span>`:"";return Qe`<li><a href="${`#${n}`}">${r}</a>${o}</li>`}(Ui.issue,u,r.id))}if(l.textContent=h,u.title){e.removeAttribute("title");const{repoURL:t=""}=n.github||{},o=f?f.labels:[];f&&"CLOSED"===f.state&&r.classList.add("closed"),p.append(function(e,t,n){const r=e.map((e=>function(e,t){const{color:n,name:r}=e,o=new URL("./issues/",t);o.searchParams.set("q",`is:issue is:open label:"${e.name}"`);const i=function(e){const[t,n,r]=[e.slice(0,2),e.slice(2,4),e.slice(4,6)],[o,i,a]=[t,n,r].map((e=>parseInt(e,16)/255)).map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4));return.2126*o+.7152*i+.0722*a>.179?"#000":"#fff"}(n),a=`background-color: #${n}; color: ${i}`,s=`GitHub label: ${r}`;return Qe` <a
    class="respec-gh-label"
    style="${a}"
    href="${o.href}"
    aria-label="${s}"
    >${r}</a
  >`}(e,n)));r.length&&r.unshift(document.createTextNode(" "));return Qe`<span class="issue-label">: ${t}${r}</span>`}(o,u.title,t))}let m=e;e.replaceWith(r),m.classList.remove(i),m.removeAttribute("data-number"),f&&!m.innerHTML.trim()&&(m=document.createRange().createContextualFragment(f.bodyHTML)),r.append(p,m);const g=At(p,"section").length+2;p.setAttribute("aria-level",g)}})),function(e){const t=document.getElementById("issue-summary");if(!t)return;const n=t.querySelector("h2, h3, h4, h5, h6");e.hasChildNodes()?t.append(e):t.append(Qe`<p>${Ui.no_issues_in_spec}</p>`),(!n||n&&n!==t.firstElementChild)&&t.insertAdjacentHTML("afterbegin",`<h1>${Ui.issue_summary}</h1>`)}(o)}var Hi=Object.freeze({__proto__:null,name:Fi,run:async function(e){const t=document.querySelectorAll(".issue, .note, .warning, .ednote"),n=Array.from(t).filter((e=>e instanceof HTMLElement));if(!n.length)return;const r=await async function(e){if(!e||!e.apiBase)return new Map;const t=[...document.querySelectorAll(".issue[data-number]")].map((e=>Number.parseInt(e.dataset.number,10))).filter((e=>e));if(!t.length)return new Map;const n=new URL("issues",`${e.apiBase}/${e.fullName}/`);n.searchParams.set("issues",t.join(","));const r=await fetch(n.href);if(!r.ok)return It(`Error fetching issues from GitHub. (HTTP Status ${r.status}).`,Fi),new Map;const o=await r.json();return new Map(Object.entries(o))}(e.github),{head:o}=document;o.insertBefore(Qe`<style>
      ${qi}
    </style>`,o.querySelector("link")),Bi(n,r,e),document.querySelectorAll(".ednote").forEach((e=>{e.classList.remove("ednote"),e.classList.add("note")}))}});var Wi=Object.freeze({__proto__:null,name:"1edtech/issues-notes",run:async function(e){document.body.querySelectorAll("aside.issue, div.aside.issue").length>0&&("Final Release"==e.specStatus?o("error","Issue asides must not be present when the status is 'Final Release'"):"Candidate Final"==e.specStatus&&o("warn","Issue asides should not be present when the status is 'Candidate Final'")),document.body.querySelectorAll("aside.note, aside.ednote, aside.warning, aside.issue,  div.aside.note, div.aside.ednote div.aside.warning, div.aside.issue").forEach((e=>{const t=function(e){if(e.classList.contains("note"))return"note";if(e.classList.contains("warning"))return"warning";if(e.classList.contains("issue"))return"issue";return"info"}(e);e.setAttribute("role","note"),e.classList.add("admonition"),e.hasAttribute("id")||vt(e);const n=qn(`<div class='admon-top'>${t}</div>`).parentElement.firstElementChild;n.classList.add(`${t}-title`),e.insertAdjacentElement("afterbegin",n)}))}});const Vi="core/best-practices",Yi={en:{best_practice:"Best Practice "},ja:{best_practice:"最良実施例 "},de:{best_practice:"Musterbeispiel "},zh:{best_practice:"最佳实践 "}},Ki=gt(Yi),Xi=l in Yi?l:"en";var Gi=Object.freeze({__proto__:null,name:Vi,run:function(){const e=document.querySelectorAll(".practicelab"),t=document.getElementById("bp-summary"),n=t?document.createElement("ul"):null;if([...e].forEach(((e,t)=>{const r=vt(e,"bp"),o=Qe`<a class="marker self-link" href="${`#${r}`}"
      ><bdi lang="${Xi}">${Ki.best_practice}${t+1}</bdi></a
    >`;if(n){const t=Qe`<li>${o}: ${Ct(e)}</li>`;n.appendChild(t)}const i=e.closest("div");if(!i)return void e.classList.add("advisement");i.classList.add("advisement");const a=Qe`${o.cloneNode(!0)}: ${e}`;i.prepend(...a.childNodes)})),e.length)t&&(t.appendChild(Qe`<h1>Best Practices Summary</h1>`),t.appendChild(n));else if(t){Ot("Using best practices summary (#bp-summary) but no best practices found.",Vi),t.remove()}}});const Zi="core/figures",Ji=gt({en:{list_of_figures:"List of Figures",fig:"Figure "},ja:{fig:"図 ",list_of_figures:"図のリスト"},ko:{fig:"그림 ",list_of_figures:"그림 목록"},nl:{fig:"Figuur ",list_of_figures:"Lijst met figuren"},es:{fig:"Figura ",list_of_figures:"Lista de Figuras"},zh:{fig:"图 ",list_of_figures:"规范中包含的图"},de:{fig:"Abbildung",list_of_figures:"Abbildungsverzeichnis"}});var Qi=Object.freeze({__proto__:null,name:Zi,run:function(){const e=function(){const e=[];return document.querySelectorAll("figure").forEach(((t,n)=>{const r=t.querySelector("figcaption");if(r)!function(e,t,n){const r=t.textContent;vt(e,"fig",r),Et(t,Qe`<span class="fig-title"></span>`),t.prepend(Qe`<a class="self-link" href="#${e.id}"
      >${Ji.fig}<bdi class="figno">${n+1}</bdi></a
    >`," ")}(t,r,n),e.push(function(e,t){const n=t.cloneNode(!0);return n.querySelectorAll("a").forEach((e=>{xt(e,"span").removeAttribute("href")})),Qe`<li class="tofline">
    <a class="tocxref" href="${`#${e}`}">${n.childNodes}</a>
  </li>`}(t.id,r));else{Ot("Found a `<figure>` without a `<figcaption>`.",Zi,{elements:[t]})}})),e}(),t=document.getElementById("tof");e.length&&t&&(!function(e){if(e.classList.contains("appendix")||e.classList.contains("introductory")||e.closest("section"))return;const t=function(e){const t=[];for(const n of function*(e){let t=e;for(;t.previousElementSibling;)t=t.previousElementSibling,yield t}(e))"section"===n.localName&&t.push(n);return t}(e);t.every((e=>e.classList.contains("introductory")))?e.classList.add("introductory"):t.some((e=>e.classList.contains("appendix")))&&e.classList.add("appendix")}(t),t.append(Qe`<h1>${Ji.list_of_figures}</h1>`,Qe`<ul class="tof">
        ${e}
      </ul>`))}});const ea="1edtech/biblio";var ta=Object.freeze({__proto__:null,name:ea,run:async function(e){let t="https://purl.imsglobal.org/spec/ims-biblio.json";if(e.overrideIMSbiblioLocation&&(t=e.overrideIMSbiblioLocation),!e.disableFetchIMSbiblio)try{const n=await fetch(t,{mode:"cors"});if(!n.ok)throw new Error(n.statusText);const r=await n.json();e.localBiblio=Object.assign(e.localBiblio||{},r)}catch(e){Ot("Failed to fetch IMS biblio data: "+e.toString(),ea)}}});const na="core/data-cite",ra="__SPEC__";async function oa(e){const{key:t,frag:n,path:r,href:o}=e;let i="",a="";if(t===ra)i=document.location.href;else{const e=await qo(t);if(!e)return null;i=e.href,a=e.title}if(o)i=o;else{if(r){const e=r.startsWith("/")?`.${r}`:r;i=new URL(e,i).href}n&&(i=new URL(n,i).href)}return{href:i,title:a}}function ia(e,t,n){const{href:r,title:o}=t,i=!n.path&&!n.frag;switch(e.localName){case"a":{const t=e;if(""===t.textContent&&"the-empty-string"!==t.dataset.lt&&(t.textContent=o),t.href=r,i){const e=document.createElement("cite");t.replaceWith(e),e.append(t)}break}case"dfn":{const t=document.createElement("a");if(t.href=r,t.dataset.cite=n.key,t.dataset.citePath=n.path,t.dataset.citeFrag=n.frag,e.textContent?Et(e,t):(t.textContent=o,e.append(t)),i){const n=document.createElement("cite");n.append(t),e.append(n)}if("export"in e.dataset){It("Exporting a linked external definition is not allowed.",na,{hint:"Please remove the `data-export` attribute.",elements:[e]}),delete e.dataset.export}e.classList.add("externalDFN"),e.dataset.noExport="";break}}}function aa(e){return t=>{const n=t.search(e);return-1!==n?t.substring(n):""}}const sa=aa("#"),ca=aa("/");function la(e){const{dataset:t}=e,{cite:n,citeFrag:r,citePath:o,citeHref:i}=t;if(n.startsWith("#")&&!r){const r=e.parentElement.closest('[data-cite]:not([data-cite^="#"])'),{key:o,isNormative:i}=r?la(r):{key:ra,isNormative:!1};return t.cite=i?o:`?${o}`,t.citeFrag=n.replace("#",""),la(e)}const a=r?`#${r}`:sa(n),s=o||ca(n).split("#")[0],{type:c}=kt(n,e),l="normative"===c,d=/^[?|!]/.test(n);return{key:n.split(/[/|#]/)[0].substring(Number(d)),isNormative:l,frag:a,path:s,href:i}}function da(e){const t=["data-cite","data-cite-frag","data-cite-path"];e.querySelectorAll("a[data-cite], dfn[data-cite]").forEach((e=>t.forEach((t=>e.removeAttribute(t)))))}var ua=Object.freeze({__proto__:null,THIS_SPEC:ra,name:na,run:async function(){const e=document.querySelectorAll("dfn[data-cite]:not([data-cite='']), a[data-cite]:not([data-cite=''])");await async function(e){const t=e.map(la).map((async e=>({entry:e,result:await qo(e.key)}))),n=(await Promise.all(t)).filter((({result:e})=>null===e)).map((({entry:{key:e}})=>e)),r=await zo(n);r&&Object.assign(Oo,r)}([...e]);for(const t of e){const e=t.dataset.cite,n=la(t),r=await oa(n);if(r)ia(t,r,n);else{const n=`Couldn't find a match for "${e}"`;t.dataset.matchedText&&(t.textContent=t.dataset.matchedText),Ot(n,na,{elements:[t]})}}i("beforesave",da)},toCiteDetails:la});const pa="core/link-to-dfn",fa=[],ha=gt({en:{duplicateMsg:e=>`Duplicate definition(s) of '${e}'`,duplicateTitle:"This is defined more than once in the document."},ja:{duplicateMsg:e=>`'${e}' の重複定義`,duplicateTitle:"この文書内で複数回定義されています．"},de:{duplicateMsg:e=>`Mehrfache Definition von '${e}'`,duplicateTitle:"Das Dokument enthält mehrere Definitionen dieses Eintrags."},zh:{duplicateMsg:e=>`'${e}' 的重复定义`,duplicateTitle:"在文档中有重复的定义。"}});function ma(e){const t=new Map,n=[];for(const r of Si.get(e)){const{dfnType:o="dfn"}=r.dataset,i=r.dataset.dfnFor?.split(",").map((e=>e.trim()))??[""];for(const a of i){if(t.has(a)&&t.get(a).has(o)){const e=t.get(a).get(o),i="dfn"===e.localName,s="dfn"===r.localName,c=o===(e.dataset.dfnType||"dfn"),l=!a&&!e.dataset.dfnFor||e.dataset.dfnFor?.split(",").map((e=>e.trim())).includes(a);if(i&&s&&c&&l){n.push(r);continue}}t.has(a)||t.set(a,new Map),t.get(a).set(o,r),("idl"in r.dataset||"dfn"!==o)&&t.get(a).set("idl",r),vt(r,"dfn",e)}}return{result:t,duplicates:n}}function ga(e,t){const n=function(e){const t=e.closest("[data-link-for]"),n=t?t.dataset.linkFor:"";return $t(e).reduce(((e,r)=>{const o=r.split(".");return 2===o.length&&e.push({for:o[0],title:o[1]}),e.push({for:n,title:r}),t||e.push({for:r,title:r}),""!==n&&e.push({for:"",title:r}),e}),[])}(e).find((e=>t.has(e.title)&&t.get(e.title).has(e.for)));if(!n)return;const r=t.get(n.title).get(n.for),{linkType:o}=e.dataset;if(o){for(const e of o.split("|"))if(r.get(e))return r.get(e);return r.get("dfn")}{const e=n.for?"idl":"dfn";return r.get(e)||r.get("idl")}}function ba(e,t,n){let r=!1;const{linkFor:o}=e.dataset,{dfnFor:i}=t.dataset;if(t.dataset.cite)e.dataset.cite=t.dataset.cite;else if(o&&!n.get(o)&&i&&!i.split(",").map((e=>e.trim())).includes(o))r=!0;else if(t.classList.contains("externalDFN")){const n=t.dataset.lt?t.dataset.lt.split("|"):[];e.dataset.lt=n[0]||t.textContent,r=!0}else"partial"!==e.dataset.idl?(e.href=`#${t.id}`,e.classList.add("internalDFN")):r=!0;return e.hasAttribute("data-link-type")||(e.dataset.linkType="idl"in t.dataset?"idl":"dfn"),function(e){if(e.closest("code,pre"))return!0;if(1!==e.childNodes.length)return!1;const[t]=e.childNodes;return"code"===t.localName}(t)&&function(e,t){const n=e.textContent.trim(),r=t.dataset.hasOwnProperty("idl"),o=ya(e)&&ya(t,n);r&&!o||Et(e,document.createElement("code"))}(e,t),!r}function ya(e,t=""){if("a"===e.localName){if(!e.querySelector("code"))return!0}else{const{dataset:n}=e;if(e.textContent.trim()===t)return!0;if(n.title===t)return!0;if(n.lt||n.localLt){const e=[];return n.lt&&e.push(...n.lt.split("|")),n.localLt&&e.push(...n.localLt.split("|")),e.includes(t)}}return!1}function wa(e){e.forEach((e=>{Ot(`Found linkless \`<a>\` element with text "${e.textContent}" but no matching \`<dfn>\``,pa,{title:"Linking error: not matching `<dfn>`",elements:[e]})}))}var va=Object.freeze({__proto__:null,name:pa,possibleExternalLinks:fa,run:async function(e){const t=function(){const e=new Rt;for(const t of Si.keys()){const{result:n,duplicates:r}=ma(t);e.set(t,n),r.length>0&&It(ha.duplicateMsg(t),pa,{title:ha.duplicateTitle,elements:r})}return e}(),n=[],r=document.querySelectorAll("a[data-cite=''], a:not([href]):not([data-cite]):not(.logo):not(.externalDFN)");for(const e of r){if(!e.dataset?.linkType&&e.dataset?.xrefType){fa.push(e);continue}const r=ga(e,t);if(r){ba(e,r,t)||fa.push(e)}else""===e.dataset.cite?n.push(e):fa.push(e)}wa(n),function(e){const{shortName:t=""}=e,n=new RegExp(String.raw`^([?!])?${t}\b([^-])`,"i"),r=document.querySelectorAll("dfn[data-cite]:not([data-cite='']), a[data-cite]:not([data-cite=''])");for(const t of r){t.dataset.cite=t.dataset.cite.replace(n,`$1${ra}$2`);const{key:r,isNormative:o}=la(t);r!==ra&&(o||e.normativeReferences.has(r)?(e.normativeReferences.add(r),e.informativeReferences.delete(r)):e.informativeReferences.add(r))}}(e),e.xref||wa(fa)}});const $a="xrefs",xa=3e5;async function ka(){return await et.openDB("xref",2,{upgrade(e){[...e.objectStoreNames].forEach((t=>e.deleteObjectStore(t)));e.createObjectStore($a,{keyPath:"query.id"}).createIndex("byTerm","query.term",{unique:!1})}})}async function Ea(e){const t=new Map;if(await async function(){const e="XREF:LAST_VERSION_CHECK",t=parseInt(localStorage.getItem(e),10),n=Date.now();if(!t)return localStorage.setItem(e,n.toString()),!1;if(n-t<xa)return!1;const r=new URL("meta/version",Sa).href,o=await fetch(r);if(!o.ok)return!1;const i=await o.text();return localStorage.setItem(e,n.toString()),parseInt(i,10)>t}())return await async function(){try{await ka().then((e=>e.clear($a)))}catch(e){console.error(e)}}(),t;const n=new Set(e.map((e=>e.id)));try{const e=await ka();let r=await e.transaction($a).store.openCursor();for(;r;)n.has(r.key)&&t.set(r.key,r.value.result),r=await r.continue()}catch(e){console.error(e)}return t}const Aa="core/xref",_a={"web-platform":["HTML","INFRA","URL","WEBIDL","DOM","FETCH"]},Sa="https://respec.org/xref/",Ca=[];if(!document.querySelector("link[rel='preconnect'][href='https://respec.org']")){const e=st({hint:"preconnect",href:"https://respec.org"});document.head.appendChild(e)}function Ta(e){const t="xrefType"in e.dataset;let n=La(e);t||(n=n.toLowerCase());const r=function(e){const t=[];let n=e.closest("[data-cite]");for(;n;){const r=n.dataset.cite.toLowerCase().replace(/[!?]/g,"").split(/\s+/).filter((e=>e));if(r.length&&t.push(r),n===e)break;n=n.parentElement.closest("[data-cite]")}if(n!==e){const n=e.closest("section"),r=[...n?n.querySelectorAll("a.bibref"):[]].map((e=>e.textContent.toLowerCase()));r.length&&t.push(r)}const r=function(e){const t=[];for(const n of e){const e=t[t.length-1]||[],r=[...new Set(n)].filter((t=>!e.includes(t)));t.push(r.sort())}return t}(t);return r}(e),o=function(e,t){if(t)return e.dataset.xrefType?e.dataset.xrefType.split("|"):["_IDL_"];return["_CONCEPT_"]}(e,t),i=function(e,t){if(e.dataset.xrefFor)return mt(e.dataset.xrefFor);if(t){const t=e.closest("[data-xref-for]");if(t)return mt(t.dataset.xrefFor)}return null}(e,t);return{id:"",term:n,types:o,...r.length&&{specs:r},..."string"==typeof i&&{for:i}}}function La(e){const{lt:t}=e.dataset;let n=t?t.split("|",1)[0]:e.textContent;return n=mt(n),"the-empty-string"===n?"":n}function Ra(e,t,n,r){const{term:o,specs:i=[]}=t,{uri:a,shortname:s,spec:c,normative:l,type:d,for:u}=n,p=i.flat().includes(c)?c:s,f=new URL(a,"https://partial"),{pathname:h}=f,m={cite:p,citePath:h,citeFrag:f.hash.slice(1),type:d};u&&(m.linkFor=u[0]),f.origin&&"https://partial"!==f.origin&&(m.citeHref=f.href),Object.assign(e.dataset,m),function(e,t,n,r,o){const i=function(e){const t=e.closest(".normative"),n=e.closest(at);return!n||e===t||t&&n&&n.contains(t)}(e);if(!i)return void(o.normativeReferences.has(t)||o.informativeReferences.add(t));if(n){const e=o.informativeReferences.has(t)?o.informativeReferences.getCanonicalKey(t):t;return o.normativeReferences.add(e),void o.informativeReferences.delete(e)}Ca.push({term:r,spec:t,element:e})}(e,p,l,o,r)}function Na(e){const t=JSON.stringify(e,Object.keys(e).sort()),n=(new TextEncoder).encode(t);return crypto.subtle.digest("SHA-1",n).then(Ia)}function Ia(e){return[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}function Oa(e){const t=e.querySelectorAll("a[data-xref-for], a[data-xref-type], a[data-link-for]"),n=["data-xref-for","data-xref-type","data-link-for"];t.forEach((e=>{n.forEach((t=>e.removeAttribute(t)))}))}var Pa=Object.freeze({__proto__:null,API_URL:Sa,getTermFromElement:La,informativeRefsInNormative:Ca,name:Aa,run:async function(e){if(!e.xref)return;const t=function(e){const t={url:new URL("search/",Sa).href,specs:null},n=Object.assign({},t);switch(Array.isArray(e)?"array":typeof e){case"boolean":break;case"string":e.toLowerCase()in _a?Object.assign(n,{specs:_a[e.toLowerCase()]}):r(e);break;case"array":Object.assign(n,{specs:e});break;case"object":if(Object.assign(n,e),e.profile){const t=e.profile.toLowerCase();if(t in _a){const r=(e.specs??[]).concat(_a[t]);Object.assign(n,{specs:r})}else r(e.profile)}break;default:It(`Invalid value for \`xref\` configuration option. Received: "${e}".`,Aa)}return n;function r(e){It(`Invalid profile "${e}" in \`respecConfig.xref\`. Please use one of the supported profiles: ${ft(Object.keys(_a),(e=>`"${e}"`))}.`,Aa)}}(e.xref);if(t.specs){const e=document.body.dataset.cite?document.body.dataset.cite.split(/\s+/):[];document.body.dataset.cite=e.concat(t.specs).join(" ")}const n=fa.concat(function(){const e=document.querySelectorAll(":is(a,dfn)[data-cite]:not([data-cite=''],[data-cite*='#'])"),t=document.querySelectorAll("dfn.externalDFN");return[...e].filter((e=>{if(""===e.textContent.trim())return!1;const t=e.closest("[data-cite]");return!t||""!==t.dataset.cite})).concat(...t)}());if(!n.length)return;const r=[];for(const e of n){const t=Ta(e);t.id=await Na(t),r.push(t)}const o=await async function(e,t){const n=new Set,r=e.filter((e=>!n.has(e.id)&&(n.add(e.id)&&!0))),o=await Ea(r),i=r.filter((e=>!o.get(e.id))),a=await async function(e,t){if(!e.length)return new Map;const n={method:"POST",body:JSON.stringify({queries:e}),headers:{"Content-Type":"application/json"}},r=await fetch(t,n),o=await r.json();return new Map(o.results.map((({id:e,result:t})=>[e,t])))}(i,t);a.size&&await async function(e,t){try{const n=(await ka()).transaction($a,"readwrite");for(const r of e){const e=t.get(r.id);n.objectStore($a).add({query:r,result:e})}await n.done}catch(e){console.error(e)}}(r,a);return new Map([...o,...a])}(r,t.url);!function(e,t,n,r){const o={ambiguous:new Map,notFound:new Map};for(let i=0,a=e.length;i<a;i++){if(e[i].closest("[data-no-xref]"))continue;const a=e[i],s=t[i],{id:c}=s,l=n.get(c);if(1===l.length)Ra(a,s,l[0],r);else{const e=o[0===l.length?"notFound":"ambiguous"];e.has(c)||e.set(c,{elems:[],results:l,query:s}),e.get(c).elems.push(a)}}!function({ambiguous:e,notFound:t}){const n=(e,t,n=[])=>{const r=new URL(Sa);return r.searchParams.set("term",e),t.for&&r.searchParams.set("for",t.for),r.searchParams.set("types",t.types.join(",")),n.length&&r.searchParams.set("specs",n.join(",")),r.href},r=(e,t)=>zt`[See search matches for "${t}"](${e}) or ${"[Learn about this error|#error-term-not-found]"}.`;for(const{query:e,elems:o}of t.values()){const t=e.specs?[...new Set(e.specs.flat())].sort():[],i=La(o[0]),a=n(i,e),s=pt(t,(e=>`**[${e}]**`)),c=r(a,i);It(`Couldn't find "**${i}**"${e.for?`, for **"${e.for}"**, `:""} in this document or other cited documents: ${s}.`,Aa,{title:"No matching definition found.",elements:o,hint:c})}for(const{query:t,elems:o,results:i}of e.values()){const e=[...new Set(i.map((e=>e.shortname)))].sort(),a=pt(e,(e=>`**[${e}]**`)),s=La(o[0]),c=n(s,t,e),l=t.for?`, for **"${t.for}"**, `:"",d=r(c,s),u=zt`To fix, use the ${"[data-cite]"} attribute to pick the one you mean from the appropriate specification.`+String.raw` ${d}`;It(`The term "**${s}**"${l} is ambiguous because it's defined in ${a}.`,Aa,{title:"Definition is ambiguous.",elements:o,hint:u})}}(o)}(n,r,o,e),i("beforesave",Oa)}});var ja=String.raw`ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}`;const Da=gt({en:{heading:"Index",headingExternal:"Terms defined by reference",headlingLocal:"Terms defined by this specification",dfnOf:"definition of"}}),Ma=new Set(["attribute","callback","dict-member","dictionary","element-attr","element","enum-value","enum","exception","extended-attribute","interface","method","typedef"]);function za(e){const t=e.dataset,n=t.dfnType||t.idl||t.linkType||"";switch(n){case"":case"dfn":return"";default:return n}}function qa(e){const t=e.closest("[data-dfn-for]:not([data-dfn-for=''])");return t?t.dataset.dfnFor:""}function Fa(e,t,n=""){if(n.startsWith("[[")){return`internal slot for <code>${qa(e)}</code>`}switch(t){case"dict-member":case"method":case"attribute":case"enum-value":return`${"dict-member"===t?"member":t.replace("-"," ")} for <code>${qa(e)}</code>`;case"interface":case"dictionary":case"enum":return t;case"constructor":return`for <code>${qa(e)}</code>`;default:return""}}function Ua(){document.querySelectorAll("#index-defined-here li[data-id]").forEach((e=>e.append((e=>{const t=`§${document.getElementById(e).closest("section").querySelector(".secno").textContent.trim()}`;return Qe`<span class="print-only">${t}</span>`})(e.dataset.id))))}function Ba(){const e=new Set,t=new Map,n=document.querySelectorAll("a[data-cite]");for(const r of n){if(!r.dataset.cite)continue;const{cite:n,citeFrag:o,xrefType:i,linkType:a}=r.dataset;if(!(i||a||n.includes("#")||o))continue;const s=r.href;if(e.has(s))continue;const{type:c,linkFor:l}=r.dataset,d=La(r);if(!d)continue;const u=la(r).key.toUpperCase();(t.get(u)||t.set(u,[]).get(u)).push({term:d,type:c,linkFor:l,elem:r}),e.add(s)}return t}function Ha(e){const{elem:t}=e,n=function(e){const{term:t,type:n,linkFor:r}=e;let o=ht(t);Ma.has(n)&&("extended-attribute"===n&&(o=`[${o}]`),o=`<code>${o}</code>`);const i=Va.has(t)?"type":Wa.get(n);i&&(o+=` ${i}`);if(r){let e=r;/\s/.test(r)||(e=`<code>${e}</code>`),"element-attr"===n&&(e+=" element"),o+=` (for ${e})`}return o}(e);return Qe`<li>
    <span class="index-term" data-href="${t.href}">${{html:n}}</span>
  </li>`}const Wa=new Map([["attribute","attribute"],["element-attr","attribute"],["element","element"],["enum","enum"],["exception","exception"],["extended-attribute","extended attribute"],["interface","interface"]]),Va=new Set(["boolean","byte","octet","short","unsigned short","long","unsigned long","long long","unsigned long long","float","unrestricted float","double","unrestricted double","undefined","any","object","symbol"]);function Ya(e){e.querySelectorAll("#index-defined-elsewhere li[data-spec]").forEach((e=>e.removeAttribute("data-spec"))),e.querySelectorAll("#index-defined-here li[data-id]").forEach((e=>e.removeAttribute("data-id")))}var Ka=Object.freeze({__proto__:null,name:"core/dfn-index",run:function(){const e=document.querySelector("section#index");if(!e)return void i("toc",(()=>{}),{once:!0});const t=document.createElement("style");t.textContent=ja,document.head.appendChild(t),e.classList.add("appendix"),e.querySelector("h2, h1")||e.prepend(Qe`<h1>${Da.heading}</h1>`);const n=Qe`<section id="index-defined-here">
    <h3>${Da.headlingLocal}</h3>
    ${function(){const e=function(){const e=new Map,t=document.querySelectorAll("dfn:not([data-cite])");for(const n of t){if(!n.id)continue;const t=mt(n.textContent);(e.get(t)||e.set(t,[]).get(t)).push(n)}const n=[...e].sort((([e],[t])=>e.slice(e.search(/\w/)).localeCompare(t.slice(t.search(/\w/)))));return n}();return Qe`<ul class="index">
    ${e.map((([e,t])=>function(e,t){const n=(e,t,n)=>{const r=`#${e.id}`;return Qe`<li data-id=${e.id}>
      <a class="index-term" href="${r}">${{html:t}}</a> ${n?{html:n}:""}
    </li>`};if(1===t.length){const r=t[0],o=za(r),i=function(e,t,n){let r=n;"enum-value"===t&&(r=`"${r}"`);(Ma.has(t)||e.dataset.idl||e.closest("code"))&&(r=`<code>${r}</code>`);return r}(r,o,e),a=Fa(r,o,e);return n(r,i,a)}return Qe`<li>
    ${e}
    <ul>
      ${t.map((t=>{const r=Fa(t,za(t),e)||Da.dfnOf;return n(t,r)}))}
    </ul>
  </li>`}(e,t)))}
  </ul>`}()}
  </section>`;e.append(n);const r=Qe`<section id="index-defined-elsewhere">
    <h3>${Da.headingExternal}</h3>
    ${function(){const e=[...Ba().entries()].sort((([e],[t])=>e.localeCompare(t)));return Qe`<ul class="index">
    ${e.map((([e,t])=>Qe`<li data-spec="${e}">
        ${Xo(e)} defines the following:
        <ul>
          ${t.sort(((e,t)=>e.term.localeCompare(t.term))).map(Ha)}
        </ul>
      </li>`))}
  </ul>`}()}
  </section>`;e.append(r);for(const e of r.querySelectorAll(".index-term"))vt(e,"index-term");i("toc",Ua,{once:!0}),i("beforesave",Ya)}});var Xa=Object.freeze({__proto__:null,name:"1edtech/contrib",run:async function(e){if(e.contributors&&"errata"!==e.specType){const t=function(e){let t=!1;return e.forEach((e=>{e.role&&e.role.trim().length>0&&(t=!0)})),t}(e.contributors),n=qn(`<section id='contributors' class="appendix">\n    <h2>List of Contributors</h2>\n    <p>The following individuals contributed to the development of this document:</p>\n    <table class="contributors" title="List of Contributors"\n      summary="The list of contributors to this work.">\n      <thead>\n        <th>Name</th>\n        <th>Organization</th>\n        ${t?"<th>Role</th>":""}\n      </thead>\n      <tbody>\n          ${function(e,t){let n="";return e.forEach((e=>{n+=`<tr><td class='name'>${e.name}</td>`,n+="<td class='co'>",e.company&&(n+=e.company),n+="</td>",t&&(n+="<td class='role'>",e.role&&(n+=e.role),n+="</td>"),n+="</tr>"})),n}(e.contributors,t)}\n      </tbody>\n    </table>\n    </section>`);document.body.appendChild(n)}}});var Ga=Object.freeze({__proto__:null,name:"core/fix-headers",run:function(){[...document.querySelectorAll("section:not(.introductory)")].map((e=>e.querySelector("h1, h2, h3, h4, h5, h6"))).filter((e=>e)).forEach((e=>{const t=Math.min(function(e,t){const n=[];for(;e!=e.ownerDocument.body;)e.matches(t)&&n.push(e),e=e.parentElement;return n}(e,"section").length+1,6);xt(e,`h${t}`)}))}});const Za=["h2","h3","h4","h5","h6"],Ja="core/structure",Qa=gt({en:{toc:"Table of Contents"},zh:{toc:"内容大纲"},ko:{toc:"목차"},ja:{toc:"目次"},nl:{toc:"Inhoudsopgave"},es:{toc:"Tabla de Contenidos"},de:{toc:"Inhaltsverzeichnis"}});function es(e,t,{prefix:n=""}={}){let r=!1,o=0,i=1;if(n.length&&!n.endsWith(".")&&(n+="."),0===e.length)return null;const a=Qe`<ol class="toc"></ol>`;for(const s of e){!s.isAppendix||n||r||(o=i,r=!0);let e=s.isIntro?"":r?ts(i-o+1):n+i;const c=e.split(".").length;if(1===c&&(e+=".",s.header.before(document.createComment("OddPage"))),s.isIntro||(i+=1,s.header.prepend(Qe`<bdi class="secno">${e} </bdi>`)),c<=t){const n=s.header.id||s.element.id,r=rs(s.header,n),o=es(s.subsections,t,{prefix:e});o&&r.append(o),a.append(r)}}return a}function ts(e){let t="";for(;e>0;)e-=1,t=String.fromCharCode(65+e%26)+t,e=Math.floor(e/26);return t}function ns(e){const t=e.querySelectorAll(":scope > section"),n=[];for(const e of t){const t=e.classList.contains("notoc");if(!e.children.length||t)continue;const r=e.children[0];if(!Za.includes(r.localName))continue;const o=r.textContent;vt(e,null,o),n.push({element:e,header:r,title:o,isIntro:Boolean(e.closest(".introductory")),isAppendix:e.classList.contains("appendix"),subsections:ns(e)})}return n}function rs(e,t){const n=Qe`<a href="${`#${t}`}" class="tocxref" />`;var r;return n.append(...e.cloneNode(!0).childNodes),(r=n).querySelectorAll("a").forEach((e=>{const t=xt(e,"span");t.className="formerLink",t.removeAttribute("href")})),r.querySelectorAll("dfn").forEach((e=>{xt(e,"span").removeAttribute("id")})),Qe`<li class="tocline">${n}</li>`}var os=Object.freeze({__proto__:null,name:Ja,run:function(e){if("maxTocLevel"in e==!1&&(e.maxTocLevel=1/0),function(){const e=[...document.querySelectorAll("section:not(.introductory) :is(h1,h2,h3,h4,h5,h6):first-child")].filter((e=>!e.closest("section.introductory")));if(!e.length)return;e.forEach((e=>{const t=`h${Math.min(At(e,"section").length+1,6)}`;e.localName!==t&&xt(e,t)}))}(),!e.noTOC){!function(){const e=document.querySelectorAll("section[data-max-toc]");for(const t of e){const e=parseInt(t.dataset.maxToc,10);if(e<0||e>6||Number.isNaN(e)){It("`data-max-toc` must have a value between 0-6 (inclusive).",Ja,{elements:[t]});continue}if(0===e){t.classList.add("notoc");continue}const n=t.querySelectorAll(`:scope > ${Array.from({length:e},(()=>"section")).join(" > ")}`);for(const e of n)e.classList.add("notoc")}}();const t=es(ns(document.body),e.maxTocLevel);t&&function(e){if(!e)return;const t=Qe`<nav id="toc"></nav>`,n=Qe`<h2 class="introductory">${Qa.toc}</h2>`;vt(n),t.append(n,e);const r=document.getElementById("toc")||document.getElementById("sotd")||document.getElementById("abstract");r&&("toc"===r.id?r.replaceWith(t):r.after(t));const o=Qe`<p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">&uarr;</abbr></a>
  </p>`;document.body.append(o)}(t)}o("toc")}});const is=gt({en:{informative:"This section is non-normative."},nl:{informative:"Dit onderdeel is niet normatief."},ko:{informative:"이 부분은 비규범적입니다."},ja:{informative:"この節は仕様には含まれません．"},de:{informative:"Dieser Abschnitt ist nicht normativ."},zh:{informative:"本章节不包含规范性内容。"}});var as=Object.freeze({__proto__:null,name:"core/informative",run:function(){Array.from(document.querySelectorAll("section.informative")).map((e=>e.querySelector("h2, h3, h4, h5, h6"))).filter((e=>e)).forEach((e=>{e.after(Qe`<p><em>${is.informative}</em></p>`)}))}});var ss=String.raw`.caniuse-stats{display:flex;column-gap:2em}
.caniuse-group{display:flex;flex:1;flex-direction:column;justify-content:flex-end;flex-basis:auto}
.caniuse-browsers{display:flex;align-items:baseline;justify-content:space-between;flex-wrap:wrap;margin-top:.2em;column-gap:.4em;border-bottom:1px solid #ccc;row-gap:.4em;padding-bottom:.4cm}
.caniuse-type{align-self:center;border-top:none;text-transform:capitalize;font-size:.8em;margin-top:-.8em;font-weight:700}
.caniuse-type span{background-color:var(--bg,#fff);padding:0 .4em}
.caniuse-cell{align-items:center;border-radius:1cm;color:#fff;display:flex;font-size:90%;min-width:1.5cm;padding:.3rem;justify-content:space-evenly;--supported:#2a8436dd;--no-support:#c44230dd;--no-support-alt:#b43b2bdd;--partial:#807301dd;--partial-alt:#746c00dd;--unknown:#757575;background:repeating-linear-gradient(var(--caniuse-angle,45deg),var(--caniuse-bg) 0,var(--caniuse-bg-alt) 1px,var(--caniuse-bg-alt) .4em,var(--caniuse-bg) calc(.25em + 1px),var(--caniuse-bg) .75em)}
img.caniuse-browser{filter:drop-shadow(0 0 .1cm #666);background:0 0}
.caniuse-cell span.browser-version{margin-left:.4em;text-shadow:0 0 .1em #fff;font-weight:100;font-size:.9em}
.caniuse-stats a[href]{white-space:nowrap;align-self:flex-end}
.caniuse-cell.y{background:var(--supported)}
.caniuse-cell:is(.n,.d){--caniuse-angle:45deg;--caniuse-bg:var(--no-support);--caniuse-bg-alt:var(--no-support-alt)}
.caniuse-cell.u{background:var(--unknown)}
.caniuse-cell.d{--caniuse-angle:180deg}
.caniuse-cell:is(.a,.x,.p){--caniuse-angle:90deg;--caniuse-bg:var(--partial);--caniuse-bg-alt:var(--partial-alt)}
@media print{
.caniuse-cell.y::before{content:"✔️";padding:.5em}
.caniuse-cell.n::before{content:"❌";padding:.5em}
.caniuse-cell:is(.a,.d,.p,.x,.u)::before{content:"⚠️";padding:.5em}
}`;const cs="core/caniuse",ls="https://respec.org/caniuse/",ds=new Map([["and_chr",{name:"Android Chrome",path:"chrome",type:"mobile"}],["and_ff",{name:"Android Firefox",path:"firefox",type:"mobile"}],["and_uc",{name:"Android UC",path:"uc",type:"mobile"}],["chrome",{name:"Chrome",type:"desktop"}],["edge",{name:"Edge",type:"desktop"}],["firefox",{name:"Firefox",type:"desktop"}],["ios_saf",{name:"iOS Safari",path:"safari-ios",type:"mobile"}],["op_mob",{name:"Opera Mobile",path:"opera",type:"mobile"}],["opera",{name:"Opera",type:"desktop"}],["safari",{name:"Safari",type:"desktop"}],["samsung",{name:"Samsung Internet",path:"samsung-internet",type:"mobile"}]]),us=new Map([["a","almost supported (aka Partial support)"],["d","disabled by default"],["n","no support, or disabled by default"],["p","no support, but has Polyfill"],["u","unknown support"],["x","requires prefix to work"],["y","supported by default"]]);var ps=Object.freeze({__proto__:null,BROWSERS:ds,name:cs,prepare:function(e){if(!e.caniuse)return;!function(e){const t=new Set(ds.keys());t.delete("op_mob"),t.delete("opera");const n={removeOnSave:!0,browsers:[...t]};if("string"==typeof e.caniuse)return void(e.caniuse={feature:e.caniuse,...n});e.caniuse={...n,...e.caniuse}}(e),function({caniuse:e}){const{browsers:t}=e,n=t.filter((e=>!ds.has(e)));if(n.length){Ot(zt`Invalid browser(s): (${Dt(n,{quotes:!0})}) in the \`browser\` property of ${"[caniuse]"}.`,cs)}}(e);const t=e.caniuse;t.feature&&document.head.appendChild(Qe`<style
      id="caniuse-stylesheet"
      class="${t.removeOnSave?"removeOnSave":""}"
    >
      ${ss}
    </style>`)},run:async function(e){const t=e.caniuse;if(!t?.feature)return;const n=new URL(t.feature,"https://caniuse.com/").href,r=document.querySelector(".head dl"),a=async function(e){const{feature:t,browsers:n,apiURL:r}=e,o=new URL(r||`./${t}`,ls);n.forEach((e=>o.searchParams.append("browsers",e)));const i=await fetch(o);if(!i.ok){const{status:e,statusText:t}=i;throw new Error(`Failed to get caniuse data: (${e}) ${t}`)}return i.json()}(e.caniuse).then((e=>async function(e,{feature:t}){const n=e.result,r=new Map([["desktop",[]],["mobile",[]]]),o=function(e){return(t,{browser:n,version:r,caniuse:o})=>{const{name:i,type:a}=ds.get(n),s=`${i}${r?` version ${r}`:""}`,c=us.get(o),l=`${e} is ${c} since ${s} on ${a}.`,d=`caniuse-cell ${o}`,u=(p=`${c} since ${s}.`).charAt(0).toUpperCase()+p.slice(1);var p;const f=r||"—",h=function(e){const t=ds.get(e).path??e;return`https://www.w3.org/assets/logos/browser-logos/${t}/${t}.svg`}(n),m=Qe`
      <div class="${d}" title="${u}" aria-label="${l}">
        <img
          class="caniuse-browser"
          width="20"
          height="20"
          src="${h}"
          alt="${i} logo"
        /><span class="browser-version">${f}</span>
      </div>
    `;return t.get(a).push(m),t}}(t);n.reduce(o,r);const i=[...r].filter((([,e])=>e.length)).map((([e,t])=>Qe`<div class="caniuse-group">
          <div class="caniuse-browsers">${t}</div>
          <div class="caniuse-type"><span>${e}</div>
        </div>`));return i.push(Qe`<a class="caniuse-cell" href="https://caniuse.com/${t}"
      >More info</a
    >`),i}(e,t))).catch((e=>function(e,t,n){const r=`Failed to retrieve feature "${t.feature}".`,o=zt`Please check the feature key on [caniuse.com](https://caniuse.com) and update ${"[caniuse]"}.`;return It(r,cs,{hint:o}),console.error(e),Qe`<a href="${n}">caniuse.com</a>`}(e,t,n))),s=Qe`<dt class="caniuse-title">Browser support:</dt>
    <dd class="caniuse-stats">
      ${{any:a,placeholder:"Fetching data from caniuse.com..."}}
    </dd>`;r.append(...s.childNodes),await a,o("amend-user-config",{caniuse:t.feature}),t.removeOnSave&&(r.querySelectorAll(".caniuse-browser").forEach((e=>e.classList.add("removeOnSave"))),i("beforesave",(e=>{Qe.bind(e.querySelector(".caniuse-stats"))`
        <a href="${n}">caniuse.com</a>`})))}});var fs=String.raw`.mdn{font-size:.75em;position:absolute;right:.3em;min-width:0;margin-top:3rem}
.mdn details{width:100%;margin:1px 0;position:relative;z-index:10;box-sizing:border-box;padding:.4em;padding-top:0}
.mdn details[open]{min-width:25ch;max-width:32ch;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--indextable-hover-text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px;z-index:11;margin-bottom:.4em}
.mdn summary{text-align:right;cursor:default;margin-right:-.4em}
.mdn summary span{font-family:zillaslab,Palatino,"Palatino Linotype",serif;color:#fff;color:var(--bg,#fff);background-color:#000;background-color:var(--text,#000);display:inline-block;padding:3px}
.mdn a{display:inline-block;word-break:break-all}
.mdn p{margin:0}
.mdn .engines-all{color:#058b00}
.mdn .engines-some{color:#b00}
.mdn table{width:100%;font-size:.9em}
.mdn td{border:none}
.mdn td:nth-child(2){text-align:right}
.mdn .nosupportdata{font-style:italic;margin:0}
.mdn tr::before{content:"";display:table-cell;width:1.5em;height:1.5em;background:no-repeat center center/contain;font-size:.75em}
.mdn .no,.mdn .unknown{color:#ccc;filter:grayscale(100%)}
.mdn .no::before,.mdn .unknown::before{opacity:.5}
.mdn .chrome::before,.mdn .chrome_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)}
.mdn .edge::before,.mdn .edge_mobile::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)}
.mdn .firefox::before,.mdn .firefox_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)}
.mdn .opera::before,.mdn .opera_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)}
.mdn .safari::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)}
.mdn .safari_ios::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)}
.mdn .samsunginternet_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)}
.mdn .webview_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)}`;const hs="core/mdn-annotation",ms="https://w3c.github.io/mdn-spec-links/",gs="https://developer.mozilla.org/en-US/docs/Web/",bs={chrome:"Chrome",chrome_android:"Chrome Android",edge:"Edge",edge_mobile:"Edge Mobile",firefox:"Firefox",firefox_android:"Firefox Android",opera:"Opera",opera_android:"Opera Android",safari:"Safari",safari_ios:"Safari iOS",samsunginternet_android:"Samsung Internet",webview_android:"WebView Android"},ys=gt({en:{inAllEngines:"This feature is in all major engines.",inSomeEngines:"This feature has limited support."},zh:{inAllEngines:"所有主要引擎均支持此特性。",inSomeEngines:"此功能支持有限。"}});function ws(e){const t=e.closest("section");if(!t)return;const{previousElementSibling:n}=t;if(n&&n.classList.contains("mdn"))return n;const r=Qe`<aside class="mdn"></aside>`;return t.before(r),r}function vs(e){const{name:t,slug:n,summary:r,support:o,engines:i}=e,a=n.slice(n.indexOf("/")+1),s=`${gs}${n}`,c=`Expand MDN details for ${t}`,l=function(e){if(3===e.length)return Qe`<span title="${ys.inAllEngines}">✅</span>`;if(e.length<2)return Qe`<span title="${ys.inSomeEngines}">🚫</span>`;return Qe`<span>&emsp;</span>`}(i);return Qe`<details>
    <summary aria-label="${c}"><span>MDN</span>${l}</summary>
    <a title="${r}" href="${s}">${a}</a>
    ${function(e){if(3===e.length)return Qe`<p class="engines-all">${ys.inAllEngines}</p>`;if(e.length<2)return Qe`<p class="engines-some">${ys.inSomeEngines}</p>`}(i)}
    ${o?function(e){function t(e,t,n){const r="Unknown"===t?"?":t,o=`${e} ${t.toLowerCase()}`;return Qe`<tr class="${o}">
      <td>${bs[e]}</td>
      <td>${n||r}</td>
    </tr>`}function n(e,n){if(n.version_removed)return t(e,"No","");const r=n.version_added;return"boolean"==typeof r?t(e,r?"Yes":"No",""):r?t(e,"Yes",`${r}+`):t(e,"Unknown","")}return Qe`<table>
    ${Object.keys(bs).map((r=>e[r]?n(r,e[r]):t(r,"Unknown","")))}
  </table>`}(o):Qe`<p class="nosupportdata">No support data.</p>`}
  </details>`}var $s=Object.freeze({__proto__:null,name:hs,run:async function(e){const t=function(e){const{shortName:t,mdn:n}=e;if(!n)return;return"string"==typeof n?n:n.key||t}(e);if(!t)return;const n=await async function(e,t){const{baseJsonPath:n=ms,maxAge:r=864e5}=t,o=new URL(`${e}.json`,n).href,i=await async function(e,t=864e5){const n=new Request(e),r=new URL(n.url);let o,i;if("caches"in window)try{if(o=await caches.open(r.origin),i=await o.match(n),i&&new Date(i.headers.get("Expires"))>new Date)return i}catch(e){console.error("Failed to use Cache API.",e)}const a=await fetch(n);if(!a.ok&&i)return console.warn(`Returning a stale cached response for ${r}`),i;if(o&&a.ok){const e=a.clone(),r=new Headers(a.headers),i=new Date(Date.now()+t);r.set("Expires",i.toISOString());const s=new Response(await e.blob(),{headers:r});await o.put(n,s).catch(console.error)}return a}(o,r);if(404===i.status){return void It(`Could not find MDN data associated with key "${e}".`,hs,{hint:"Please add a valid key to `respecConfig.mdn`"})}return await i.json()}(t,e.mdn);if(!n)return;const r=document.createElement("style");r.textContent=fs,document.head.append(r);for(const e of function(e){return[...document.body.querySelectorAll("[id]:not(script)")].filter((({id:t})=>Array.isArray(e[t])))}(n)){const t=n[e.id],r=ws(e);if(r)for(const e of t)r.append(vs(e))}}});const xs="1edtech/exporter";function ks(e=document){const t=function(e){const t=e.querySelectorAll("img");t.forEach((e=>{e.setAttribute("src",function(e){try{const t=e.ownerDocument.createElement("canvas");t.width=e.width,t.height=e.height;return t.getContext("2d").drawImage(e,0,0,e.width,e.height),t.toDataURL()}catch(t){const n=t.toString();return n.startsWith("SecurityError")||It(n,xs),e.src}}(e))}));const n=e.cloneNode(!0);return Es(n),function(e){let t=!1,n=!1;e.childNodes.forEach((e=>{t?n?e.remove():"FOOTER"==e.nodeName?n=!0:("SCRIPT"==e.nodeName||"STYLE"==e.nodeName)&&e.remove():"HEADER"!==e.nodeName?e.remove():t=!0}))}(n.body),n.body.innerHTML}(e);return`data:text/html;charset=utf-8,${encodeURIComponent(t)}`}function Es(e){const{head:t,body:n,documentElement:r}=e;Tt(e),e.querySelectorAll(".removeOnSave, #toc-nav").forEach((e=>e.remove())),n.classList.remove("toc-sidebar"),ct(r);const i=e.createDocumentFragment(),a=e.querySelector("meta[name='viewport']");a&&t.firstChild!==a&&i.appendChild(a);let s=e.querySelector("meta[charset], meta[content*='charset=']");s||(s=Qe`<meta charset="utf-8" />`),i.appendChild(s);const c=`ReSpec ${window.respecVersion||"Developer Channel"}`,l=Qe`
    <meta name="generator" content="${c}" />
  `;i.appendChild(l),t.prepend(i),o("beforesave",r)}n(xs,{rsDocToCmsDataURL:ks,rsDocToCssDataURL:async function(e=document){const t=await async function(e){const t=e.cloneNode(!0);return Es(t),await async function(e){let t="";const n=e.querySelectorAll("link[rel='stylesheet']");await Promise.all(Array.from(n).map((async e=>{try{const n=await fetch(e.href),r=await n.text();t+=r}catch(t){It(`Cannot retrieve stylesheet ${e.href}. ${t}.`,xs)}})));return e.querySelectorAll("style").forEach((e=>{t+=e.innerText})),t}(t.head)}(e);return`data:text/css;charset=utf-8,${encodeURIComponent(t)}`}});const As="ui/save-html",_s=gt({en:{save_snapshot:"Export"},nl:{save_snapshot:"Bewaar Snapshot"},ja:{save_snapshot:"保存する"},de:{save_snapshot:"Exportieren"},zh:{save_snapshot:"导出"}}),Ss=[{id:"respec-save-as-html",ext:"html",title:"HTML",type:"text/html",get href(){return Ut(this.type)}},{id:"respec-save-as-xml",ext:"xhtml",title:"XML",type:"application/xml",get href(){return Ut(this.type)}},{id:"respec-save-as-epub",ext:"epub",title:"EPUB 3",type:"application/epub+zip",get href(){const e=new URL("https://labs.w3.org/r2epub/");return e.searchParams.append("respec","true"),e.searchParams.append("url",document.location.href),e.href}},{id:"respec-save-as-cms-extract",ext:"txt",title:"CMS EXTRACT",type:"application/cms",get href(){return ks()}}];function Cs(e,t){const{id:n,href:r,ext:o,title:i,type:a}=e,s=function(e,t=""){return it.format(e).replace(ot,t)}(t.publishDate||new Date),c=[t.specStatus,t.shortName||"spec",s].join("-");return Qe`<a
    href="${r}"
    id="${n}"
    download="${c}.${o}"
    type="${a}"
    class="respec-save-button"
    onclick=${()=>vn.closeModal()}
    >${i}</a
  >`}var Ts=Object.freeze({__proto__:null,exportDocument:function(e,t){return Ot("Exporting via ui/save-html module's `exportDocument()` is deprecated and will be removed.",As,{hint:"Use core/exporter `rsDocToDataURL()` instead."}),Ut(t)},name:As,run:function(e){const t={async show(t){await document.respec.ready;const n=Qe`<div class="respec-save-buttons">
        ${Ss.map((t=>Cs(t,e)))}
      </div>`;vn.freshModal(_s.save_snapshot,n,t)}},n="download"in HTMLAnchorElement.prototype;let r;n&&(r=vn.addCommand(_s.save_snapshot,(function(){if(!n)return;t.show(r)}),"Ctrl+Shift+Alt+S","💾"))}});const Ls="https://respec.org/specref/",Rs=gt({en:{search_specref:"Search Specref"},nl:{search_specref:"Doorzoek Specref"},ja:{search_specref:"仕様検索"},de:{search_specref:"Spezifikationen durchsuchen"},zh:{search_specref:"搜索 Specref"}}),Ns=vn.addCommand(Rs.search_specref,(function(){const e=Qe`
    <iframe class="respec-iframe" src="${Ls}" onload=${e=>e.target.classList.add("ready")}></iframe>
    <a href="${Ls}" target="_blank">Open Search UI in a new tab</a>
  `;vn.freshModal(Rs.search_specref,e,Ns)}),"Ctrl+Shift+Alt+space","🔎");var Is=Object.freeze({__proto__:null});const Os="https://respec.org/xref/",Ps=gt({en:{title:"Search definitions"},ja:{title:"定義検索"},de:{title:"Definitionen durchsuchen"},zh:{title:"搜索定义"}}),js=vn.addCommand(Ps.title,(function(){const e=Qe`
    <iframe class="respec-iframe" src="${Os}" onload="${e=>e.target.classList.add("ready")}"></iframe>
    <a href="${Os}" target="_blank">Open Search UI in a new tab</a>
  `;vn.freshModal(Ps.title,e,js)}),"Ctrl+Shift+Alt+x","📚");var Ds=Object.freeze({__proto__:null});const Ms=gt({en:{about_respec:"About"},zh:{about_respec:"关于"},nl:{about_respec:"Over"},ja:{about_respec:"これについて"},de:{about_respec:"Über"}});window.respecVersion=window.respecVersion||"Developer Edition";const zs=document.createElement("div"),qs=Qe.bind(zs),Fs=vn.addCommand(`${Ms.about_respec} ${window.respecVersion}`,(function(){const e=[];"getEntriesByType"in performance&&performance.getEntriesByType("measure").sort(((e,t)=>t.duration-e.duration)).map((({name:e,duration:t})=>({name:e,duration:t>1e3?`${Math.round(t/1e3)} second(s)`:`${t.toFixed(2)} milliseconds`}))).map(Us).forEach((t=>{e.push(t)}));qs`
  <p>
    ReSpec is a document production toolchain, with a notable focus on W3C specifications.
  </p>
  <p>
    <a href='https://respec.org/docs'>Documentation</a>,
    <a href='https://github.com/speced/respec/issues'>Bugs</a>.
  </p>
  <table border="1" width="100%" hidden="${!e.length}">
    <caption>
      Loaded plugins
    </caption>
    <thead>
      <tr>
        <th>
          Plugin Name
        </th>
        <th>
          Processing time
        </th>
      </tr>
    </thead>
    <tbody>${e}</tbody>
  </table>
`,vn.freshModal(`${Ms.about_respec} - ${window.respecVersion}`,zs,Fs)}),"Ctrl+Shift+Alt+A","ℹ️");function Us({name:e,duration:t}){return Qe`
    <tr>
      <td><a href="${`https://github.com/speced/respec/blob/develop/src/${e}.js`}">${e}</a></td>
      <td>${t}</td>
    </tr>
  `}var Bs=Object.freeze({__proto__:null});var Hs=Object.freeze({__proto__:null,name:"core/seo",run:function(e){if(e.gitRevision){const t=Qe`<meta
      name="revision"
      content="${e.gitRevision}"
    />`;document.head.appendChild(t)}const t=document.querySelector("#abstract p:first-of-type");if(!t)return;const n=t.textContent.replace(/\s+/," ").trim(),r=document.createElement("meta");r.name="description",r.content=n,document.head.appendChild(r)}});var Ws=Object.freeze({__proto__:null,name:"1edtech/seo",run:async function(e){const t=document.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e.thisURL),document.head.appendChild(t)}});var Vs=String.raw`.hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
@media (prefers-color-scheme:dark){
.hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
}
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
.hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
.hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}`;async function Ys(t){const n=await fetch(new URL(`../../${t}`,e&&e.src||new URL("respec-1edtech.js",document.baseURI).href));return await n.text()}const Ks=st({hint:"preload",href:"https://www.w3.org/Tools/respec/respec-highlight",as:"script"});document.head.appendChild(Ks);const Xs=async function(){const e=await async function(){try{return(await Promise.resolve().then((function(){return xl}))).default}catch{return Ys("worker/respec-worker.js")}}(),t=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));return new Worker(t)}();n("core/worker",Xs.then((e=>({worker:e}))));const Gs=function(e,t=0){const n=function*(e,t){for(;;)yield`${e}:${t}`,t++}(e,t);return()=>n.next().value}("highlight");async function Zs(e){e.setAttribute("aria-busy","true");const t=(n=e.classList,Array.from(n).filter((e=>"highlight"!==e&&"nolinks"!==e)).map((e=>e.toLowerCase())));var n;let r;try{r=await async function(e,t){const n={action:"highlight",code:e,id:Gs(),languages:t},r=await Xs;return r.postMessage(n),new Promise(((e,t)=>{const o=setTimeout((()=>{t(new Error("Timed out waiting for highlight."))}),4e3);r.addEventListener("message",(function t(i){const{data:{id:a,language:s,value:c}}=i;a===n.id&&(r.removeEventListener("message",t),clearTimeout(o),e({language:s,value:c}))}))}))}(e.innerText,t)}catch(e){return void console.error(e)}const{language:o,value:i}=r;switch(e.localName){case"pre":e.classList.remove(o),e.innerHTML=`<code class="hljs${o?` ${o}`:""}">${i}</code>`,e.classList.length||e.removeAttribute("class");break;case"code":e.innerHTML=i,e.classList.add("hljs"),o&&e.classList.add(o)}e.setAttribute("aria-busy","false")}var Js=Object.freeze({__proto__:null,name:"core/highlight",run:async function(e){if(e.noHighlightCSS)return;const t=[...document.querySelectorAll("\n    pre:not(.idl):not(.nohighlight) > code:not(.nohighlight),\n    pre:not(.idl):not(.nohighlight),\n    code.highlight\n  ")].filter((e=>"pre"!==e.localName||!e.querySelector("code")));if(!t.length)return;const n=t.filter((e=>e.textContent.trim())).map(Zs);document.head.appendChild(Qe`<style>
      ${Vs}
    </style>`),await Promise.all(n)}});const Qs=gt({en:{missing_test_suite_uri:zt`Found tests in your spec, but missing ${"[testSuiteURI]"} in your ReSpec config.`,tests:"tests",test:"test"},ja:{missing_test_suite_uri:zt`この仕様内にテストの項目を検出しましたが，ReSpec の設定に ${"[testSuiteURI]"} が見つかりません．`,tests:"テスト",test:"テスト"},de:{missing_test_suite_uri:zt`Die Spezifikation enthält Tests, aber in der ReSpec-Konfiguration ist keine ${"[testSuiteURI]"} angegeben.`,tests:"Tests",test:"Test"},zh:{missing_test_suite_uri:zt`本规范中包含测试，但在 ReSpec 配置中缺少 ${"[testSuiteURI]"}。`,tests:"测试",test:"测试"}}),ec="core/data-tests";function tc(e){const t=[],[n]=new URL(e).pathname.split("/").reverse(),r=n.split(".");let[o]=r;if(r.find((e=>"https"===e))){const e=document.createElement("span");e.textContent="🔒",e.setAttribute("aria-label","requires a secure connection"),e.setAttribute("title","Test requires HTTPS"),o=o.replace(".https",""),t.push(e)}if(o.split(".").join("-").split("-").find((e=>"manual"===e))){const e=document.createElement("span");e.textContent="💪",e.setAttribute("aria-label","the test must be run manually"),e.setAttribute("title","Manual test"),o=o.replace("-manual",""),t.push(e)}return Qe`
    <li>
      <a href="${e}">${o}</a>
      ${t}
    </li>
  `}function nc(e,t,n){return e.map((e=>{try{return new URL(e,t).href}catch{Ot(zt`Invalid URL in ${"[data-tests]"} attribute: ${e}.`,ec,{elements:[n]})}})).filter((e=>e))}function rc(e,t){const n=e.filter(((e,t,n)=>n.indexOf(e)!==t));if(n.length){const e=zt`Duplicate tests found in the ${"[data-tests]"} attribute.`,r=zt`To fix, remove duplicates from ${"[data-tests]"}: ${Dt(n,{quotes:!0})}.`;Ot(e,ec,{hint:r,elements:[t]})}}function oc(e){const t=[...new Set(e)];return Qe`
    <details class="respec-tests-details removeOnSave">
      <summary>tests: ${t.length}</summary>
      <ul>
        ${t.map(tc)}
      </ul>
    </details>
  `}var ic=Object.freeze({__proto__:null,name:ec,run:function(e){const t=[...document.querySelectorAll("[data-tests]")].filter((e=>e.dataset.tests));if(t.length)if(e.testSuiteURI)for(const n of t){const t=nc(n.dataset.tests.split(/,/gm).map((e=>e.trim())),e.testSuiteURI,n);rc(t,n);const r=oc(t);n.append(r)}else It(Qs.missing_test_suite_uri,ec)}});const ac="core/list-sorter";function sc(e){const t="ascending"===e?1:-1;return({textContent:e},{textContent:n})=>t*e.trim().localeCompare(n.trim())}function cc(e,t){return[...e.querySelectorAll(":scope > li")].sort(sc(t)).reduce(((e,t)=>(e.appendChild(t),e)),document.createDocumentFragment())}function lc(e,t){return[...e.querySelectorAll(":scope > dt")].sort(sc(t)).reduce(((e,t)=>{const{nodeType:n,nodeName:r}=t,o=document.createDocumentFragment();let{nextSibling:i}=t;for(;i&&i.nextSibling;){o.appendChild(i.cloneNode(!0));const{nodeType:e,nodeName:t}=i.nextSibling;if(e===n&&t===r)break;i=i.nextSibling}return o.prepend(t.cloneNode(!0)),e.appendChild(o),e}),document.createDocumentFragment())}var dc=Object.freeze({__proto__:null,name:ac,run:function(){const e=document.querySelectorAll("[data-sort]");for(const t of e){let e;const n=t.dataset.sort||"ascending";switch(t.localName){case"dl":e=lc(t,n);break;case"ol":case"ul":e=cc(t,n);break;default:Ot(`ReSpec can't sort ${t.localName} elements.`,ac,{elements:[t]})}if(e){const n=document.createRange();n.selectNodeContents(t),n.deleteContents(),t.appendChild(e)}}},sortDefinitionTerms:lc,sortListItems:cc});var uc=String.raw`var:hover{text-decoration:underline;cursor:pointer}
var.respec-hl{color:var(--color,#000);background-color:var(--bg-color);box-shadow:0 0 0 2px var(--bg-color)}
@media (prefers-color-scheme:dark){
var.respec-hl{filter:saturate(.9) brightness(.9)}
}
var.respec-hl-c1{--bg-color:#f4d200}
var.respec-hl-c2{--bg-color:#ff87a2}
var.respec-hl-c3{--bg-color:#96e885}
var.respec-hl-c4{--bg-color:#3eeed2}
var.respec-hl-c5{--bg-color:#eacfb6}
var.respec-hl-c6{--bg-color:#82ddff}
var.respec-hl-c7{--bg-color:#ffbcf2}
@media print{
var.respec-hl{background:0 0;color:#000;box-shadow:unset}
}`;function pc(e){e.stopPropagation();const{target:t}=e,n=function(e){const t=mt(e.textContent),n=e.closest(".algorithm, section"),r=hc(e),o=[...n.querySelectorAll("var")].filter((e=>mt(e.textContent)===t&&e.closest(".algorithm, section")===n)),i=o[0].classList.contains("respec-hl");if(fc.set(r,i),i)return o.forEach((e=>mc(e,r))),[];o.forEach((e=>function(e,t){e.classList.add("respec-hl",t)}(e,r)));return o}(t),r=()=>{const e=hc(t);n.forEach((t=>mc(t,e))),[...fc.keys()].forEach((e=>fc.set(e,!0)))};n.length&&document.body.addEventListener("click",r,{once:!0})}const fc=new Map([["respec-hl-c1",!0],["respec-hl-c2",!0],["respec-hl-c3",!0],["respec-hl-c4",!0],["respec-hl-c5",!0],["respec-hl-c6",!0],["respec-hl-c7",!0]]);function hc(e){const{value:t}=e.classList,n=/respec-hl-\w+/,r=n.test(t)&&t.match(n);return r?r[0]:!0===fc.get("respec-hl-c1")?"respec-hl-c1":[...fc.keys()].find((e=>fc.get(e)))||"respec-hl-c1"}function mc(e,t){e.classList.remove("respec-hl",t),e.classList.length||e.removeAttribute("class")}var gc=Object.freeze({__proto__:null,name:"core/highlight-vars",run:function(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=uc,t.classList.add("removeOnSave"),document.head.appendChild(t),document.querySelectorAll("var").forEach((e=>e.addEventListener("click",pc))),i("beforesave",(e=>{e.querySelectorAll("var.respec-hl").forEach(mc)}))}});var bc=String.raw`dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}`;function yc(e){const{id:t}=e,n=e.dataset.href||`#${t}`,r=document.querySelectorAll(`a[href="${n}"]:not(.index-term)`),o=`dfn-panel-for-${e.id}`,i=e.getAttribute("aria-label")||mt(e.textContent),a=Qe`
    <div
      class="dfn-panel"
      id="${o}"
      hidden
      role="dialog"
      aria-modal="true"
      aria-label="Links in this document to definition: ${i}"
    >
      <span class="caret"></span>
      <div>
        <a
          class="self-link"
          href="${n}"
          aria-label="Permalink for definition: ${i}. Activate to close this dialog."
          >Permalink</a
        >
        ${function(e){return e.matches("dfn[data-export]")?Qe`<span
    class="marker dfn-exported"
    title="Definition can be referenced by other specifications"
    >exported</span
  >`:null}(e)} ${function(e,t){if(!e.hasAttribute("data-idl"))return null;for(const n of t){if(n.dataset.linkType!==e.dataset.dfnType)continue;const t=n.closest("pre.idl");if(t&&t.id){const e=`#${t.id}`;return Qe`<a
        href="${e}"
        class="marker idl-block"
        title="Jump to IDL declaration"
        >IDL</a
      >`}}return null}(e,r)}
      </div>
      <p><b>Referenced in:</b></p>
      ${function(e,t){if(!t.length)return Qe`<ul>
      <li>Not referenced in this document.</li>
    </ul>`;const n=new Map;t.forEach(((t,r)=>{const o=t.id||`ref-for-${e}-${r+1}`;t.id||(t.id=o);const i=function(e){const t=e.closest("section");if(!t)return null;const n=t.querySelector("h1, h2, h3, h4, h5, h6");return n?`§ ${mt(n.textContent)}`:null}(t);(n.get(i)||n.set(i,[]).get(i)).push(o)}));const r=([e,t])=>[{title:e,id:t[0],text:e}].concat(t.slice(1).map(((e,t)=>({title:`Reference ${t+2}`,text:`(${t+2})`,id:e})))),o=e=>Qe`<li>
      ${r(e).map((e=>Qe`<a href="#${e.id}" title="${e.title}">${e.text}</a
          >${" "}`))}
    </li>`;return Qe`<ul>
    ${[...n].map(o)}
  </ul>`}(t,r)}
    </div>
  `;return a}var wc=Object.freeze({__proto__:null,name:"core/dfn-panel",run:async function(){document.head.insertBefore(Qe`<style>
      ${bc}
    </style>`,document.querySelector("link"));const e=document.querySelectorAll("dfn[id]:not([data-cite]), #index-defined-elsewhere .index-term"),t=document.createDocumentFragment();for(const n of e)t.append(yc(n)),n.tabIndex=0,n.setAttribute("aria-haspopup","dialog");document.body.append(t);const n=document.createElement("script");n.id="respec-dfn-panel",n.textContent=await async function(){try{return(await Promise.resolve().then((function(){return kl}))).default}catch{return Ys("./src/core/dfn-panel.runtime.js")}}(),document.body.append(n)}});var vc=String.raw`var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}`;var $c=Object.freeze({__proto__:null,name:"core/data-type",run:function(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=vc,document.head.appendChild(t);let n=null;const r=new Map,o=document.querySelectorAll("section var");for(const e of o){const t=e.closest("section");if(n!==t&&(n=t,r.clear()),e.dataset.type){r.set(e.textContent.trim(),e.dataset.type);continue}const o=r.get(e.textContent.trim());o&&(e.dataset.type=o)}}});var xc=String.raw`:root{--assertion-border:#aaa;--assertion-bg:#eee;--assertion-text:black}
.assert{border-left:.5em solid #aaa;padding:.3em;border-color:#aaa;border-color:var(--assertion-border);background:#eee;background:var(--assertion-bg);color:#000;color:var(--assertion-text)}
@media (prefers-color-scheme:dark){
:root{--assertion-border:#444;--assertion-bg:var(--borderedblock-bg);--assertion-text:var(--text)}
}`;var kc=Object.freeze({__proto__:null,name:"core/algorithms",run:function(){const e=Array.from(document.querySelectorAll("ol.algorithm li")).filter((e=>e.textContent.trim().startsWith("Assert: ")));if(!e.length)return;for(const t of e){t.classList.add("assert");const e=t.firstChild;e instanceof Text&&e.textContent.startsWith("Assert: ")&&(e.textContent=e.textContent.replace("Assert: ",""),t.prepend(Qe`<a href="https://infra.spec.whatwg.org/#assert">Assert</a>`,": "))}const t=document.createElement("style");t.textContent=xc,document.head.appendChild(t)}});const Ec="core/anchor-expander";function Ac(e,t,n){const r=e.querySelector(".marker .self-link");if(!r){n.textContent=n.getAttribute("href");return void It(`Found matching element "${t}", but it has no title or marker.`,Ec,{title:"Missing title.",elements:[n]})}const o=Ct(r);n.append(...o.childNodes),n.classList.add("box-ref")}function _c(e,t,n){const r=e.querySelector("figcaption");if(!r){n.textContent=n.getAttribute("href");return void It(`Found matching figure "${t}", but figure is lacking a \`<figcaption>\`.`,Ec,{title:"Missing figcaption in referenced figure.",elements:[n]})}const o=[...Ct(r.querySelector(".self-link")).childNodes].map((e=>(e.classList?.remove("figno"),e)));n.append(...o),n.classList.add("fig-ref");const i=r.querySelector(".fig-title");!n.hasAttribute("title")&&i&&(n.title=mt(i.textContent))}function Sc(e,t,n){if(!e.classList.contains("numbered"))return;const r=e.querySelector("caption");if(!r){n.textContent=n.getAttribute("href");return void It(`Found matching table "${t}", but table is lacking a \`<caption>\`.`,Ec,{title:"Missing caption in referenced table.",elements:[n]})}const o=[...Ct(r.querySelector(".self-link")).childNodes].map((e=>(e.classList?.remove("tableno"),e)));n.append(...o),n.classList.add("table-ref");const i=r.querySelector(".table-title");!n.hasAttribute("title")&&i&&(n.title=mt(i.textContent))}function Cc(e,t,n){const r=e.querySelector("h6, h5, h4, h3, h2");if(r)Tc(r,n),Lc(r,n);else{n.textContent=n.getAttribute("href");It("Found matching section, but the section was lacking a heading element.",Ec,{title:`No matching id in document: "${t}".`,elements:[n]})}}function Tc(e,t){const n=e.querySelector(".self-link"),r=[...Ct(e).childNodes].filter((e=>!e.classList||!e.classList.contains("self-link")));t.append(...r),n&&t.prepend("§ "),t.classList.add("sec-ref"),t.lastChild.nodeType===Node.TEXT_NODE&&(t.lastChild.textContent=t.lastChild.textContent.trimEnd()),t.querySelectorAll("a").forEach((e=>{const t=xt(e,"span");for(const e of[...t.attributes])t.removeAttributeNode(e)}))}function Lc(e,t){for(const n of["dir","lang"]){if(t.hasAttribute(n))continue;const r=e.closest(`[${n}]`);if(!r)continue;const o=t.closest(`[${n}]`);o&&o.getAttribute(n)===r.getAttribute(n)||t.setAttribute(n,r.getAttribute(n))}}var Rc=Object.freeze({__proto__:null,name:Ec,run:function(){const e=[...document.querySelectorAll("a[href^='#']:not(.self-link):not([href$='the-empty-string'])")].filter((e=>""===e.textContent.trim()));for(const t of e){const e=t.getAttribute("href").slice(1),n=document.getElementById(e);if(n){switch(n.localName){case"h6":case"h5":case"h4":case"h3":case"h2":Tc(n,t);break;case"section":Cc(n,e,t);break;case"figure":_c(n,e,t);break;case"table":Sc(n,e,t);break;case"aside":case"div":Ac(n,e,t);break;default:t.textContent=t.getAttribute("href");It("ReSpec doesn't support expanding this kind of reference.",Ec,{title:`Can't expand "#${e}".`,elements:[t]})}Lc(n,t),t.normalize()}else{t.textContent=t.getAttribute("href");It(`Couldn't expand inline reference. The id "${e}" is not in the document.`,Ec,{title:`No matching id in document: ${e}.`,elements:[t]})}}}});const Nc="rs-changelog",Ic=class extends HTMLElement{constructor(){super(),this.props={from:this.getAttribute("from"),to:this.getAttribute("to")||"HEAD",filter:"function"==typeof window[this.getAttribute("filter")]?window[this.getAttribute("filter")]:()=>!0}}connectedCallback(){const{from:e,to:t,filter:n}=this.props;Qe.bind(this)`
      <ul>
      ${{any:Oc(e,t,n).then((e=>async function(e){const{repoURL:t}=await Wn;return e.map((e=>{const[n,r=null]=e.message.split(/\(#(\d+)\)/,2),o=`${t}commit/${e.hash}`,i=r&&Qe` (<a href="${r?`${t}pull/${r}`:null}">#${r}</a>)`;return Qe`<li><a href="${o}">${n.trim()}</a>${i}</li>`}))}(e))).catch((e=>It(e.message,Nc,{elements:[this]}))).finally((()=>{this.dispatchEvent(new CustomEvent("done"))})),placeholder:"Loading list of commits..."}}
      </ul>
    `}};async function Oc(e,t,n){let r;try{const o=await Wn;if(!o)throw new Error("`respecConfig.github` is not set");const i=new URL("commits",`${o.apiBase}/${o.fullName}/`);i.searchParams.set("from",e),i.searchParams.set("to",t);const a=await fetch(i.href);if(!a.ok)throw new Error(`Request to ${i} failed with status code ${a.status}`);if(r=await a.json(),!r.length)throw new Error(`No commits between ${e}..${t}.`);r=r.filter(n)}catch(e){const t=`Error loading commits from GitHub. ${e.message}`;throw console.error(e),new Error(t)}return r}const Pc=[Object.freeze({__proto__:null,element:Ic,name:Nc})];var jc=Object.freeze({__proto__:null,name:"core/custom-elements/index",run:async function(){Pc.forEach((e=>{customElements.define(e.name,e.element)}));const e=Pc.map((e=>e.name)).join(", "),t=[...document.querySelectorAll(e)].map((e=>new Promise((t=>e.addEventListener("done",t,{once:!0})))));await Promise.all(t)}});var Dc=Object.freeze({__proto__:null,name:"1edtech/cleanBody",run:async function(e){if(e.cleanBodyAll||e.cleanBodyScripts){document.body.querySelectorAll("script").forEach((e=>{e.parentNode.removeChild(e)}))}if(e.cleanBodyAll||e.cleanBodyCSS){document.querySelectorAll("*[style]").forEach((e=>{e.removeAttribute("style")}))}}});var Mc=Object.freeze({__proto__:null,name:"1edtech/title-attrs",run:async function(e){if(e.noTitleAttrs)return;document.body.querySelectorAll("a[href].internalDFN").forEach((e=>{const t=e.getAttribute("href"),n=document.body.querySelector(t);if(n&&"DFN"===n.tagName){let t="";if(function(e,t){const n=e.closest(t);return null!=n}(n,"dt")){const e=n.closest("dt").nextElementSibling;e&&"DD"===e.tagName&&(t=e.textContent)}else{const e=n.closest("p, td, li, div, aside");e&&(t=e.textContent)}if(t.length>0){t=t.replace(/^(\s*)|(\s*)$/g,"").replace(/\s+/g," ");const n=document.createAttribute("title");n.value=t,e.setAttributeNode(n)}}}))}});var zc=Object.freeze({__proto__:null,name:"1edtech/scripts",run:async function(e){if(e.noSideBarTOC)document.body.className+=" toc-inline";else{let t="https://purl.imsglobal.org/spec/fixup.js";e.overrideFixupLocation&&(t=e.overrideFixupLocation),function(e){const t=document.createElement("script");t.addEventListener("load",(()=>{window.location.hash&&(window.location=window.location)}),{once:!0}),t.src=e,document.body.appendChild(t)}(t)}}});var qc=Object.freeze({__proto__:null,name:"1edtech/comments",run:async function(){const e=document.createNodeIterator(document.documentElement,NodeFilter.SHOW_COMMENT),t=[];let n;for(;n=e.nextNode();)t.push(n);t.forEach((e=>{e.parentElement.removeChild(e)}))}});var Fc=Object.freeze({__proto__:null,name:"1edtech/focus-code",run:async function(e){document.body.querySelectorAll("pre code").forEach((e=>{e.tabIndex=0}))}});var Uc=Object.freeze({__proto__:null,name:"1edtech/footers",run:async function(e){const t=(e=>Qe`<footer>
    <div id="endWarranty">
      <p>
        1EdTech&trade; Consortium, Inc. ("1EdTech") is publishing the
        information contained in this document ("Specification") for purposes of
        scientific, experimental, and scholarly collaboration only.
      </p>
      <p>
        1EdTech makes no warranty or representation regarding the accuracy or
        completeness of the Specification.
      </p>
      <p>This material is provided on an "As Is" and "As Available" basis.</p>
      <p>
        The Specification is at all times subject to change and revision without
        notice.
      </p>
      <p>
        It is your sole responsibility to evaluate the usefulness, accuracy, and
        completeness of the Specification as it relates to you.
      </p>
      <p>1EdTech would appreciate receiving your comments and suggestions.</p>
      <p>
        Please contact 1EdTech through our website at
        <a href="https://www.1edtech.org">www.1edtech.org</a>.
      </p>
      <p>
        Please refer to Document Name: ${e.specTitle.replace("<br/>"," ")}
        ${e.specVersion}
      </p>
      <p>Date: ${e.specDate}</p>
      <div></div>
    </div>
  </footer>`)(e);document.body.appendChild(t)}});const Bc="core/linter-rules/check-charset",Hc=gt({en:{msg:"Document must only contain one `<meta>` tag with charset set to 'utf-8'",hint:'Add this line in your document `<head>` section - `<meta charset="utf-8">` or set charset to "utf-8" if not set already.'},zh:{msg:"文档只能包含一个 charset 属性为 utf-8 的 `<meta>` 标签",hint:'将此行添加到文档的 `<head>` 部分—— `<meta charset="utf-8">` 或将 charset 设置为 utf-8（如果尚未设置）。'}});var Wc=Object.freeze({__proto__:null,name:Bc,run:function(e){if(!e.lint?.["check-charset"])return;const t=document.querySelectorAll("meta[charset]"),n=[];for(const e of t)n.push(e.getAttribute("charset").trim().toLowerCase());n.includes("utf-8")&&1===t.length||Ot(Hc.msg,Bc,{hint:Hc.hint,elements:[...t]})}});const Vc="core/linter-rules/check-punctuation",Yc=[".",":","!","?"],Kc=gt({en:{msg:"`p` elements should end with a punctuation mark.",hint:`Please make sure \`p\` elements end with one of: ${Yc.map((e=>`"${e}"`)).join(", ")}.`}});var Xc=Object.freeze({__proto__:null,name:Vc,run:function(e){if(!e.lint?.["check-punctuation"])return;const t=new RegExp(`[${Yc.join("")}\\]]$|^ *$`,"m"),n=[...document.querySelectorAll("p:not(#back-to-top,#w3c-state)")].filter((e=>!t.test(e.textContent.trim())));n.length&&Ot(Kc.msg,Vc,{hint:Kc.hint,elements:n})}});const Gc="core/linter-rules/check-internal-slots",Zc=gt({en:{msg:"Internal slots should be preceded by a '.'",hint:"Add a '.' between the elements mentioned."}});var Jc=Object.freeze({__proto__:null,name:Gc,run:function(e){if(!e.lint?.["check-internal-slots"])return;const t=[...document.querySelectorAll("var+a")].filter((({previousSibling:{nodeName:e}})=>e&&"VAR"===e));t.length&&Ot(Zc.msg,Gc,{hint:Zc.hint,elements:t})}});const Qc="core/linter-rules/local-refs-exist",el=gt({en:{msg:"Broken local reference found in document.",hint:"Please fix the links mentioned."}});function tl(e){const t=e.getAttribute("href").substring(1),n=e.ownerDocument;return!n.getElementById(t)&&!n.getElementsByName(t).length}var nl=Object.freeze({__proto__:null,name:Qc,run:function(e){if(!e.lint?.["local-refs-exist"])return;const t=[...document.querySelectorAll("a[href^='#']")].filter(tl);t.length&&Ot(el.msg,Qc,{hint:el.hint,elements:t})}});const rl="core/linter-rules/no-headingless-sections",ol=gt({en:{msg:"All sections must start with a `h2-6` element.",hint:"Add a `h2-6` to the offending section or use a `<div>`."},nl:{msg:"Alle secties moeten beginnen met een `h2-6` element.",hint:"Voeg een `h2-6` toe aan de conflicterende sectie of gebruik een `<div>`."},zh:{msg:"所有章节（section）都必须以 `h2-6` 元素开头。",hint:"将 `h2-6` 添加到有问题的章节或使用 `<div>`。"}});var il=Object.freeze({__proto__:null,name:rl,run:function(e){if(!e.lint?.["no-headingless-sections"])return;const t=[...document.querySelectorAll("section:not(.head,#abstract,#sotd)")].filter((({firstElementChild:e})=>!e||!(e.matches(".header-wrapper")||e instanceof HTMLHeadingElement)));t.length&&Ot(ol.msg,rl,{hint:ol.hint,elements:t})}});const al="core/linter-rules/no-unused-vars",sl=gt({en:{msg:"Variable was defined, but never used.",hint:"Add a `data-ignore-unused` attribute to the `<var>`."}});var cl=Object.freeze({__proto__:null,name:al,run:function(e){if(!e.lint?.["no-unused-vars"])return;const t=[],n=e=>!!e.querySelector(":scope > :not(section) ~ .algorithm, :scope > :not(section) .algorithm");for(const e of document.querySelectorAll("section")){if(!n(e))continue;const r=e.querySelectorAll(":scope > :not(section) var");if(!r.length)continue;const o=new Map;for(const e of r){const t=mt(e.textContent);(o.get(t)||o.set(t,[]).get(t)).push(e)}for(const e of o.values())1!==e.length||e[0].hasAttribute("data-ignore-unused")||t.push(e[0])}t.length&&Ot(sl.msg,al,{hint:sl.hint,elements:t})}});const ll="core/linter-rules/privsec-section",dl=gt({en:{msg:"Document must have a 'Privacy and/or Security' Considerations section.",hint:"Add a privacy and/or security considerations section. See the [Self-Review Questionnaire](https://w3ctag.github.io/security-questionnaire/)."}});var ul=Object.freeze({__proto__:null,name:ll,run:function(e){var t;e.lint?.["privsec-section"]&&e.isRecTrack&&(t=document,!Array.from(t.querySelectorAll("h2, h3, h4, h5, h6")).some((({textContent:e})=>{const t=/(privacy|security)/im.test(e),n=/(considerations)/im.test(e);return t&&n||t})))&&Ot(dl.msg,ll,{hint:dl.hint})}});const pl="core/linter-rules/wpt-tests-exist",fl=gt({en:{msg:"The following test could not be found in Web Platform Tests:",hint:"Check [wpt.live](https://wpt.live) to see if it was deleted or renamed."}});var hl=Object.freeze({__proto__:null,name:pl,run:async function(e){if(!e.lint?.["wpt-tests-exist"])return;const t=await async function(e,t){let n;try{const t=new URL(e);if(t.pathname.startsWith("/web-platform-tests/wpt/tree/master/")){const e=/web-platform-tests\/wpt\/tree\/master\/(.+)/;n=t.pathname.match(e)[1].replace(/\//g,"")}else n=t.pathname.replace(/\//g,"")}catch(e){return Ot("Failed to parse WPT directory from testSuiteURI",`linter/${pl}`),console.error(e),null}const r=new URL("web-platform-tests/wpt/files",`${t}/`);r.searchParams.set("path",n);const o=await fetch(r);if(!o.ok){return Ot(`Failed to fetch files from WPT repository. Request failed with error: ${await o.text()} (${o.status})`,`linter/${pl}`),null}const{entries:i}=await o.json(),a=i.filter((e=>!e.endsWith("/")));return new Set(a)}(e.testSuiteURI,e.githubAPI);if(!t)return;const n=[...document.querySelectorAll("[data-tests]")].filter((e=>e.dataset.tests));for(const e of n)e.dataset.tests.split(/,/gm).map((e=>e.trim().split("#")[0])).filter((e=>e&&!t.has(e))).map((t=>{Ot(`${fl.msg} \`${t}\`.`,pl,{hint:fl.hint,elements:[e]})}))}});const ml="core/linter-rules/no-http-props",gl=gt({en:{msg:zt`Insecure URLs are not allowed in ${"[respecConfig]"}.`,hint:"Please change the following properties to 'https://': "},zh:{msg:zt`${"[respecConfig]"} 中不允许使用不安全的URL.`,hint:"请将以下属性更改为 https://："}});var bl=Object.freeze({__proto__:null,name:ml,run:function(e){if(!e.lint?.["no-http-props"])return;if(!parent.location.href.startsWith("http"))return;const t=Object.getOwnPropertyNames(e).filter((t=>t.endsWith("URI")&&e[t]||"prevED"===t)).filter((t=>new URL(e[t],parent.location.href).href.startsWith("http://")));if(t.length){const e=pt(t,(e=>zt`${`[${e}]`}`));Ot(gl.msg,ml,{hint:gl.hint+e})}}});const yl="core/linter-rules/a11y",wl=["color-contrast","landmark-one-main","landmark-unique","region"];function vl(e){const t=[];for(const n of e.split("\n\n")){const[e,...r]=n.split(/^\s{2}/m),o=r.map((e=>`- ${e.trimEnd()}`)).join("\n");t.push(`${e}${o}`)}return t.join("\n\n")}var $l=Object.freeze({__proto__:null,name:yl,run:async function(e){if(!e.lint?.a11y&&!e.a11y)return;const t=e.lint?.a11y||e.a11y,n=!0===t?{}:t,r=await async function(e){const{rules:t,...n}=e,r={rules:{...Object.fromEntries(wl.map((e=>[e,{enabled:!1}]))),...t},...n,elementRef:!0,resultTypes:["violations"],reporter:"v1"};let o;try{o=await function(){const e=document.createElement("script");return e.classList.add("remove"),e.src="https://cdn.jsdelivr.net/npm/axe-core@4/axe.min.js",document.head.appendChild(e),new Promise(((t,n)=>{e.onload=()=>t(window.axe),e.onerror=n}))}()}catch(e){return It("Failed to load a11y linter.",yl),console.error(e),[]}try{return(await o.run(document,r)).violations}catch(e){return It("Error while looking for a11y issues.",yl),console.error(e),[]}}(n);for(const e of r){const t=new Map;for(const n of e.nodes){const{failureSummary:e,element:r}=n;(t.get(e)||t.set(e,[]).get(e)).push(r)}const{id:n,help:r,description:o,helpUrl:i}=e,a=`a11y/${n}: ${r}.`;for(const[e,n]of t){const t=vl(e);Ot(a,yl,{details:`\n\n${o}.\n\n${t}. ([Learn more](${i}))`,elements:n})}}}}),xl=Object.freeze({__proto__:null,default:'// ReSpec Worker v1.0.0\n"use strict";\ntry {\n  importScripts("https://www.w3.org/Tools/respec/respec-highlight");\n} catch (err) {\n  console.error("Network error loading highlighter", err);\n}\n\nself.addEventListener("message", ({ data: originalData }) => {\n  const data = Object.assign({}, originalData);\n  switch (data.action) {\n    case "highlight-load-lang": {\n      const { langURL, propName, lang } = data;\n      importScripts(langURL);\n      self.hljs.registerLanguage(lang, self[propName]);\n      break;\n    }\n    case "highlight": {\n      const { code } = data;\n      const langs = data.languages.length ? data.languages : undefined;\n      try {\n        const { value, language } = self.hljs.highlightAuto(code, langs);\n        Object.assign(data, { value, language });\n      } catch (err) {\n        console.error("Could not transform some code?", err);\n        // Post back the original code\n        Object.assign(data, { value: code, language: "" });\n      }\n      break;\n    }\n  }\n  self.postMessage(data);\n});\n'}),kl=Object.freeze({__proto__:null,default:'(() => {\n// @ts-check\nif (document.respec) {\n  document.respec.ready.then(setupPanel);\n} else {\n  setupPanel();\n}\n\nfunction setupPanel() {\n  const listener = panelListener();\n  document.body.addEventListener("keydown", listener);\n  document.body.addEventListener("click", listener);\n}\n\nfunction panelListener() {\n  /** @type {HTMLElement} */\n  let panel = null;\n  return event => {\n    const { target, type } = event;\n\n    if (!(target instanceof HTMLElement)) return;\n\n    // For keys, we only care about Enter key to activate the panel\n    // otherwise it\'s activated via a click.\n    if (type === "keydown" && event.key !== "Enter") return;\n\n    const action = deriveAction(event);\n\n    switch (action) {\n      case "show": {\n        hidePanel(panel);\n        /** @type {HTMLElement} */\n        const dfn = target.closest("dfn, .index-term");\n        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);\n        const coords = deriveCoordinates(event);\n        displayPanel(dfn, panel, coords);\n        break;\n      }\n      case "dock": {\n        panel.style.left = null;\n        panel.style.top = null;\n        panel.classList.add("docked");\n        break;\n      }\n      case "hide": {\n        hidePanel(panel);\n        panel = null;\n        break;\n      }\n    }\n  };\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent} event\n */\nfunction deriveCoordinates(event) {\n  const target = /** @type HTMLElement */ (event.target);\n\n  // We prevent synthetic AT clicks from putting\n  // the dialog in a weird place. The AT events sometimes\n  // lack coordinates, so they have clientX/Y = 0\n  const rect = target.getBoundingClientRect();\n  if (\n    event instanceof MouseEvent &&\n    event.clientX >= rect.left &&\n    event.clientY >= rect.top\n  ) {\n    // The event probably happened inside the bounding rect...\n    return { x: event.clientX, y: event.clientY };\n  }\n\n  // Offset to the middle of the element\n  const x = rect.x + rect.width / 2;\n  // Placed at the bottom of the element\n  const y = rect.y + rect.height;\n  return { x, y };\n}\n\n/**\n * @param {Event} event\n */\nfunction deriveAction(event) {\n  const target = /** @type {HTMLElement} */ (event.target);\n  const hitALink = !!target.closest("a");\n  if (target.closest("dfn:not([data-cite]), .index-term")) {\n    return hitALink ? "none" : "show";\n  }\n  if (target.closest(".dfn-panel")) {\n    if (hitALink) {\n      return target.classList.contains("self-link") ? "hide" : "dock";\n    }\n    const panel = target.closest(".dfn-panel");\n    return panel.classList.contains("docked") ? "hide" : "none";\n  }\n  if (document.querySelector(".dfn-panel:not([hidden])")) {\n    return "hide";\n  }\n  return "none";\n}\n\n/**\n * @param {HTMLElement} dfn\n * @param {HTMLElement} panel\n * @param {{ x: number, y: number }} clickPosition\n */\nfunction displayPanel(dfn, panel, { x, y }) {\n  panel.hidden = false;\n  // distance (px) between edge of panel and the pointing triangle (caret)\n  const MARGIN = 20;\n\n  const dfnRects = dfn.getClientRects();\n  // Find the `top` offset when the `dfn` can be spread across multiple lines\n  let closestTop = 0;\n  let minDiff = Infinity;\n  for (const rect of dfnRects) {\n    const { top, bottom } = rect;\n    const diffFromClickY = Math.abs((top + bottom) / 2 - y);\n    if (diffFromClickY < minDiff) {\n      minDiff = diffFromClickY;\n      closestTop = top;\n    }\n  }\n\n  const top = window.scrollY + closestTop + dfnRects[0].height;\n  const left = x - MARGIN;\n  panel.style.left = `${left}px`;\n  panel.style.top = `${top}px`;\n\n  // Find if the panel is flowing out of the window\n  const panelRect = panel.getBoundingClientRect();\n  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);\n  if (panelRect.right > SCREEN_WIDTH) {\n    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);\n    const newCaretOffset = left - newLeft;\n    panel.style.left = `${newLeft}px`;\n    /** @type {HTMLElement} */\n    const caret = panel.querySelector(".caret");\n    caret.style.left = `${newCaretOffset}px`;\n  }\n\n  // As it\'s a dialog, we trap focus.\n  // TODO: when <dialog> becomes a implemented, we should really\n  // use that.\n  trapFocus(panel, dfn);\n}\n\n/**\n * @param {HTMLElement} panel\n * @param {HTMLElement} dfn\n * @returns\n */\nfunction trapFocus(panel, dfn) {\n  /** @type NodeListOf<HTMLAnchorElement> elements */\n  const anchors = panel.querySelectorAll("a[href]");\n  // No need to trap focus\n  if (!anchors.length) return;\n\n  // Move focus to first anchor element\n  const first = anchors.item(0);\n  first.focus();\n\n  const trapListener = createTrapListener(anchors, panel, dfn);\n  panel.addEventListener("keydown", trapListener);\n\n  // Hiding the panel releases the trap\n  const mo = new MutationObserver(records => {\n    const [record] = records;\n    const target = /** @type HTMLElement */ (record.target);\n    if (target.hidden) {\n      panel.removeEventListener("keydown", trapListener);\n      mo.disconnect();\n    }\n  });\n  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });\n}\n\n/**\n *\n * @param {NodeListOf<HTMLAnchorElement>} anchors\n * @param {HTMLElement} panel\n * @param {HTMLElement} dfn\n * @returns\n */\nfunction createTrapListener(anchors, panel, dfn) {\n  const lastIndex = anchors.length - 1;\n  let currentIndex = 0;\n  return event => {\n    switch (event.key) {\n      // Hitting "Tab" traps us in a nice loop around elements.\n      case "Tab": {\n        event.preventDefault();\n        currentIndex += event.shiftKey ? -1 : +1;\n        if (currentIndex < 0) {\n          currentIndex = lastIndex;\n        } else if (currentIndex > lastIndex) {\n          currentIndex = 0;\n        }\n        anchors.item(currentIndex).focus();\n        break;\n      }\n\n      // Hitting "Enter" on an anchor releases the trap.\n      case "Enter":\n        hidePanel(panel);\n        break;\n\n      // Hitting "Escape" returns focus to dfn.\n      case "Escape":\n        hidePanel(panel);\n        dfn.focus();\n        return;\n    }\n  };\n}\n\n/** @param {HTMLElement} panel */\nfunction hidePanel(panel) {\n  if (!panel) return;\n  panel.hidden = true;\n  panel.classList.remove("docked");\n}\n})()'})}();
//# sourceMappingURL=respec-1edtech.js.map
