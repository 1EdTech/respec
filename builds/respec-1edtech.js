window.respecVersion="35.1.0",function(){"use strict";var e="undefined"!=typeof document?document.currentScript:null;const t=!!window.require;if(!t){const e=function(e,t){const n=e.map((e=>{if(!(e in window.require.modules))throw new Error(`Unsupported dependency name: ${e}`);return window.require.modules[e]}));Promise.all(n).then((e=>t(...e)))};e.modules={},window.require=e}function n(e,n){t||(window.require.modules[e]=n)}const r=new EventTarget;function o(e,t){if(r.dispatchEvent(new CustomEvent(e,{detail:t})),window.parent===window.self)return;const n=String(JSON.stringify(t?.stack||t));window.parent.postMessage({topic:e,args:n},window.parent.location.origin)}function a(e,t,n={once:!1}){r.addEventListener(e,(e=>t(e.detail)),n)}n("core/pubsubhub",{sub:a});const i=["githubToken","githubUser"];const s=document.documentElement;s?.hasAttribute("lang")||(s.lang="en",s.hasAttribute("dir")||(s.dir="ltr"));const c={},l=s?.lang??"en";var d=Object.freeze({__proto__:null,l10n:c,lang:l,name:"core/l10n",run:function(e){e.l10n=c[l]||c.en}});const u=(e,t)=>t.some((t=>e instanceof t));let p,f;const h=new WeakMap,m=new WeakMap,g=new WeakMap;let b={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function y(e){b=e(b)}function v(e){return(f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(_(this),t),$(this.request)}:function(...t){return $(e.apply(_(this),t))}}function w(e){return"function"==typeof e?v(e):(e instanceof IDBTransaction&&function(e){if(h.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)}));h.set(e,t)}(e),u(e,p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,b):e)}function $(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t($(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)}));return g.set(t,e),t}(e);if(m.has(e))return m.get(e);const t=w(e);return t!==e&&(m.set(e,t),g.set(t,e)),t}const _=e=>g.get(e);const x=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],k=new Map;function A(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(k.get(t))return k.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!x.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let i=a.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),o&&a.done]))[0]};return k.set(t,a),a}y((e=>({...e,get:(t,n,r)=>A(t,n)||e.get(t,n,r),has:(t,n)=>!!A(t,n)||e.has(t,n)})));const S=["continue","continuePrimaryKey","advance"],T={},C=new WeakMap,I=new WeakMap,R={get(e,t){if(!S.includes(t))return e[t];let n=T[t];return n||(n=T[t]=function(...e){C.set(this,I.get(this)[t](...e))}),n}};async function*N(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,R);for(I.set(n,t),g.set(n,_(t));t;)yield n,t=await(C.get(n)||t.continue()),C.delete(n)}function L(e,t){return t===Symbol.asyncIterator&&u(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&u(e,[IDBIndex,IDBObjectStore])}y((e=>({...e,get:(t,n,r)=>L(t,n)?N:e.get(t,n,r),has:(t,n)=>L(t,n)||e.has(t,n)})));var O=Object.freeze({__proto__:null,deleteDB:function(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),$(n).then((()=>{}))},openDB:function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const i=indexedDB.open(e,t),s=$(i);return r&&i.addEventListener("upgradeneeded",(e=>{r($(i.result),e.oldVersion,e.newVersion,$(i.transaction),e)})),n&&i.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s},unwrap:_,wrap:$});const D=/^[!#$%&'*+-.^`|~\w]+$/,P=/[\u000A\u000D\u0009\u0020]/u,q=/^[\u0009\u{0020}-\{u0073}\u{0080}-\u{00FF}]+$/u;function j(e,t,n){(t&&""!==t&&!e.has(t)&&q.test(n)||null===n)&&e.set(t.toLowerCase(),n)}function M(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let z={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function F(e){z=e}const U=/[&<>"']/,H=new RegExp(U.source,"g"),B=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,W=new RegExp(B.source,"g"),V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y=e=>V[e];function G(e,t){if(t){if(U.test(e))return e.replace(H,Y)}else if(B.test(e))return e.replace(W,Y);return e}const Q=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function X(e){return e.replace(Q,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const J=/(^|[^\[])\^/g;function K(e,t){let n="string"==typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let o="string"==typeof t?t:t.source;return o=o.replace(J,"$1"),n=n.replace(e,o),r},getRegex:()=>new RegExp(n,t)};return r}function Z(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const ee={exec:()=>null};function te(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function ne(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const a=e.charAt(r-o-1);if(a!==t||n){if(a===t||!n)break;o++}else o++}return e.slice(0,r-o)}function re(e,t,n,r){const o=t.href,a=t.title?G(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:a,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:a,text:G(i)}}class oe{options;rules;lexer;constructor(e){this.options=e||z}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:ne(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=ne(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1");e=ne(e.replace(/^ *>[ \t]?/gm,""),"\n");const n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const a=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let i="",s="",c=!1;for(;e;){let n=!1;if(!(t=a.exec(e)))break;if(this.rules.block.hr.test(e))break;i=t[0],e=e.substring(i.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),l=e.split("\n",1)[0],d=0;this.options.pedantic?(d=2,s=r.trimStart()):(d=t[2].search(/[^ ]/),d=d>4?1:d,s=r.slice(d),d+=t[1].length);let u=!1;if(!r&&/^ *$/.test(l)&&(i+=l+"\n",e=e.substring(l.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),a=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const c=e.split("\n",1)[0];if(l=c,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),o.test(l))break;if(a.test(l))break;if(t.test(l))break;if(n.test(e))break;if(l.search(/[^ ]/)>=d||!l.trim())s+="\n"+l.slice(d);else{if(u)break;if(r.search(/[^ ]/)>=4)break;if(o.test(r))break;if(a.test(r))break;if(n.test(r))break;s+="\n"+l}u||l.trim()||(u=!0),i+=c+"\n",e=e.substring(c.length+1),r=l.slice(d)}}o.loose||(c?o.loose=!0:/\n *\n *$/.test(i)&&(c=!0));let p,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(s),f&&(p="[ ] "!==f[0],s=s.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:i,task:!!f,checked:p,loose:!1,text:s,tokens:[]}),o.raw+=i}o.items[o.items.length-1].raw=i.trimEnd(),o.items[o.items.length-1].text=s.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=te(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?a.align.push("right"):/^ *:-+: *$/.test(e)?a.align.push("center"):/^ *:-+ *$/.test(e)?a.align.push("left"):a.align.push(null);for(const e of n)a.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of o)a.rows.push(te(e,a.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return a}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:G(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=ne(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),re(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return re(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...r[0]].length-1;let o,a,i=n,s=0;const c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=c.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=[...o].length,r[3]||r[4]){i+=a;continue}if((r[5]||r[6])&&n%3&&!((n+a)%3)){s+=a;continue}if(i-=a,i>0)continue;a=Math.min(a,a+i+s);const t=[...r[0]][0].length,c=e.slice(0,n+r.index+t+a);if(Math.min(n,a)%2){const e=c.slice(1,-1);return{type:"em",raw:c,text:e,tokens:this.lexer.inlineTokens(e)}}const l=c.slice(2,-2);return{type:"strong",raw:c,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=G(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=G(t[1]),n="mailto:"+e):(e=G(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=G(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=G(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:G(t[0]),{type:"text",raw:t[0],text:e}}}}const ae=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ie=/(?:[*+-]|\d{1,9}[.)])/,se=K(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ie).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ce=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,le=/(?!\s*\])(?:\\.|[^\[\]\\])+/,de=K(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",le).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ue=K(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ie).getRegex(),pe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fe=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,he=K("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",fe).replace("tag",pe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),me=K(ce).replace("hr",ae).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),ge={blockquote:K(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",me).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:de,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:ae,html:he,lheading:se,list:ue,newline:/^(?: *(?:\n|$))+/,paragraph:me,table:ee,text:/^[^\n]+/},be=K("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ae).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),ye={...ge,table:be,paragraph:K(ce).replace("hr",ae).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",be).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex()},ve={...ge,html:K("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",fe).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ee,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:K(ce).replace("hr",ae).replace("heading"," *#{1,6} *[^\n]").replace("lheading",se).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},we=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$e=/^( {2,}|\\)\n(?!\s*$)/,_e="\\p{P}\\p{S}",xe=K(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_e).getRegex(),Ee=K(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_e).getRegex(),ke=K("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_e).getRegex(),Ae=K("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_e).getRegex(),Se=K(/\\([punct])/,"gu").replace(/punct/g,_e).getRegex(),Te=K(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ce=K(fe).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ie=K("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ce).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Re=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ne=K(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Re).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Le=K(/^!?\[(label)\]\[(ref)\]/).replace("label",Re).replace("ref",le).getRegex(),Oe=K(/^!?\[(ref)\](?:\[\])?/).replace("ref",le).getRegex(),De={_backpedal:ee,anyPunctuation:Se,autolink:Te,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:$e,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:ee,emStrongLDelim:Ee,emStrongRDelimAst:ke,emStrongRDelimUnd:Ae,escape:we,link:Ne,nolink:Oe,punctuation:xe,reflink:Le,reflinkSearch:K("reflink|nolink(?!\\()","g").replace("reflink",Le).replace("nolink",Oe).getRegex(),tag:Ie,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:ee},Pe={...De,link:K(/^!?\[(label)\]\((.*?)\)/).replace("label",Re).getRegex(),reflink:K(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Re).getRegex()},qe={...De,escape:K(we).replace("])","~|])").getRegex(),url:K(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},je={...qe,br:K($e).replace("{2,}","*").getRegex(),text:K(qe.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Me={normal:ge,gfm:ye,pedantic:ve},ze={normal:De,gfm:qe,breaks:je,pedantic:Pe};class Fe{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||z,this.options.tokenizer=this.options.tokenizer||new oe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Me.normal,inline:ze.normal};this.options.pedantic?(t.block=Me.pedantic,t.inline=ze.pedantic):this.options.gfm&&(t.block=Me.gfm,this.options.breaks?t.inline=ze.breaks:t.inline=ze.gfm),this.tokenizer.rules=t}static get rules(){return{block:Me,inline:ze}}static lex(e,t){return new Fe(t).lex(e)}static lexInline(e,t){return new Fe(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let n,r,o,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],a&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),a=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,a,i,s,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(c));)c=c.slice(0,a.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(i||(s=""),i=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),i=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Ue{options;constructor(e){this.options=e||z}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+G(r)+'">'+(n?e:G(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:G(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=Z(e);if(null===r)return n;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){const r=Z(e);if(null===r)return n;let o=`<img src="${e=r}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class He{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Be{options;renderer;textRenderer;constructor(e){this.options=e||z,this.options.renderer=this.options.renderer||new Ue,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new He}static parse(e,t){return new Be(t).parse(e)}static parseInline(e,t){return new Be(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(o.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=o;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,X(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=o;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=o;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let a="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});a+=this.renderer.tablerow(r)}n+=this.renderer.table(t,a);continue}case"blockquote":{const e=o,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=o,t=e.ordered,r=e.start,a=e.loose;let i="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,o=n.task;let s="";if(n.task){const e=this.renderer.checkbox(!!r);a?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):s+=e+" "}s+=this.parse(n.tokens,a),i+=this.renderer.listitem(s,o,!!r)}n+=this.renderer.list(i,t,r);continue}case"html":{const e=o;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=o;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let a=o,i=a.tokens?this.parseInline(a.tokens):a.text;for(;r+1<e.length&&"text"===e[r+1].type;)a=e[++r],i+="\n"+(a.tokens?this.parseInline(a.tokens):a.text);n+=t?this.renderer.paragraph(i):i;continue}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}switch(o.type){case"escape":{const e=o;n+=t.text(e.text);break}case"html":{const e=o;n+=t.html(e.text);break}case"link":{const e=o;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=o;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=o;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=o;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=o;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=o;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=o;n+=t.text(e.text);break}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class We{options;constructor(e){this.options=e||z}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}const Ve=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(Fe.lex,Be.parse);parseInline=this.#e(Fe.lexInline,Be.parseInline);Parser=Be;Renderer=Ue;TextRenderer=He;Lexer=Fe;Tokenizer=oe;Hooks=We;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const o=e[r].flat(1/0);n=n.concat(this.walkTokens(o,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new Ue(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if("options"===n)continue;const r=n,o=e.renderer[r],a=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=a.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new oe(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=e.tokenizer[r],a=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new We;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const r=n,o=e.hooks[r],a=t[r];We.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(o.call(t,e)).then((e=>a.call(t,e)));const n=o.call(t,e);return a.call(t,n)}:t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Fe.lex(e,t??this.defaults)}parser(e,t){return Be.parse(e,t??this.defaults)}#e(e,t){return(n,r)=>{const o={...r},a={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const i=this.#t(!!a.silent,!!a.async);if(null==n)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then((t=>e(t,a))).then((e=>a.hooks?a.hooks.processAllTokens(e):e)).then((e=>a.walkTokens?Promise.all(this.walkTokens(e,a.walkTokens)).then((()=>e)):e)).then((e=>t(e,a))).then((e=>a.hooks?a.hooks.postprocess(e):e)).catch(i);try{a.hooks&&(n=a.hooks.preprocess(n));let r=e(n,a);a.hooks&&(r=a.hooks.processAllTokens(r)),a.walkTokens&&this.walkTokens(r,a.walkTokens);let o=t(r,a);return a.hooks&&(o=a.hooks.postprocess(o)),o}catch(e){return i(e)}}}#t(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+G(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function Ye(e,t){return Ve.parse(e,t)}Ye.options=Ye.setOptions=function(e){return Ve.setOptions(e),Ye.defaults=Ve.defaults,F(Ye.defaults),Ye},Ye.getDefaults=M,Ye.defaults=z,Ye.use=function(...e){return Ve.use(...e),Ye.defaults=Ve.defaults,F(Ye.defaults),Ye},Ye.walkTokens=function(e,t){return Ve.walkTokens(e,t)},Ye.parseInline=Ve.parseInline,Ye.Parser=Be,Ye.parser=Be.parse,Ye.Renderer=Ue,Ye.TextRenderer=He,Ye.Lexer=Fe,Ye.lexer=Fe.lex,Ye.Tokenizer=oe,Ye.Hooks=We,Ye.parse=Ye,Ye.options,Ye.setOptions,Ye.use,Ye.walkTokens,Ye.parseInline,Be.parse,Fe.lex;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qe,Xe={exports:{}};Qe=Xe,function(e,t){Qe.exports=t()}(0,(function(){var e=[],t=[],n={},r={},o={};function a(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function i(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(t[0],(function(n,r){var o,a,s=(o=t[1],a=arguments,o.replace(/\$(\d{1,2})/g,(function(e,t){return a[t]||""})));return i(""===n?e[r-1]:n,s)}))}function c(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var o=r.length;o--;){var a=r[o];if(a[0].test(t))return s(t,a)}return t}function l(e,t,n){return function(r){var o=r.toLowerCase();return t.hasOwnProperty(o)?i(r,o):e.hasOwnProperty(o)?i(r,e[o]):c(o,r,n)}}function d(e,t,n,r){return function(r){var o=r.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&c(o,o,n)===o}}function u(e,t,n){return(n?t+" ":"")+(1===t?u.singular(e):u.plural(e))}return u.plural=l(o,r,e),u.isPlural=d(o,r,e),u.singular=l(r,o,t),u.isSingular=d(r,o,t),u.addPluralRule=function(t,n){e.push([a(t),n])},u.addSingularRule=function(e,n){t.push([a(e),n])},u.addUncountableRule=function(e){"string"!=typeof e?(u.addPluralRule(e,"$0"),u.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},u.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return u.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return u.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return u.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(u.addUncountableRule),u}));var Je=Ge(Xe.exports),Ke=function(e){var t={};try{t.WeakMap=WeakMap}catch(d){t.WeakMap=function(e,t){var n=t.defineProperty,r=t.hasOwnProperty,o=a.prototype;return o.delete=function(e){return this.has(e)&&delete e[this._]},o.get=function(e){return this.has(e)?e[this._]:void 0},o.has=function(e){return r.call(e,this._)},o.set=function(e,t){return n(e,this._,{configurable:!0,value:t}),this},a;function a(t){n(this,"_",{value:"_@ungap/weakmap"+e++}),t&&t.forEach(i,this)}function i(e){this.set(e[0],e[1])}}(Math.random(),Object)}var n=t.WeakMap,r={};try{r.WeakSet=WeakSet}catch(d){!function(e,t){var n=o.prototype;function o(){t(this,"_",{value:"_@ungap/weakmap"+e++})}n.add=function(e){return this.has(e)||t(e,this._,{value:!0,configurable:!0}),this},n.has=function(e){return this.hasOwnProperty.call(e,this._)},n.delete=function(e){return this.has(e)&&delete e[this._]},r.WeakSet=o}(Math.random(),Object.defineProperty)}function o(e,t,n,r,o,a){for(var i=("selectedIndex"in t),s=i;r<o;){var c,l=e(n[r],1);t.insertBefore(l,a),i&&s&&l.selected&&(s=!s,c=t.selectedIndex,t.selectedIndex=c<0?r:u.call(t.querySelectorAll("option"),l)),r++}}function a(e,t){return e==t}function i(e){return e}function s(e,t,n,r,o,a,i){var s=a-o;if(s<1)return-1;for(;s<=n-t;){for(var c=t,l=o;c<n&&l<a&&i(e[c],r[l]);)c++,l++;if(l===a)return t;t=c+1}return-1}function c(e,t,n,r,o){return n<r?e(t[n],0):0<n?e(t[n-1],-0).nextSibling:o}function l(e,t,n,r){for(;n<r;)f(e(t[n++],-1))}var d=r.WeakSet,u=[].indexOf,p=function(e,t,n){for(var r=1,o=t;r<o;){var a=(r+o)/2>>>0;n<e[a]?o=a:r=1+a}return r},f=function(e){return(e.remove||function(){var e=this.parentNode;e&&e.removeChild(this)}).call(e)};function h(e,t,n,r){for(var d=(r=r||{}).compare||a,u=r.node||i,f=null==r.before?null:u(r.before,0),h=t.length,m=h,g=0,b=n.length,y=0;g<m&&y<b&&d(t[g],n[y]);)g++,y++;for(;g<m&&y<b&&d(t[m-1],n[b-1]);)m--,b--;var v=g===m,w=y===b;if(v&&w)return n;if(v&&y<b)return o(u,e,n,y,b,c(u,t,g,h,f)),n;if(w&&g<m)return l(u,t,g,m),n;var $=m-g,_=b-y,x=-1;if($<_){if(-1<(x=s(n,y,b,t,g,m,d)))return o(u,e,n,y,x,u(t[g],0)),o(u,e,n,x+$,b,c(u,t,m,h,f)),n}else if(_<$&&-1<(x=s(t,g,m,n,y,b,d)))return l(u,t,g,x),l(u,t,x+_,m),n;return $<2||_<2?(o(u,e,n,y,b,u(t[g],0)),l(u,t,g,m)):$==_&&function(e,t,n,r,o,a){for(;r<o&&a(n[r],e[t-1]);)r++,t--;return 0===t}(n,b,t,g,m,d)?o(u,e,n,y,b,c(u,t,m,h,f)):function(e,t,n,r,a,i,s,c,d,u,f,h,m){!function(e,t,n,r,a,i,s,c,d){for(var u=[],p=e.length,f=s,h=0;h<p;)switch(e[h++]){case 0:a++,f++;break;case 1:u.push(r[a]),o(t,n,r,a++,a,f<c?t(i[f],0):d);break;case-1:f++}for(h=0;h<p;)switch(e[h++]){case 0:s++;break;case-1:-1<u.indexOf(i[s])?s++:l(t,i,s++,s)}}(function(e,t,n,r,o,a,i){var s,c,l,d,u,p,f=n+a,h=[];e:for(b=0;b<=f;b++){if(50<b)return null;for(p=b-1,d=b?h[b-1]:[0,0],u=h[b]=[],s=-b;s<=b;s+=2){for(c=(l=s===-b||s!==b&&d[p+s-1]<d[p+s+1]?d[p+s+1]:d[p+s-1]+1)-s;l<a&&c<n&&i(r[o+l],e[t+c]);)l++,c++;if(l===a&&c===n)break e;u[b+s]=l}}for(var m=Array(b/2+f/2),g=m.length-1,b=h.length-1;0<=b;b--){for(;0<l&&0<c&&i(r[o+l-1],e[t+c-1]);)m[g--]=0,l--,c--;if(!b)break;p=b-1,d=b?h[b-1]:[0,0],(s=l-c)==-b||s!==b&&d[p+s-1]<d[p+s+1]?(c--,m[g--]=1):(l--,m[g--]=-1)}return m}(n,r,i,s,c,u,h)||function(e,t,n,r,o,a,i,s){var c=0,l=r<s?r:s,d=Array(l++),u=Array(l);u[0]=-1;for(var f=1;f<l;f++)u[f]=i;for(var h=o.slice(a,i),m=t;m<n;m++){var g,b=h.indexOf(e[m]);-1<b&&-1<(c=p(u,l,g=b+a))&&(u[c]=g,d[c]={newi:m,oldi:g,prev:d[c-1]})}for(c=--l,--i;u[c]>i;)--c;l=s+r-c;var y=Array(l),v=d[c];for(--n;v;){for(var w=v.newi,$=v.oldi;w<n;)y[--l]=1,--n;for(;$<i;)y[--l]=-1,--i;y[--l]=0,--n,--i,v=v.prev}for(;t<=n;)y[--l]=1,--n;for(;a<=i;)y[--l]=-1,--i;return y}(n,r,a,i,s,c,d,u),e,t,n,r,s,c,f,m)}(u,e,n,y,b,_,t,g,m,$,h,d,f),n}var m={};function g(t,n){n=n||{};var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,!!n.bubbles,!!n.cancelable,n.detail),r}m.CustomEvent="function"==typeof CustomEvent?CustomEvent:(g["prototype"]=new g("").constructor.prototype,g);var b=m.CustomEvent,y={};try{y.Map=Map}catch(d){y.Map=function(){var e=0,t=[],n=[];return{delete:function(o){var a=r(o);return a&&(t.splice(e,1),n.splice(e,1)),a},forEach:function(e,r){t.forEach((function(t,o){e.call(r,n[o],t,this)}),this)},get:function(t){return r(t)?n[e]:void 0},has:r,set:function(o,a){return n[r(o)?e:t.push(o)-1]=a,this}};function r(n){return-1<(e=t.indexOf(n))}}}var v=y.Map;function w(){return this}function $(e,t){var n="_"+e+"$";return{get:function(){return this[n]||_(this,n,t.call(this,e))},set:function(e){_(this,n,e)}}}var _=function(e,t,n){return Object.defineProperty(e,t,{configurable:!0,value:"function"==typeof n?function(){return e._wire$=n.apply(this,arguments)}:n})[t]};Object.defineProperties(w.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});var x,E,k,A,S,T,C={},I={},R=[],N=I.hasOwnProperty,L=0,O={attributes:C,define:function(e,t){e.indexOf("-")<0?(e in I||(L=R.push(e)),I[e]=t):C[e]=t},invoke:function(e,t){for(var n=0;n<L;n++){var r=R[n];if(N.call(e,r))return I[r](e[r],t)}}},D=Array.isArray||(E=(x={}.toString).call([]),function(e){return x.call(e)===E}),P=(k=e,A="fragment",T="content"in j(S="template")?function(e){var t=j(S);return t.innerHTML=e,t.content}:function(e){var t,n=j(A),r=j(S);return q(n,/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)?(t=RegExp.$1,r.innerHTML="<table>"+e+"</table>",r.querySelectorAll(t)):(r.innerHTML=e,r.childNodes)),n},function(e,t){return("svg"===t?function(e){var t=j(A),n=j("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",q(t,n.firstChild.childNodes),t}:T)(e)});function q(e,t){for(var n=t.length;n--;)e.appendChild(t[0])}function j(e){return e===A?k.createDocumentFragment():k.createElementNS("http://www.w3.org/1999/xhtml",e)}var M,z,F,U,H,B,W,V,Y,G=(z="appendChild",F="cloneNode",U="createTextNode",B=(H="importNode")in(M=e),(W=M.createDocumentFragment())[z](M[U]("g")),W[z](M[U]("")),(B?M[H](W,!0):W[F](!0)).childNodes.length<2?function e(t,n){for(var r=t[F](),o=t.childNodes||[],a=o.length,i=0;n&&i<a;i++)r[z](e(o[i],n));return r}:B?M[H]:function(e,t){return e[F](!!t)}),Q="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},X="-"+Math.random().toFixed(6)+"%",J=!1;try{V=e.createElement("template"),Y="tabindex","content"in V&&(V.innerHTML="<p "+Y+'="'+X+'"></p>',V.content.childNodes[0].getAttribute(Y)==X)||(X="_dt: "+X.slice(1,-1)+";",J=!0)}catch(d){}var K="\x3c!--"+X+"--\x3e",Z=8,ee=1,te=3,ne=/^(?:style|textarea)$/i,re=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,oe=" \\f\\n\\r\\t",ae="[^"+oe+"\\/>\"'=]+",ie="["+oe+"]+"+ae,se="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",ce="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+ae.replace("\\/","")+"))?)",le=new RegExp(se+ie+ce+"+)(["+oe+"]*/?>)","g"),de=new RegExp(se+ie+ce+"*)(["+oe+"]*/>)","g"),ue=new RegExp("("+ie+"\\s*=\\s*)(['\"]?)"+K+"\\2","gi");function pe(e,t,n,r){return"<"+t+n.replace(ue,fe)+r}function fe(e,t,n){return t+(n||'"')+X+(n||'"')}function he(e,t,n){return re.test(t)?e:"<"+t+n+"></"+t+">"}var me=J?function(e,t){var n=t.join(" ");return t.slice.call(e,0).sort((function(e,t){return n.indexOf(e.name)<=n.indexOf(t.name)?-1:1}))}:function(e,t){return t.slice.call(e,0)};function ge(t,n,r,o){for(var a=t.childNodes,i=a.length,s=0;s<i;){var c=a[s];switch(c.nodeType){case ee:var l=o.concat(s);!function(t,n,r,o){for(var a,i=t.attributes,s=[],c=[],l=me(i,r),d=l.length,u=0;u<d;){var p=l[u++],f=p.value===X;if(f||1<(a=p.value.split(K)).length){var h=p.name;if(s.indexOf(h)<0){s.push(h);var m=r.shift().replace(f?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+h+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),g=i[m]||i[m.toLowerCase()];if(f)n.push(be(g,o,m,null));else{for(var b=a.length-2;b--;)r.shift();n.push(be(g,o,m,a))}}c.push(p)}}for(var y=((u=0)<(d=c.length)&&J&&!("ownerSVGElement"in t));u<d;){var v=c[u++];y&&(v.value=""),t.removeAttribute(v.name)}var w=t.nodeName;if(/^script$/i.test(w)){var $=e.createElement(w);for(d=i.length,u=0;u<d;)$.setAttributeNode(i[u++].cloneNode(!0));$.textContent=t.textContent,t.parentNode.replaceChild($,t)}}(c,n,r,l),ge(c,n,r,l);break;case Z:var d=c.textContent;if(d===X)r.shift(),n.push(ne.test(t.nodeName)?ye(t,o):{type:"any",node:c,path:o.concat(s)});else switch(d.slice(0,2)){case"/*":if("*/"!==d.slice(-2))break;case"👻":t.removeChild(c),s--,i--}break;case te:ne.test(t.nodeName)&&Q.call(c.textContent)===K&&(r.shift(),n.push(ye(t,o)))}s++}}function be(e,t,n,r){return{type:"attr",node:e,path:t,name:n,sparse:r}}function ye(e,t){return{type:"text",node:e,path:t}}var ve,we=(ve=new n,{get:function(e){return ve.get(e)},set:function(e,t){return ve.set(e,t),t}});function $e(e,t){var n=(e.convert||function(e){return e.join(K).replace(de,he).replace(le,pe)})(t),r=e.transform;r&&(n=r(n));var o=P(n,e.type);xe(o);var a=[];return ge(o,a,t.slice(0),[]),{content:o,updates:function(n){for(var r=[],o=a.length,i=0,s=0;i<o;){var c=a[i++],l=function(e,t){for(var n=t.length,r=0;r<n;)e=e.childNodes[t[r++]];return e}(n,c.path);switch(c.type){case"any":r.push({fn:e.any(l,[]),sparse:!1});break;case"attr":var d=c.sparse,u=e.attribute(l,c.name,c.node);null===d?r.push({fn:u,sparse:!1}):(s+=d.length-2,r.push({fn:u,sparse:!0,values:d}));break;case"text":r.push({fn:e.text(l),sparse:!1}),l.textContent=""}}return o+=s,function(){var e=arguments.length;if(o!==e-1)throw new Error(e-1+" values instead of "+o+"\n"+t.join("${value}"));for(var a=1,i=1;a<e;){var s=r[a-i];if(s.sparse){var c=s.values,l=c[0],d=1,u=c.length;for(i+=u-2;d<u;)l+=arguments[a++]+c[d++];s.fn(l)}else s.fn(arguments[a++])}return n}}}}var _e=[];function xe(e){for(var t=e.childNodes,n=t.length;n--;){var r=t[n];1!==r.nodeType&&0===Q.call(r.textContent).length&&e.removeChild(r)}}var Ee,ke,Ae=(Ee=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,ke=/([^A-Z])([A-Z]+)/g,function(e,t){return"ownerSVGElement"in e?function(e,t){var n;return(n=t?t.cloneNode(!0):(e.setAttribute("style","--hyper:style;"),e.getAttributeNode("style"))).value="",e.setAttributeNode(n),Te(n,!0)}(e,t):Te(e.style,!1)});function Se(e,t,n){return t+"-"+n.toLowerCase()}function Te(e,t){var n,r;return function(o){var a,i,s,c;switch(typeof o){case"object":if(o){if("object"===n){if(!t&&r!==o)for(i in r)i in o||(e[i]="")}else t?e.value="":e.cssText="";for(i in a=t?{}:e,o)s="number"!=typeof(c=o[i])||Ee.test(i)?c:c+"px",!t&&/^--/.test(i)?a.setProperty(i,s):a[i]=s;n="object",t?e.value=function(e){var t,n=[];for(t in e)n.push(t.replace(ke,Se),":",e[t],";");return n.join("")}(r=a):r=o;break}default:r!=o&&(n="string",r=o,t?e.value=o||"":e.cssText=o||"")}}}var Ce,Ie,Re=(Ce=[].slice,(Ie=Ne.prototype).ELEMENT_NODE=1,Ie.nodeType=111,Ie.remove=function(e){var t,n=this.childNodes,r=this.firstChild,o=this.lastChild;return this._=null,e&&2===n.length?o.parentNode.removeChild(o):((t=this.ownerDocument.createRange()).setStartBefore(e?n[1]:r),t.setEndAfter(o),t.deleteContents()),r},Ie.valueOf=function(e){var t=this._,n=null==t;if(n&&(t=this._=this.ownerDocument.createDocumentFragment()),n||e)for(var r=this.childNodes,o=0,a=r.length;o<a;o++)t.appendChild(r[o]);return t},Ne);function Ne(e){var t=this.childNodes=Ce.call(e,0);this.firstChild=t[0],this.lastChild=t[t.length-1],this.ownerDocument=t[0].ownerDocument,this._=null}function Le(e){return{html:e}}function Oe(e,t){switch(e.nodeType){case Be:return 1/t<0?t?e.remove(!0):e.lastChild:t?e.valueOf(!0):e.firstChild;case He:return Oe(e.render(),t);default:return e}}function De(e,t){t(e.placeholder),"text"in e?Promise.resolve(e.text).then(String).then(t):"any"in e?Promise.resolve(e.any).then(t):"html"in e?Promise.resolve(e.html).then(Le).then(t):Promise.resolve(O.invoke(e,t)).then(t)}function Pe(e){return null!=e&&"then"in e}var qe,je,Me,ze,Fe,Ue="ownerSVGElement",He=w.prototype.nodeType,Be=Re.prototype.nodeType,We=(je=(qe={Event:b,WeakSet:d}).Event,Me=qe.WeakSet,ze=!0,Fe=null,function(e){return ze&&(ze=!ze,Fe=new Me,function(e){var t=new Me,n=new Me;try{new MutationObserver(i).observe(e,{subtree:!0,childList:!0})}catch(t){var r=0,o=[],a=function(e){o.push(e),clearTimeout(r),r=setTimeout((function(){i(o.splice(r=0,o.length))}),0)};e.addEventListener("DOMNodeRemoved",(function(e){a({addedNodes:[],removedNodes:[e.target]})}),!0),e.addEventListener("DOMNodeInserted",(function(e){a({addedNodes:[e.target],removedNodes:[]})}),!0)}function i(e){for(var r,o=e.length,a=0;a<o;a++)s((r=e[a]).removedNodes,"disconnected",n,t),s(r.addedNodes,"connected",t,n)}function s(e,t,n,r){for(var o,a=new je(t),i=e.length,s=0;s<i;1===(o=e[s++]).nodeType&&function e(t,n,r,o,a){Fe.has(t)&&!o.has(t)&&(a.delete(t),o.add(t),t.dispatchEvent(n));for(var i=t.children||[],s=i.length,c=0;c<s;e(i[c++],n,r,o,a));}(o,a,t,n,r));}}(e.ownerDocument)),Fe.add(e),e}),Ve=/^(?:form|list)$/i,Ye=[].slice;function Ge(t){return this.type=t,function(t){var n=_e,r=xe;return function(o){var a,i,s;return n!==o&&(a=t,i=n=o,s=we.get(i)||we.set(i,$e(a,i)),r=s.updates(G.call(e,s.content,!0))),r.apply(null,arguments)}}(this)}var Qe=!(Ge.prototype={attribute:function(e,t,n){var r,o=Ue in e;if("style"===t)return Ae(e,n,o);if("."===t.slice(0,1))return l=e,d=t.slice(1),o?function(e){try{l[d]=e}catch(t){l.setAttribute(d,e)}}:function(e){l[d]=e};if("?"===t.slice(0,1))return i=e,s=t.slice(1),function(e){c!==!!e&&((c=!!e)?i.setAttribute(s,""):i.removeAttribute(s))};if(/^on/.test(t)){var a=t.slice(2);return"connected"===a||"disconnected"===a?We(e):t.toLowerCase()in e&&(a=a.toLowerCase()),function(t){r!==t&&(r&&e.removeEventListener(a,r,!1),(r=t)&&e.addEventListener(a,t,!1))}}if("data"===t||!o&&t in e&&!Ve.test(t))return function(n){r!==n&&(r=n,e[t]!==n&&null==n?(e[t]="",e.removeAttribute(t)):e[t]=n)};if(t in O.attributes)return function(n){var o=O.attributes[t](e,n);r!==o&&(null==(r=o)?e.removeAttribute(t):e.setAttribute(t,o))};var i,s,c,l,d,u=!1,p=n.cloneNode(!0);return function(t){r!==t&&(r=t,p.value!==t&&(null==t?(u&&(u=!1,e.removeAttributeNode(p)),p.value=t):(p.value=t,u||(u=!0,e.setAttributeNode(p)))))}},any:function(e,t){var n,r={node:Oe,before:e},o=Ue in e?"svg":"html",a=!1;return function i(s){switch(typeof s){case"string":case"number":case"boolean":a?n!==s&&(n=s,t[0].textContent=s):(a=!0,n=s,t=h(e.parentNode,t,[(c=s,e.ownerDocument.createTextNode(c))],r));break;case"function":i(s(e));break;case"object":case"undefined":if(null==s){a=!1,t=h(e.parentNode,t,[],r);break}default:if(a=!1,D(n=s))if(0===s.length)t.length&&(t=h(e.parentNode,t,[],r));else switch(typeof s[0]){case"string":case"number":case"boolean":i({html:s});break;case"object":if(D(s[0])&&(s=s.concat.apply([],s)),Pe(s[0])){Promise.all(s).then(i);break}default:t=h(e.parentNode,t,s,r)}else"ELEMENT_NODE"in s?t=h(e.parentNode,t,11===s.nodeType?Ye.call(s.childNodes):[s],r):Pe(s)?s.then(i):"placeholder"in s?De(s,i):"text"in s?i(String(s.text)):"any"in s?i(s.any):"html"in s?t=h(e.parentNode,t,Ye.call(P([].concat(s.html).join(""),o).childNodes),r):i("length"in s?Ye.call(s):O.invoke(s,i))}var c}},text:function(e){var t;return function n(r){var o;t!==r&&("object"==(o=typeof(t=r))&&r?Pe(r)?r.then(n):"placeholder"in r?De(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?Ye.call(r).join(""):O.invoke(r,n)):"function"==o?n(r(e)):e.textContent=null==r?"":r)}}}),Xe=function(t){var r,o,a,i,s=(r=(e.defaultView.navigator||{}).userAgent,/(Firefox|Safari)\/(\d+)/.test(r)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(r)),c=!("raw"in t)||t.propertyIsEnumerable("raw")||!Object.isFrozen(t.raw);return s||c?(o={},a=function(e){for(var t=".",n=0;n<e.length;n++)t+=e[n].length+"."+e[n];return o[t]||(o[t]=e)},Xe=c?a:(i=new n,function(e){return i.get(e)||(n=a(t=e),i.set(t,n),n);var t,n})):Qe=!0,Je(t)};function Je(e){return Qe?e:Xe(e)}function Ke(e){for(var t=arguments.length,n=[Je(e)],r=1;r<t;)n.push(arguments[r++]);return n}var Ze=new n,et=function(e){var t,n,r;return function(){var o=Ke.apply(null,arguments);return r!==o[0]?(r=o[0],n=new Ge(e),t=nt(n.apply(n,o))):n.apply(n,o),t}},tt=function(e,t){var n=t.indexOf(":"),r=Ze.get(e),o=t;return-1<n&&(o=t.slice(n+1),t=t.slice(0,n)||"html"),r||Ze.set(e,r={}),r[o]||(r[o]=et(t))},nt=function(e){var t=e.childNodes,n=t.length;return 1===n?t[0]:n?new Re(t):e},rt=new n;function ot(){var e=rt.get(this),t=Ke.apply(null,arguments);return e&&e.template===t[0]?e.tagger.apply(null,t):function(e){var t=new Ge(Ue in this?"svg":"html");rt.set(this,{tagger:t,template:e}),this.textContent="",this.appendChild(t.apply(null,arguments))}.apply(this,t),this}var at,it,st,ct,lt=O.define,dt=Ge.prototype;function ut(e){return arguments.length<2?null==e?et("html"):"string"==typeof e?ut.wire(null,e):"raw"in e?et("html")(e):"nodeType"in e?ut.bind(e):tt(e,"html"):("raw"in e?et("html"):ut.wire).apply(null,arguments)}return ut.Component=w,ut.bind=function(e){return ot.bind(e)},ut.define=lt,ut.diff=h,(ut.hyper=ut).observe=We,ut.tagger=dt,ut.wire=function(e,t){return null==e?et(t||"html"):tt(e,t||"html")},ut._={WeakMap:n,WeakSet:d},at=et,it=new n,st=Object.create,ct=function(e,t){var n={w:null,p:null};return t.set(e,n),n},Object.defineProperties(w,{for:{configurable:!0,value:function(e,t){return function(e,t,r,o){var a,i,s,c=t.get(e)||ct(e,t);switch(typeof o){case"object":case"function":var l=c.w||(c.w=new n);return l.get(o)||(a=l,i=o,s=new e(r),a.set(i,s),s);default:var d=c.p||(c.p=st(null));return d[o]||(d[o]=new e(r))}}(this,it.get(e)||(r=e,o=new v,it.set(r,o),o),e,null==t?"default":t);var r,o}}}),Object.defineProperties(w.prototype,{handleEvent:{value:function(e){var t=e.currentTarget;this["getAttribute"in t&&t.getAttribute("data-call")||"on"+e.type](e)}},html:$("html",at),svg:$("svg",at),state:$("state",(function(){return this.defaultState})),defaultState:{get:function(){return{}}},dispatch:{value:function(e,t){var n=this._wire$;if(n){var r=new b(e,{bubbles:!0,cancelable:!0,detail:t});return r.component=this,(n.dispatchEvent?n:n.firstChild).dispatchEvent(r)}return!1}},setState:{value:function(e,t){var n=this.state,r="function"==typeof e?e.call(this,n):e;for(var o in r)n[o]=r[o];return!1!==t&&this.render(),this}}}),ut}(document);const Ze=Ke,et=O,tt=Ye,nt=class{constructor(e){const{type:t,subtype:n,params:r}=function(e){if(e=e.trim(),!e)throw new TypeError("Invalid input.");let t="",n="",r="",o=null,a=new Map,i="type",s=Array.from(e);for(let e=0;e<s.length;e++){const c=s[e];switch(i){case"type":if("/"===c){i="subtype";continue}t+=c;break;case"subtype":if(";"===c){i="param-start";continue}n+=c;break;case"param-start":if(P.test(c)||";"===c)continue;r+=c,i="param-name";break;case"param-name":if("="===c||";"===c){if("="===c){i="param-value",o=null;continue}a.set(r.toLowerCase(),null),r="";continue}r+=c;break;case"param-value":if('"'==c){i="collect-quoted-string";continue}if(";"===c){o=o.trimEnd(),i="param-start",j(a,r,o),r="";continue}o="string"==typeof o?o+c:c;break;case"collect-quoted-string":if('"'===c){j(a,r,o),i="ignore-input-until-next-param",r="",o=null;continue}if("\\"===c)continue;o="string"==typeof o?o+c:c;break;case"ignore-input-until-next-param":if(";"!==c)continue;i="param-start";break;default:throw new Error(`State machine error - unknown parser mode: ${i} `)}}r&&j(a,r,o);if(""===t.trim()||!D.test(t))throw new TypeError("Invalid type");if(""===n.trim()||!D.test(n))throw new TypeError("Invalid subtype");return{type:t,subtype:n,params:Object.fromEntries(a.entries())}}(e);this.type=t.trim().toLowerCase(),this.subtype=n.trimEnd().toLowerCase(),this.parameters=new Map(Object.entries(r))}get essence(){return`${this.type}/${this.subtype}`}toString(){return function(e){const{parameters:t,essence:n}=e;if(!t.size)return n;let r=";";for(const[e,n]of t.entries())r+=e,null!==n?D.test(n)?r+=`=${n}`:r+=`="${n}"`:r+='=""',r+=";";return e.essence+r.slice(0,-1)}(this)}},rt=Je,ot=/-/g,at=new Intl.DateTimeFormat(["sv-SE"],{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"});"en"===l||l.startsWith("en-");const it=".informative, .note, .issue, .example, .ednote, .practice, .introductory";function st(e){const t=new URL(e.href,document.baseURI),n=document.createElement("link");let{href:r}=t;switch(n.rel=e.hint,n.rel){case"dns-prefetch":case"preconnect":r=t.origin,(e.corsMode||t.origin!==document.location.origin)&&(n.crossOrigin=e.corsMode||"anonymous");break;case"preload":"as"in e&&n.setAttribute("as",e.as),e.corsMode&&(n.crossOrigin=e.corsMode)}return n.href=r,e.dontRemove||n.classList.add("removeOnSave"),n}function ct(e){e.querySelectorAll(".remove, script[data-requiremodule]").forEach((e=>{e.remove()}))}function lt(e,t="long"){const n=new Intl.ListFormat(l,{style:t,type:e});return(e,t)=>{let r=0;return n.formatToParts(e).map((({type:n,value:o})=>"element"===n&&t?t(o,r++,e):o))}}const dt=lt("conjunction"),ut=lt("disjunction");function pt(e,t){return dt(e,t).join("")}function ft(e,t){return ut(e,t).join("")}function ht(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/</g,"&lt;")}function mt(e){return e.trim().replace(/\s+/g," ")}function gt(e,t=l){return t=t.toLowerCase(),new Proxy(e,{get(e,n){const r=function(e,t,n=l){return n=n.toLowerCase(),e[n]?.[t]||e[n.match(/^(\w{2,3})-.+$/)?.[1]]?.[t]}(e,n,t)||e.en[n];if(!r)throw new Error(`No l10n data for key: "${n}"`);return r}})}function bt(e,t){const n=[].concat(t).map((t=>{const n=e.createElement("link");return n.rel="stylesheet",n.href=t,n})).reduce(((e,t)=>(e.appendChild(t),e)),e.createDocumentFragment());e.head.appendChild(n)}function yt(e,t,...n){const r=[this,e,...n];if(t){const n=t.split(/\s+/);for(const t of n){const n=window[t];if(n)try{e=n.apply(this,r)}catch(e){Ot(`call to \`${t}()\` failed with: ${e}.`,"utils/runTransforms",{hint:"See developer console for stack trace."}),console.error(e)}}}return e}function vt(e,t=(e=>e)){const n=e.map(t),r=n.slice(0,-1).map((e=>Ze`${e}, `));return Ze`${r}${n[n.length-1]}`}function wt(e,t="",n="",r=!1){if(e.id)return e.id;n||(n=(e.title?e.title:e.textContent).trim());let o=r?n:n.toLowerCase();if(o=o.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\W+/gim,"-").replace(/^-+/,"").replace(/-+$/,""),o?!/\.$/.test(o)&&/^[a-z]/i.test(t||o)||(o=`x${o}`):o="generatedID",t&&(o=`${t}-${o}`),e.ownerDocument.getElementById(o)){let t=0,n=`${o}-${t}`;for(;e.ownerDocument.getElementById(n);)t+=1,n=`${o}-${t}`;o=n}return e.id=o,o}function $t(e){const t=new Set,n="ltNodefault"in e.dataset?"":mt(e.textContent),r=e.children[0];if(e.dataset.lt?e.dataset.lt.split("|").map((e=>mt(e))).forEach((e=>t.add(e))):1===e.childNodes.length&&1===e.getElementsByTagName("abbr").length&&r.title?t.add(r.title):'""'===e.textContent&&t.add("the-empty-string"),t.add(n),t.delete(""),e.dataset.localLt){e.dataset.localLt.split("|").forEach((e=>t.add(mt(e))))}return[...t]}function _t(e,t,n={copyAttributes:!0}){if(e.localName===t)return e;const r=e.ownerDocument.createElement(t);if(n.copyAttributes)for(const{name:t,value:n}of e.attributes)r.setAttribute(t,n);return r.append(...e.childNodes),e.replaceWith(r),r}function xt(e,t){const n=t.closest(it);let r=!1;if(n&&(r=!t.closest(".normative")||!n.querySelector(".normative")),e.startsWith("!")){if(r)return{type:"informative",illegal:!0};r=!1}else e.startsWith("?")&&(r=!0);return{type:r?"informative":"normative",illegal:!1}}function Et(e,t){return t.append(...e.childNodes),e.appendChild(t),e}function kt(e,t){const n=[];let r=e.parentElement;for(;r;){const e=r.closest(t);if(!e)break;n.push(e),r=e.parentElement}return n}function At(e){const{previousSibling:t}=e;if(!t||t.nodeType!==Node.TEXT_NODE)return"";const n=t.textContent.lastIndexOf("\n");if(-1===n)return"";const r=t.textContent.slice(n+1);return/\S/.test(r)?"":r}class St extends Set{constructor(e=[]){super();for(const t of e)this.add(t)}add(e){return this.has(e)||this.getCanonicalKey(e)?this:super.add(e)}has(e){return super.has(e)||[...this.keys()].some((t=>t.toLowerCase()===e.toLowerCase()))}delete(e){return super.has(e)?super.delete(e):super.delete(this.getCanonicalKey(e))}getCanonicalKey(e){return super.has(e)?e:[...this.keys()].find((t=>t.toLowerCase()===e.toLowerCase()))}}function Tt(e){const t=e.cloneNode(!0);return t.querySelectorAll("[id]").forEach((e=>e.removeAttribute("id"))),t.querySelectorAll("dfn").forEach((e=>{_t(e,"span",{copyAttributes:!1})})),t.hasAttribute("id")&&t.removeAttribute("id"),Ct(t),t}function Ct(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT);for(const e of[...It(t)])e.remove()}function*It(e){for(;e.nextNode();)yield e.currentNode}class Rt extends Map{constructor(e=[]){return super(),e.forEach((([e,t])=>{this.set(e,t)})),this}set(e,t){return super.set(e.toLowerCase(),t),this}get(e){return super.get(e.toLowerCase())}has(e){return super.has(e.toLowerCase())}delete(e){return super.delete(e.toLowerCase())}}class Nt extends Error{constructor(e,t,n){super(e);const r=n.isWarning?"ReSpecWarning":"ReSpecError";Object.assign(this,{message:e,plugin:t,name:r,...n}),n.elements&&n.elements.forEach((t=>function(e,t,n){e.classList.add("respec-offending-element"),e.hasAttribute("title")||e.setAttribute("title",n||t),e.id||wt(e,"respec-offender")}(t,e,n.title)))}toJSON(){const{message:e,name:t,stack:n}=this,{plugin:r,hint:o,elements:a,title:i,details:s}=this;return{message:e,name:t,plugin:r,hint:o,elements:a,title:i,details:s,stack:n}}}function Lt(e,t,n={}){const r={...n,isWarning:!1};o("error",new Nt(e,t,r))}function Ot(e,t,n={}){const r={...n,isWarning:!0};o("warn",new Nt(e,t,r))}function Dt(e){return{showError:(t,n)=>Lt(t,e,n),showWarning:(t,n)=>Ot(t,e,n)}}function Pt(e){return e?`\`${e}\``:""}function qt(e,{quotes:t}={quotes:!1}){return pt(e,t?e=>Pt(jt(e)):Pt)}function jt(e){return String(e)?`"${e}"`:""}function Mt(e,...t){return zt(e.map(((e,n)=>{const r=t[n];if(!r)return e;if(!r.startsWith("[")&&!r.endsWith("]"))return e+r;const[o,a]=r.slice(1,-1).split("|");if(a){return`${e}[${o}](${new URL(a,"https://respec.org/docs/")})`}return`${e}[\`${o}\`](https://respec.org/docs/#${o})`})).join(""))}function zt(e){if(!e)return e;const t=e.trimEnd().split("\n");for(;t.length&&!t[0].trim();)t.shift();const n=t.filter((e=>e.trim())).map((e=>e.search(/[^\s]/))),r=Math.min(...n);return t.map((e=>e.slice(r))).join("\n")}const Ft=new Map([["text/html","html"],["application/xml","xml"]]);function Ut(e,t=document){const n=Ft.get(e);if(!n){const t=[...Ft.values()].join(", ");throw new TypeError(`Invalid format: ${e}. Expected one of: ${t}.`)}const r=Ht(n,t);return`data:${e};charset=utf-8,${encodeURIComponent(r)}`}function Ht(e,t){const n=t.cloneNode(!0);!function(e){const{head:t,body:n,documentElement:r}=e;Ct(e),e.querySelectorAll(".removeOnSave, #toc-nav").forEach((e=>e.remove())),n.classList.remove("toc-sidebar"),ct(r);const a=e.createDocumentFragment(),i=e.querySelector("meta[name='viewport']");i&&t.firstChild!==i&&a.appendChild(i);let s=e.querySelector("meta[charset], meta[content*='charset=']");s||(s=Ze`<meta charset="utf-8" />`);a.appendChild(s);const c=`ReSpec ${window.respecVersion||"Developer Channel"}`,l=Ze`
    <meta name="generator" content="${c}" />
  `;a.appendChild(l),t.prepend(a),o("beforesave",r)}(n);let r="";if("xml"===e)r=(new XMLSerializer).serializeToString(n);else!function(e){e.querySelectorAll("style").forEach((e=>{e.innerHTML=`\n${e.innerHTML}\n`})),e.querySelectorAll("head > *").forEach((e=>{e.outerHTML=`\n${e.outerHTML}`}))}(n),n.doctype&&(r+=(new XMLSerializer).serializeToString(n.doctype)),r+=n.documentElement.outerHTML;return r}n("core/exporter",{rsDocToDataURL:Ut});class Bt{constructor(){this._respecDonePromise=new Promise((e=>{a("end-all",(()=>e()),{once:!0})})),this.errors=[],this.warnings=[],a("error",(e=>{console.error(e,e.toJSON()),this.errors.push(e)})),a("warn",(e=>{console.warn(e,e.toJSON()),this.warnings.push(e)}))}get version(){return window.respecVersion}get ready(){return this._respecDonePromise}async toHTML(){return Ht("html",document)}}const Wt="core/post-process";const Vt="core/pre-process";const Yt="core/base-runner";async function Gt(e){!function(){const e=new Bt;Object.defineProperty(document,"respec",{value:e})}(),o("start-all",respecConfig),function(e){const t={},n=e=>Object.assign(t,e);n(e),a("amend-user-config",n),a("end-all",(()=>{const e=document.createElement("script");e.id="initialUserConfig",e.type="application/json";for(const e of i)e in t&&delete t[e];e.innerHTML=JSON.stringify(t,null,2),document.head.appendChild(e)}))}(respecConfig),function(e){const t=new URLSearchParams(document.location.search),n=Array.from(t).filter((([e,t])=>!!e&&!!t)).map((([e,t])=>{const n=decodeURIComponent(e),r=decodeURIComponent(t.replace(/%3D/g,"="));let o;try{o=JSON.parse(r)}catch{o=r}return[n,o]})),r=Object.fromEntries(n);Object.assign(e,r),o("amend-user-config",r)}(respecConfig),performance.mark(`${Yt}-start`),await async function(e){if(Array.isArray(e.preProcess)){const t=e.preProcess.filter((e=>{const t="function"==typeof e;return t||Lt("Every item in `preProcess` must be a JS function.",Vt),t})).map((async(t,n)=>{const r=Dt(`${Vt}/${t.name||`[${n}]`}`);try{return await t(e,document,r)}catch(e){Lt(`Function ${t.name} threw an error during \`preProcess\`.`,Vt,{hint:"See developer console."}),console.error(e)}}));await Promise.all(t)}}(respecConfig);const t=e.filter((e=>{return(t=e)&&(t.run||t.Plugin);var t}));t.forEach((e=>!e.name&&console.warn("Plugin lacks name:",e))),await async function(e,t){for(const n of e.filter((e=>e.prepare)))try{await n.prepare(t)}catch(e){console.error(e)}}(t,respecConfig),await async function(e,t){for(const n of e){const e=n.name||"";try{await new Promise((async(r,o)=>{const a=setTimeout((()=>{const t=`Plugin ${e} took too long.`;console.error(t,n),o(new Error(t))}),15e3);performance.mark(`${e}-start`);try{n.Plugin?(await new n.Plugin(t).run(),r()):n.run&&(await n.run(t),r())}catch(e){o(e)}finally{clearTimeout(a),performance.mark(`${e}-end`),performance.measure(e,`${e}-start`,`${e}-end`)}}))}catch(e){console.error(e)}}}(t,respecConfig),o("plugins-done",respecConfig),await async function(e){if(Array.isArray(e.postProcess)){const t=e.postProcess.filter((e=>{const t="function"==typeof e;return t||Lt("Every item in `postProcess` must be a JS function.",Wt),t})).map((async(t,n)=>{const r=Dt(`${Wt}/${t.name||`[${n}]`}`);try{return await t(e,document,r)}catch(e){Lt(`Function ${t.name} threw an error during \`postProcess\`.`,Wt,{hint:"See developer console."}),console.error(e)}}));await Promise.all(t)}"function"==typeof e.afterEnd&&await e.afterEnd(e,document)}(respecConfig),o("end-all"),ct(document),performance.mark(`${Yt}-end`),performance.measure(Yt,`${Yt}-start`,`${Yt}-end`)}var Qt=String.raw`.respec-modal .close-button{position:absolute;z-index:inherit;padding:.2em;font-weight:700;cursor:pointer;margin-left:5px;border:none;background:0 0}
#respec-ui{position:fixed;display:flex;flex-direction:row-reverse;top:20px;right:20px;width:202px;text-align:right;z-index:9000}
#respec-pill,.respec-info-button{height:2.4em;background:#fff;background:var(--bg,#fff);color:#787878;color:var(--tocnav-normal-text,#787878);border:1px solid #ccc;box-shadow:1px 1px 8px 0 rgba(100,100,100,.5);box-shadow:1px 1px 8px 0 var(--tocsidebar-shadow,rgba(100,100,100,.5));padding:.2em 0}
.respec-info-button{border:none;opacity:.75;border-radius:2em;margin-right:1em;min-width:3.5em;will-change:opacity}
.respec-info-button:focus,.respec-info-button:hover{opacity:1;transition:opacity .2s}
#respec-pill{width:4.8em}
#respec-pill:not(:disabled){animation:respec-fadein .6s ease-in-out}
@keyframes respec-fadein{
from{margin-top:-1.2em;border-radius:50%;border:.2em solid rgba(100,100,100,.5);box-shadow:none;height:4.8em}
to{margin-top:0;border:1px solid #ccc;border-radius:0;box-shadow:1px 1px 8px 0 rgba(100,100,100,.5);height:2.4em}
}
#respec-pill:disabled{margin-top:-1.2em;position:relative;border:none;box-shadow:none;border-radius:50%;width:4.8em;height:4.8em;padding:0}
#respec-pill:disabled::after{position:absolute;content:'';inset:-.2em;border-radius:50%;border:.2em solid rgba(100,100,100,.5);border-left:.2em solid transparent;animation:respec-spin .5s infinite linear}
@media (prefers-reduced-motion){
#respec-pill:not(:disabled){animation:none}
#respec-pill:disabled::after{animation:none;border-left:.2em solid rgba(100,100,100,.5)}
}
@keyframes respec-spin{
0%{transform:rotate(0)}
100%{transform:rotate(360deg)}
}
.respec-hidden{visibility:hidden;opacity:0;transition:visibility 0s .2s,opacity .2s linear}
.respec-visible{visibility:visible;opacity:1;transition:opacity .2s linear}
#respec-pill:focus,#respec-pill:hover{color:#000;background-color:#f5f5f5;transition:color .2s}
#respec-menu{position:absolute;margin:0;padding:0;font-family:sans-serif;background:var(--bg,#fff);color:var(--text,#000);box-shadow:1px 1px 8px 0 rgba(100,100,100,.5);width:200px;display:none;text-align:left;margin-top:32px;font-size:.8em}
#respec-menu:not([hidden]){display:block}
#respec-menu li{list-style-type:none;margin:0;padding:0}
.respec-save-buttons{display:grid;grid-template-columns:repeat(auto-fill,minmax(47%,2fr));grid-gap:.5cm;padding:.5cm}
.respec-save-button:link{padding-top:16px;color:var(--def-text,#fff);background:var(--def-bg,#2a5aa8);justify-self:stretch;height:1cm;text-decoration:none;text-align:center;font-size:inherit;border:none;border-radius:.2cm}
.respec-save-button:link:hover{color:var(--def-text,#fff);background:var(--defrow-border,#2a5aa8);padding:0;margin:0;border:0;padding-top:16px}
.respec-save-button:link:focus{background:var(--tocnav-active-bg,#193766);color:var(--tocnav-active-text,#000)}
#respec-pill:focus,#respec-ui button:focus,.respec-option:focus{outline:0;outline-style:none}
#respec-pill-error{background-color:red;color:#fff}
#respec-pill-warning{background-color:orange;color:#fff}
.respec-error-list,.respec-warning-list{margin:0;padding:0;font-family:sans-serif;font-size:.85em}
.respec-warning-list{background-color:#fffbe6}
:is(.respec-warning-list,.respec-error-list)>li{list-style-type:none;margin:0;padding:.5em 0;padding-left:2em;padding-right:.5em}
:is(.respec-warning-list,.respec-error-list)>li+li{margin-top:.5rem}
:is(.respec-warning-list,.respec-error-list)>li:before{position:absolute;left:.4em}
:is(.respec-warning-list,.respec-error-list) p{padding:0;margin:0}
.respec-warning-list>li{color:#5c3b00;border-bottom:thin solid #fff5c2}
.respec-error-list,.respec-error-list li{background-color:#fff0f0}
.respec-warning-list>li::before{content:"⚠️"}
.respec-error-list>li::before{content:"💥"}
.respec-error-list>li{color:#5c3b00;border-bottom:thin solid #ffd7d7}
:is(.respec-warning-list,.respec-error-list)>li li{list-style:disc}
#respec-overlay{display:block;position:fixed;z-index:10000;top:0;left:0;height:100%;width:100%;background:#000}
.respec-show-overlay{transition:opacity .2s linear;opacity:.5}
.respec-hide-overlay{transition:opacity .2s linear;opacity:0}
.respec-modal{display:block;position:fixed;z-index:11000;top:10%;background:var(--bg,#fff);color:var(--text,#000);border:5px solid #666;border-color:var(--tocsidebar-shadow,#666);min-width:20%;padding:0;max-height:80%;overflow-y:auto;margin:0 -.5cm;left:20%;max-width:75%;min-width:60%}
.respec-modal h3{margin:0;padding:.2em;left:0!important;text-align:center;background:var(--tocsidebar-shadow,#ddd);color:var(--text,#000);font-size:1em}
#respec-menu button.respec-option{background:var(--bg,#fff);color:var(--text,#000);border:none;width:100%;text-align:left;font-size:inherit;padding:1.2em 1.2em}
#respec-menu button.respec-option:hover{background-color:var(--tocnav-hover-bg,#eee);color:var(--tocnav-hover-text,#000)}
.respec-cmd-icon{padding-right:.5em}
#respec-ui button.respec-option:first-child{margin-top:0}
#respec-ui button.respec-option:last-child{border:none;border-radius:inherit;margin-bottom:0}
.respec-button-copy-paste{position:absolute;height:28px;width:40px;cursor:pointer;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #90b8de;border-left:0;border-radius:0 0 3px 0;-webkit-user-select:none;user-select:none;-webkit-appearance:none;top:0;left:127px}
@media print{
#respec-ui{display:none}
}
.respec-iframe{width:100%;min-height:550px;height:100%;overflow:hidden;padding:0;margin:0;border:0}
.respec-iframe:not(.ready){background:url(https://respec.org/xref/loader.gif) no-repeat center}
.respec-iframe+a[href]{font-size:.9rem;float:right;margin:0 .5em .5em;border-bottom-width:1px}
p:is(.respec-hint,.respec-occurrences){display:block;margin-top:.5em}
.respec-plugin{text-align:right;color:rgb(120,120,120,.5);font-size:.6em}`;const Xt=/&gt;/gm,Jt=/&amp;/gm;class Kt extends tt.Renderer{code(e,t,n){const{language:r,...o}=Kt.parseInfoString(t);if(/(^webidl$)/i.test(r))return`<pre class="idl">${e}</pre>`;const a=super.code(e,r,n).replace('class="language-','class="'),{example:i,illegalExample:s}=o;if(!i&&!s)return a;const c=i||s,l=`${r} ${i?"example":"illegal-example"}`;return a.replace("<pre>",`<pre title="${c}" class="${l}">`)}image(e,t,n){if(!t)return super.image(e,t,n);return String.raw`
      <figure>
        <img src="${e}" alt="${n}" />
        <figcaption>${t}</figcaption>
      </figure>
    `}static parseInfoString(e){const t=e.search(/\s/);if(-1===t)return{language:e};const n=e.slice(0,t),r=e.slice(t+1);let o;if(r)try{o=JSON.parse(`{ ${r} }`)}catch(e){console.error(e)}return{language:n,...o}}heading(e,t,n){const r=/(.+)\s+{#([\w-]+)}$/;if(r.test(e)){const[,n,o]=e.match(r);return`<h${t} id="${o}">${n}</h${t}>`}return super.heading(e,t,n)}}const Zt={gfm:!0,renderer:new Kt};function en(e,t={inline:!1}){const n=zt(e).replace(Xt,">").replace(Jt,"&");return t.inline?tt.parseInline(n,Zt):tt.parse(n,Zt)}function tn(e){for(const t of e.getElementsByTagName("pre"))t.prepend("\n");e.innerHTML=en(e.innerHTML)}const nn=(rn="[data-format='markdown']:not(body)",e=>{const t=e.querySelectorAll(rn);return t.forEach(tn),Array.from(t)});var rn;var on=Object.freeze({__proto__:null,markdownToHtml:en,name:"core/markdown",run:function(e){const t=!!document.querySelector("[data-format=markdown]:not(body)"),n="markdown"===e.format;if(!n&&!t)return;if(!n)return void nn(document.body);const r=document.getElementById("respec-ui");r.remove();const o=document.body.cloneNode(!0);var a;!function(e,t){const n=e.querySelectorAll(t);for(const e of n){const{innerHTML:t}=e;if(/^<\w/.test(t.trimStart()))continue;const n=t.split("\n"),r=n.slice(0,2).join("\n"),o=n.slice(-2).join("\n");if(r.trim()&&e.prepend("\n\n"),o.trim()){const t=At(e);e.append(`\n\n${t}`)}}}(o,"[data-format=markdown], section, div, address, article, aside, figure, header, main"),tn(o),a=o.querySelectorAll(".nolinks a[href]"),Array.from(a).forEach((e=>{e.replaceWith(e.textContent)})),o.append(r),document.body.replaceWith(o)}});function an(e,t){e&&Array.from(t).forEach((([t,n])=>{e.setAttribute(`aria-${t}`,n)}))}!function(){const e=document.createElement("style");e.id="respec-ui-styles",e.textContent=Qt,e.classList.add("removeOnSave"),document.head.appendChild(e)}();const sn=Ze`<div id="respec-ui" class="removeOnSave" hidden></div>`,cn=Ze`<ul
  id="respec-menu"
  role="menu"
  aria-labelledby="respec-pill"
  hidden
></ul>`,ln=Ze`<button
  class="close-button"
  onclick=${()=>wn.closeModal()}
  title="Close"
>
  ❌
</button>`;let dn,un;window.addEventListener("load",(()=>bn(cn)));const pn=[],fn=[],hn={};a("start-all",(()=>document.body.prepend(sn)),{once:!0}),a("end-all",(()=>document.body.prepend(sn)),{once:!0});const mn=Ze`<button id="respec-pill" disabled>ReSpec</button>`;function gn(){cn.classList.toggle("respec-hidden"),cn.classList.toggle("respec-visible"),cn.hidden=!cn.hidden}function bn(e){const t=e.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled])"),n=t[0],r=t[t.length-1];n&&n.focus(),e.addEventListener("keydown",(e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(r.focus(),e.preventDefault()):document.activeElement===r&&(n.focus(),e.preventDefault()))}))}sn.appendChild(mn),mn.addEventListener("click",(e=>{e.stopPropagation(),mn.setAttribute("aria-expanded",String(cn.hidden)),gn(),cn.querySelector("li:first-child button").focus()})),document.documentElement.addEventListener("click",(()=>{cn.hidden||gn()})),sn.appendChild(cn),cn.addEventListener("keydown",(e=>{"Escape"!==e.key||cn.hidden||(mn.setAttribute("aria-expanded",String(cn.hidden)),gn(),mn.focus())}));const yn=new Map([["controls","respec-menu"],["expanded","false"],["haspopup","true"],["label","ReSpec Menu"]]);function vn(e,t,n,r){t.push(e),hn.hasOwnProperty(n)||(hn[n]=function(e,t,n){const r=`respec-pill-${e}`,o=Ze`<button
    id="${r}"
    class="respec-info-button"
  ></button>`;o.addEventListener("click",(()=>{o.setAttribute("aria-expanded","true");const r=Ze`<ol class="${`respec-${e}-list`}"></ol>`;for(const e of t){const t=document.createRange().createContextualFragment($n(e)),n=document.createElement("li");t.firstElementChild===t.lastElementChild?n.append(...t.firstElementChild.childNodes):n.appendChild(t),r.appendChild(n)}wn.freshModal(n,r,o)}));const a=new Map([["expanded","false"],["haspopup","true"],["controls",`respec-pill-${e}-modal`]]);return an(o,a),o}(n,t,r),sn.appendChild(hn[n]));const o=hn[n];o.textContent=t.length;const a=1===t.length?rt.singular(r):r;an(o,new Map([["label",`${t.length} ${a}`]]))}an(mn,yn);const wn={show(){try{sn.hidden=!1}catch(e){console.error(e)}},hide(){sn.hidden=!0},enable(){mn.removeAttribute("disabled")},addCommand(e,t,n,r){r=r||"";const o=`respec-button-${e.toLowerCase().replace(/\s+/,"-")}`,a=Ze`<button id="${o}" class="respec-option">
      <span class="respec-cmd-icon" aria-hidden="true">${r}</span> ${e}…
    </button>`,i=Ze`<li role="menuitem">${a}</li>`;return i.addEventListener("click",t),cn.appendChild(i),a},error(e){vn(e,pn,"error","ReSpec Errors")},warning(e){vn(e,fn,"warning","ReSpec Warnings")},closeModal(e){un&&(un.classList.remove("respec-show-overlay"),un.classList.add("respec-hide-overlay"),un.addEventListener("transitionend",(()=>{un.remove(),un=null}))),e&&e.setAttribute("aria-expanded","false"),dn&&(dn.remove(),dn=null,mn.focus())},freshModal(e,t,n){dn&&dn.remove(),un&&un.remove(),un=Ze`<div id="respec-overlay" class="removeOnSave"></div>`;const r=`${n.id}-modal`,o=`${r}-heading`;dn=Ze`<div
      id="${r}"
      class="respec-modal removeOnSave"
      role="dialog"
      aria-labelledby="${o}"
    >
      ${ln}
      <h3 id="${o}">${e}</h3>
      <div class="inside">${t}</div>
    </div>`;const a=new Map([["labelledby",o]]);an(dn,a),document.body.append(un,dn),un.addEventListener("click",(()=>this.closeModal(n))),un.classList.toggle("respec-show-overlay"),dn.hidden=!1,bn(dn)}};function $n(e){if("string"==typeof e)return e;const t=e.plugin?`<p class="respec-plugin">(plugin: "${e.plugin}")</p>`:"",n=e.hint?`\n${en(`<p class="respec-hint"><strong>How to fix:</strong> ${zt(e.hint)}`,{inline:!e.hint.includes("\n")})}\n`:"",r=Array.isArray(e.elements)?`<p class="respec-occurrences">Occurred <strong>${e.elements.length}</strong> times at:</p>\n    ${en(e.elements.map(_n).join("\n"))}`:"",o=e.details?`\n\n<details>\n${e.details}\n</details>\n`:"";return`${en(`**${ht(e.message)}**`,{inline:!0})}${n}${r}${o}${t}`}function _n(e){return`* [\`<${e.localName}>\`](#${e.id}) element`}async function xn(e){try{wn.show(),await async function(){"loading"===document.readyState&&await new Promise((e=>document.addEventListener("DOMContentLoaded",e)))}(),await Gt(e)}finally{wn.enable()}}document.addEventListener("keydown",(e=>{"Escape"===e.key&&wn.closeModal()})),window.respecUI=wn,a("error",(e=>wn.error(e))),a("warn",(e=>wn.warning(e))),window.addEventListener("error",(e=>{console.error(e.error,e.message,e)}));const En=[Promise.resolve().then((function(){return kn})),Promise.resolve().then((function(){return d})),Promise.resolve().then((function(){return Tn})),Promise.resolve().then((function(){return Rn})),Promise.resolve().then((function(){return On})),Promise.resolve().then((function(){return qn})),Promise.resolve().then((function(){return jn})),Promise.resolve().then((function(){return Bn})),Promise.resolve().then((function(){return Yn})),Promise.resolve().then((function(){return tr})),Promise.resolve().then((function(){return Kr})),Promise.resolve().then((function(){return ro})),Promise.resolve().then((function(){return on})),Promise.resolve().then((function(){return oo})),Promise.resolve().then((function(){return ao})),Promise.resolve().then((function(){return mo})),Promise.resolve().then((function(){return go})),Promise.resolve().then((function(){return vo})),Promise.resolve().then((function(){return wo})),Promise.resolve().then((function(){return xo})),Promise.resolve().then((function(){return Eo})),Promise.resolve().then((function(){return La})),Promise.resolve().then((function(){return ja})),Promise.resolve().then((function(){return Ga})),Promise.resolve().then((function(){return Qa})),Promise.resolve().then((function(){return Za})),Promise.resolve().then((function(){return oi})),Promise.resolve().then((function(){return ai})),Promise.resolve().then((function(){return di})),Promise.resolve().then((function(){return fi})),Promise.resolve().then((function(){return mi})),Promise.resolve().then((function(){return ea})),Promise.resolve().then((function(){return Oi})),Promise.resolve().then((function(){return Qi})),Promise.resolve().then((function(){return ki})),Promise.resolve().then((function(){return ua})),Promise.resolve().then((function(){return cs})),Promise.resolve().then((function(){return ds})),Promise.resolve().then((function(){return Jn})),Promise.resolve().then((function(){return us})),Promise.resolve().then((function(){return vs})),Promise.resolve().then((function(){return $s})),Promise.resolve().then((function(){return xs})),Promise.resolve().then((function(){return Cs})),Promise.resolve().then((function(){return js})),Promise.resolve().then((function(){return Vs})),Promise.resolve().then((function(){return Xs})),Promise.resolve().then((function(){return ec})),Promise.resolve().then((function(){return ic})),Promise.resolve().then((function(){return sc})),Promise.resolve().then((function(){return cc})),Promise.resolve().then((function(){return mc})),Promise.resolve().then((function(){return _c})),Promise.resolve().then((function(){return Sc})),Promise.resolve().then((function(){return Lc})),Promise.resolve().then((function(){return Pc})),Promise.resolve().then((function(){return jc})),Promise.resolve().then((function(){return zc})),Promise.resolve().then((function(){return Gc})),Promise.resolve().then((function(){return Zc})),Promise.resolve().then((function(){return el})),Promise.resolve().then((function(){return tl})),Promise.resolve().then((function(){return nl})),Promise.resolve().then((function(){return rl})),Promise.resolve().then((function(){return ol})),Promise.resolve().then((function(){return il})),Promise.resolve().then((function(){return ll})),Promise.resolve().then((function(){return fl})),Promise.resolve().then((function(){return gl})),Promise.resolve().then((function(){return wl})),Promise.resolve().then((function(){return xl})),Promise.resolve().then((function(){return Al})),Promise.resolve().then((function(){return Cl})),Promise.resolve().then((function(){return Nl})),Promise.resolve().then((function(){return Dl})),Promise.resolve().then((function(){return Ml}))];Promise.all(En).then((e=>xn(e))).catch((e=>console.error(e)));var kn=Object.freeze({__proto__:null,name:"core/location-hash",run:function(){window.location.hash&&document.respec.ready.then((()=>{let e=decodeURIComponent(window.location.hash).slice(1);const t=document.getElementById(e),n=/\W/.test(e);if(!t&&n){const t=e.replace(/[\W]+/gim,"-").replace(/^-+/,"").replace(/-+$/,"");document.getElementById(t)&&(e=t)}window.location.hash=`#${e}`}))}});const An={lint:{"no-headingless-sections":!0,"no-http-props":!0,"no-unused-vars":!1,"check-punctuation":!1,"local-refs-exist":!0,"check-internal-slots":!1,"check-charset":!1,"privsec-section":!1},pluralize:!0,specStatus:"base",highlightVars:!0,addSectionLinks:!0},Sn={};var Tn=Object.freeze({__proto__:null,name:"1edtech/defaults",run:function(e){const t=!1!==e.lint&&{...An.lint,...Sn.lint,...e.lint};Object.assign(e,{...An,...Sn,...e,lint:t})}});var Cn=String.raw`@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}`;const In=function(){const e=document.createElement("style");return e.id="respec-mainstyle",e.textContent=Cn,document.head.appendChild(e),e}();var Rn=Object.freeze({__proto__:null,name:"core/style",run:function(e){e.noReSpecCSS&&In.remove()}});var Nn=String.raw`@charset "UTF-8";
@import url(https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Source+Code+Pro);
:root{--fgclr1:rgba(0, 0, 0, 1);--fgclr2:rgba(0, 90, 156, 1);--fgclr3:rgba(70, 130, 180, 1);--fgclr4:rgba(40, 100, 150, 1);--gray:rgba(200, 200, 200, 0.9);--lightgray:rgba(240, 240, 240, 1);--lightestgray:rgba(250, 250, 250, 0.8);--darkgray:rgba(180, 180, 180, 1)}
body{font-family:Roboto,Arial,Helvetica,sans-serif}
code,pre,samp{font-family:'Source Code Pro',monospace}
header{border-bottom:2px solid var(--gray);padding-bottom:2em}
.header-top{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}
a#ims-logo,a#logo{text-decoration:none;border:0}
h1.title{font-size:200%}
div.subtitle{font-size:150%;color:var(--fgclr2)}
#cpr{margin-bottom:1.5em;margin-top:2.5em}
#cpr p{margin-top:0;margin-bottom:0}
.statusPD{position:fixed;display:block;top:0;left:0;width:300px;height:30px;text-align:right;padding-top:2px;padding-right:2em;background-color:red;color:#fff;font-size:20px;transform-origin:left top;transform:rotate(-90deg) translate(-100%,0);-ms-transform-origin:left top;-ms-transform:rotate(90deg);-webkit-transform-origin:left top;-webkit-transform:rotate(-90deg) translate(-100%,0);-moz-transform-origin:left top;-moz-transform:rotate(-90deg) translate(-100%,0);-o-transform-origin:left top;-o-transform:rotate(-90deg) translate(-100%,0);z-index:12000}
.statusPD.final{background-color:#00f}
dt,h1,h2,h3,h4,h5,h6{page-break-after:avoid;page-break-inside:avoid;font:100% sans-serif;font-family:inherit;line-height:1.2;-webkit-hyphens:manual;-ms-hyphens:manual;hyphens:manual}
h2,h3,h4,h5,h6{margin-top:3rem}
h1,h2,h3,h4{color:var(--fgclr4);background:0 0}
h1{font-size:170%}
h2{font-size:140%}
h3{font-size:120%}
h4{font-weight:700}
h5{font-style:italic}
h6{font-variant:small-caps}
dt{font-weight:700}
a[href].internalDFN{color:var(--fgclr1);text-decoration:none;border-bottom:1px var(--fgclr2) dotted}
a[href]:focus,a[href]:hover{background:var(--lightgray)}
a[href]:active{color:#c00;border-color:#c00}
.example{border:1px solid var(--darkgray);counter-increment:example}
.example figcaption{background-color:var(--fgclr3);color:#fff}
section#revisionhistory table{margin-bottom:3em}
div#endWarranty p{margin-top:.3em;margin-bottom:.3em}
div#endWarranty{margin-top:6em;padding-top:3em;border-top:2px solid var(--gray);text-align:center}
table{border-collapse:collapse;word-wrap:normal;overflow-wrap:normal;-webkit-hyphens:manual;-ms-hyphens:manual;hyphens:manual;width:100%;margin-top:1.5em;margin-bottom:1.5em;max-width:50em;border:1px solid var(--gray)}
td,th{padding-left:1em;padding-right:1em;padding-left:1em;padding-right:1em;text-align:left;text-align:start;vertical-align:top;border:1px solid var(--gray)}
th{font-weight:700;background-color:var(--fgclr3);color:var(--lightgray);padding:.6em}
td{padding:.8em}
th>*{padding:0;margin:0}
table#no-cell-borders,table#version-table{border:1px solid var(--gray)}
table#no-cell-borders td,table#version-table td{border:none}
table#version-table td{padding:.2em}
td code,td.pre{white-space:pre;overflow:scroll}
table.index{font-size:small;border-collapse:collapse;border-spacing:0;text-align:left;margin:1em 0}
table.index td,table.index th{padding:.4em}
table.index tr:hover td:not([rowspan]),table.index tr:hover th:not([rowspan]){background:#f7f8f9}
table.index th:first-child a{font-weight:700}
.alert{border:2px solid red;padding:.3em}
dt>dfn{font-weight:700}
a[href].hidden-reveal::before{content:"›";text-decoration:none}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"›"}
a.self-link{text-decoration:none}
a[href].hidden-reveal,a[href].hidden-reveal:visited,a[href].self-link:hover,a[href].self-link:visited{opacity:1;text-decoration:none}
.admonition{margin-top:1em;margin-bottom:1em;margin:1em 0;border-left-width:.5em;border-left-style:solid;padding:.5em 1.2em .5em;position:relative;clear:both}
.admonition .admon-top{padding-right:1em;min-width:7.5em;color:#e05252;text-transform:uppercase}
.admonition .ednote-title,.admonition .note-title{color:#2b2}
.admonition .ednote-title,.admonition .warning-title{color:#f22}
.admonition.issue{border-color:#e05252;background:#fbe9e9;counter-increment:issue;overflow:auto}
.admonition.ednote,.admonition.note{border-color:#52e052;background:#e9fbe9}
.admonition>p:first-child{margin-top:0}
.admonition.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9;padding-top:1em}
.admonition .warning-title:before{content:"⚠";font-size:3em;float:left;height:100%;padding-right:.3em;vertical-align:top;margin-top:-.5em}
body{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;color:var(--fgclr1)}
.figure,.sidefigure,figure{text-align:left}
.figure img,.figure pre,.sidefigure img,.sidefigure pre,figure img,figure pre{display:unset}
.caption,caption,figcaption{display:block;padding:.5em 0 .5em .5em}`;function Ln(){const e=document.createElement("meta");e.name="viewport";e.content=function(e,t=", ",n="="){return Array.from(Object.entries(e)).map((([e,t])=>`${e}${n}${JSON.stringify(t)}`)).join(t)}({width:"device-width","initial-scale":"1","shrink-to-fit":"no"}).replace(/"/g,""),document.head.insertBefore(e,document.head.firstChild)}var On=Object.freeze({__proto__:null,name:"1edtech/style",run:async function(e){if(Ln(),bt(document,"https://www.w3.org/StyleSheets/TR/2016/base.css"),e.overrideCSSLocation){const t=e.overrideCSSLocation;bt(document,t)}else{const e=document.createElement("style");e.textContent=Nn,document.head.appendChild(e)}}});const Dn="1edtech/config";function Pn(e){return null!=e&&e.trim().length>0}var qn=Object.freeze({__proto__:null,name:Dn,run:async function(e){if(Pn(e.specTitle)||(Lt("head config must have the <code>specTitle</code> property set: title of the document, excluding version",Dn),e.specTitle="@@@FIXME (conf.specTitle)"),Pn(e.docVersion)||(Lt("head config must have the <code>docVersion</code> property set, e.g. 'June 28, 2019'",Dn),e.docVersion="@@@FIXME (conf.docVersion)"),Pn(e.specDate)||("Base Document"===e.specStatus?e.specDate=at.format(new Date):(Lt("head config must have the <code>specDate</code> property set, e.g. 'June 28, 2019'",Dn),e.specDate="@@@FIXME(conf.specDate)")),Pn(e.specNature)||(Lt("head config must have the <code>specNature</code> property set: one of 'normative' or 'informative'",Dn),e.specNature="informative"),Pn(e.specType)||(Lt("head config must have the <code>specType</code> property set: One of 'spec', 'cert', 'impl', 'errata', 'doc' ",Dn),e.specType="spec"),"doc"===e.specType||"proposal"===e.specType)return;Pn(e.shortName)||(Lt("head config must have the <code>shortName</code> property set: list at urls-names.md#shortnames",Dn),e.shortName="FIXME"),Pn(e.specStatus)||(Lt("head config must have the <code>specStatus</code> property set to one of 'Base Document', 'Candidate Final', Candidate Final Public', or 'Final Release'",Dn),e.specStatus="@@@FIXME(conf.specStatus)"),-1==["Base Document","Candidate Final","Candidate Final Public","Final Release","Proposal"].indexOf(e.specStatus)&&Lt("head config must have the <code>specStatus</code> property set to one of 'Base Document', 'Candidate Final', 'Candidate Final Public', 'Final Release', or 'Proposal'",Dn),Pn(e.specVersion)||(Lt("head config must have the <code>specVersion</code> property set, e.g. '1.1'",Dn),e.specVersion="@@@FIXME(conf.specVersion)")}});var jn=Object.freeze({__proto__:null,name:"1edtech/compute",run:async function(e){const t=`https://www.imsglobal.org/spec/${e.shortName}/`;e.versionURL=`v${e.specVersion}`.replace(".","p"),e.thisURL=`${t}${e.versionURL}/`,e.errataURL=`${e.thisURL}errata/`,"spec"!==e.specType&&(e.thisURL=`${e.thisURL}${e.specType}/`),e.latestURI=`${t}latest/`,"spec"!==e.specType&&(e.latestURI=`${e.latestURI}${e.specType}/`),e.mainSpecURL=`${t}${e.versionURL}/`}});const Mn="core/github";let zn,Fn;const Un=new Promise(((e,t)=>{zn=e,Fn=e=>{Lt(e,Mn),t(new Error(e))}})),Hn=gt({en:{file_a_bug:"File an issue",participate:"Participate:",commit_history:"Commit history"},ko:{participate:"참여"},zh:{file_a_bug:"反馈错误",participate:"参与："},ja:{commit_history:"変更履歴",file_a_bug:"問題報告",participate:"参加方法："},nl:{commit_history:"Revisiehistorie",file_a_bug:"Dien een melding in",participate:"Doe mee:"},es:{commit_history:"Historia de cambios",file_a_bug:"Nota un bug",participate:"Participe:"},de:{commit_history:"Revisionen",file_a_bug:"Fehler melden",participate:"Mitmachen:"}});var Bn=Object.freeze({__proto__:null,github:Un,name:Mn,run:async function(e){if(!e.hasOwnProperty("github")||!e.github)return void zn(null);if("object"==typeof e.github&&!e.github.hasOwnProperty("repoURL")){const e=Mt`Config option ${"[github]"} is missing property \`repoURL\`.`;return void Fn(e)}let t,n=e.github.repoURL||e.github;n.endsWith("/")||(n+="/");try{t=new URL(n,"https://github.com")}catch{const e=Mt`${"[github]"} configuration option is not a valid URL? (${n}).`;return void Fn(e)}if("https://github.com"!==t.origin){const e=Mt`${"[github]"} configuration option must be HTTPS and pointing to GitHub. (${t.href}).`;return void Fn(e)}const[r,o]=t.pathname.split("/").filter((e=>e));if(!r||!o){const e=Mt`${"[github]"} URL needs a path. For example, "w3c/my-spec".`;return void Fn(e)}const a=e.github.branch||"gh-pages",i=new URL("./issues/",t).href,s=new URL(`./commits/${e.github.branch??""}`,t.href),c={edDraftURI:`https://${r.toLowerCase()}.github.io/${o}/`,githubToken:void 0,githubUser:void 0,issueBase:i,atRiskBase:i,otherLinks:[],pullBase:new URL("./pulls/",t).href,shortName:o};let l="https://respec.org/github";if(e.githubAPI)if(new URL(e.githubAPI).hostname===window.parent.location.hostname)l=e.githubAPI;else{Ot("The `githubAPI` configuration option is private and should not be added manually.",Mn)}if(!e.excludeGithubLinks){const n={key:Hn.participate,data:[{value:`GitHub ${r}/${o}`,href:t},{value:Hn.file_a_bug,href:c.issueBase},{value:Hn.commit_history,href:s.href},{value:"Pull requests",href:c.pullBase}]};e.otherLinks||(e.otherLinks=[]),e.otherLinks.unshift(n)}const d={branch:a,repoURL:t.href,apiBase:l,fullName:`${r}/${o}`,issuesURL:i,pullsURL:c.pullBase,newIssuesURL:new URL("./new/choose",i).href,commitHistoryURL:s.href};zn(d);const u={...c,...e,github:d,githubAPI:l};Object.assign(e,u)}});function Wn(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes}function Vn(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]}var Yn=Object.freeze({__proto__:null,name:"1edtech/transclude",run:async function(){let e=document.querySelector("script.transclude");for(;null!==e;){if(!e.hasAttribute("data-id")){o("error","transclude script element without data-id attribute");break}const t=window[e.getAttribute("data-id")];if(void 0===t||"string"!=typeof t){o("error",`no transclude variable named '${t}' found in global scope`);break}const n=Wn(t);for(let t=0;t<n.length;t++){const r=n[t].cloneNode(!0);e.parentNode.insertBefore(r,e)}e.parentNode.removeChild(e),e=document.querySelector("script.transclude")}}});class Gn{constructor(e){this.doc=e,this.root=e.createDocumentFragment(),this.stack=[this.root],this.current=this.root}findPosition(e){return parseInt(e.tagName.charAt(1),10)}findParent(e){let t;for(;e>0;)if(e--,t=this.stack[e],t)return t}findHeader({firstChild:e}){for(;e;){if(/H[1-6]/.test(e.tagName))return e;e=e.nextSibling}return null}addHeader(e){const t=this.doc.createElement("section"),n=this.findPosition(e);t.appendChild(e),this.findParent(n).appendChild(t),this.stack[n]=t,this.stack.length=n+1,this.current=t}addSection(e){const t=this.findHeader(e),n=t?this.findPosition(t):1,r=this.findParent(n);t&&e.removeChild(t),e.appendChild(Qn(e)),t&&e.prepend(t),r.appendChild(e),this.current=r}addElement(e){this.current.appendChild(e)}}function Qn(e){const t=new Gn(e.ownerDocument);for(;e.firstChild;){const n=e.firstChild;switch(n.localName){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.addHeader(n);break;case"section":t.addSection(n);break;default:t.addElement(n)}}return t.root}function Xn(e){const t=Qn(e);if("section"===t.firstElementChild.localName&&"section"===e.localName){const n=t.firstElementChild;n.remove(),e.append(...n.childNodes)}else e.textContent="";e.appendChild(t)}var Jn=Object.freeze({__proto__:null,name:"core/sections",restructure:Xn,run:function(){Xn(document.body)}});const Kn="core/data-include";function Zn(e,t,n){const r=document.querySelector(`[data-include-id=${t}]`),o=yt(e,r.dataset.oninclude,n),a="string"==typeof r.dataset.includeReplace;!function(e,t,{replace:n}){const{includeFormat:r}=e.dataset;let o=t;"markdown"===r&&(o=en(o)),"text"===r?e.textContent=o:e.innerHTML=o,"markdown"===r&&Xn(e),n&&e.replaceWith(...e.childNodes)}(r,o,{replace:a}),a||function(e){["data-include","data-include-format","data-include-replace","data-include-id","oninclude"].forEach((t=>e.removeAttribute(t)))}(r)}async function er(e,t){const n=e.querySelectorAll("[data-include]"),r=Array.from(n).map((async e=>{const n=e.dataset.include;if(!n)return;const r=`include-${String(Math.random()).slice(2)}`;e.dataset.includeId=r;try{const o=await fetch(n);Zn(await o.text(),r,n),t<3&&await er(e,t+1)}catch(t){const r=`\`data-include\` failed: \`${n}\` (${t.message}).`;console.error(r,e,t),Lt(r,Kn,{elements:[e]})}}));await Promise.all(r)}var tr=Object.freeze({__proto__:null,name:Kn,run:async function(){await er(document,1)}});const nr=-(2**31),rr=2**31-1;function or(e){return Number.isInteger(e)&&e<=rr&&e>=nr}function ar(e){return Number.isInteger(e)}function ir(){return!0}var sr=async(e,t,n)=>{const{default:r}=await import("https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs");r.initialize({startOnLoad:!1});const{svg:o}=await r.render(`class-diagram-${e}`,t),a=o.trim().replace(/height="[0-9]*"/,"");return Ze`<h3>${n}</h3>
    ${a}`};const cr=gt({en:{privacy_implication:"Privacy Implication",enumeration_name:"{0} Enumeration"},es:{privacy_implication:"Implicación de Privacidad",enumeration_name:"Enumeración {0}"},ca:{privacy_implication:"Implicació de Privacitat",enumeration_name:"Enumeració {0}"}});function lr(e){return Ze`<div class="issue" title="${e}"></div>`}function dr(e){return Ze`<div class="note">${e}</div>`}function ur(e){const t=`${e.parentClass.name}.${e.name}`.toLowerCase();return Ze`<tr>
    <td id="${t}">${e.name}</td>
    <td>
      ${e.documentation.description}
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}
    </td>
  </tr>`}function pr(e){let t=e.name;return"Enumeration"!==e.stereoType&&"EnumExt"!==e.stereoType||(t=cr.enumeration_name.replace("{0}",t)),t=Ze`<a href="#${e.id}"><samp>${t}</samp></a>`,t}const fr=gt({en:{Property:"Property",Type:"Type",Description:"Description",Multiplicity:"Multiplicity",Privacy:"Privacy",ClassExtensibility:"This class can be extended with additional properties."},es:{Property:"Propiedad",Type:"Tipo",Description:"Descripción",Multiplicity:"Cardinalidad",Privacy:"Privacidad",ClassExtensibility:"Esta clase se puede extender con propiedades adicionales."},ca:{Property:"Propietat",Type:"Tipus",Description:"Descripció",Multiplicity:"Cardinalitat",Privacy:"Privacitat",ClassExtensibility:"Aquesta classe es pot ampliar amb propietats adicionals."}});var hr=(e,t,n)=>{if(t&&t.properties)return n=n??`${t.name}`,Ze`<h3>${n}</h3>
      <p>${t.documentation.description}</p>
      ${t.documentation.issues.map(lr)}
      ${t.documentation.notes.map(dr)}
      <table class="simple">
        <thead>
          <tr>
            <th>${fr.Property}</th>
            <th>${fr.Type}</th>
            <th>${fr.Description}</th>
            <th>${fr.Multiplicity}</th>
            ${e.showPrivacyAnnotations?Ze`<th>${fr.Privacy}</th>`:null}
          </tr>
        </thead>
        <tbody>
          ${t.properties.map((t=>function(e,t){return Ze` <tr>
    <td style="min-width: 150px; word-break: break-all;">${t.name}</td>
    <td>${pr(t.type)}</td>
    <td>
      ${t.documentation.description}
      ${t.documentation.issues.map(lr)}
      ${t.documentation.notes.map(dr)}
      ${function(e,t){if(e.showPrivacyAnnotations&&t)return Ze`<div class="advisement">${cr.privacy_implication}: ${t}</div>`}(e,t.documentation.privacyDoc)}
    </td>
    <td>${function(e){switch(e.cardinality.value){case"ONE":return"[1]";case"ZERO_OR_ONE":return"[0..1]";case"ZERO_OR_MANY":return"[0..*]";case"ONE_OR_MANY":return"[1..*]";case"TWO":return"[2]";case"TWO_OR_MANY":return"[2..*]";case"THREE_OR_MANY":return"[3..*]"}}(t)}</td>
    ${e.showPrivacyAnnotations?function(e){return Ze`<td>
    <a href="#privacy-${e.privacyImplications.value.toLowerCase()}">
      ${function(e){return Ze`${e.privacyImplications.label}`}(e)}
    </a>
  </td>`}(t):null}
  </tr>`}(e,t)))}
          ${function(e,t){return t.isExtensible?Ze` <tr>
      <td colspan="${e.showPrivacyAnnotations?5:4}">
        ${fr.ClassExtensibility}
      </td>
    </tr>`:Ze``}(e,t)}
        </tbody>
      </table>`};const mr=gt({en:{data_model_name:"{0} Data Model"},es:{data_model_name:"Modelo de Datos {0}"},ca:{data_model_name:"Model de Dades {0}"}});var gr=(e,t,n)=>{if(e)return t=t??`${mr.data_model_name.replace("{0}",e.name)}`,n=(n??e.id).replace(/\./g,"-"),Ze`<h2 id="${n}">${t}</h2>
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}`};const br=gt({en:{Vocabulary:"Vocabulary",Enumeration:"Enumeration",Term:"Term",Description:"Description",EnumerationExtensibility:"This enumeration can be extended with new, proprietary terms.\nThe new terms must start with the substring 'ext:'."},es:{Vocabulary:"Vocabulario",Enumeration:"Enumeración",Term:"Término",Description:"Descripción",EnumerationExtensibility:"Esta enumeración se puede extender con términos nuevos i/o propietarios.\nLos términos nuevos deben empezar con la subcadena 'ext:'."},ca:{Vocabulary:"Vocabulari",Enumeration:"Enumeració",Term:"Terme",Description:"Descripció",EnumerationExtensibility:"Aquesta enumeració es pot ampliar amb termes nous i/o propietari.\nEls nous termes han de començar per la subcadena 'ext:'."}});var yr=(e,t)=>{if(e&&e.properties){const n="Vocabulary"===e.stereoType?br.Vocabulary:br.Enumeration;return t=t??`${e.name} ${n}`,Ze`<h3>${t}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}
      <table class="simple">
        <thead>
          <tr>
            <th>${br.Term}</th>
            <th>${br.Description}</th>
          </tr>
        </thead>
        <tbody>
          ${e.properties.map(ur)}
          ${"EnumExt"===e.stereoType?Ze`<tr>
                <td colspan="2">${br.EnumerationExtensibility}</td>
              </tr>`:Ze``}
        </tbody>
      </table>`}},vr=(e,t,n)=>{if(e&&e.operations)return t=t??`${e.name}`,n=(n??e.id).replace(/\./g,"-"),Ze`<h3 id="${n}">${t}</h3>
      <p>${e.documentation?.description}</p>
      ${e.documentation?.issues.map(lr)}
      ${e.documentation?.notes.map(dr)}`},wr=(e,t,n)=>{if(e)return n=n??`${e.name}`,Ze`<h3>${n}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}
      <pre class="nohighlight">${JSON.stringify(t,null,2)}</pre>`};const $r=gt({en:{json_schema_name:"{0} JSON Schema"},es:{json_schema_name:"JSON Schema {0}"},ca:{json_schema_name:"JSON Schema {0}"}});var _r=(e,t,n)=>{if(e)return t=t??`${$r.json_schema_name.replace("{0}",e.name)}`,n=(n??e.id).replace(/\./g,"-"),Ze`<h2 id="${n}">${t}</h2>
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}`},xr=(e,t,n)=>{if(e)return n=n??`${e.name}`,Ze`<h3>${n}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}
      <pre class="nohighlight">${t}</pre>`};const Er=gt({en:{enumeration_name:"{0} Enumeration",Request:"Request",Parameter:"Parameter",Parameter_Type:"Parameter Type",Required:"Required",request_parameter_header:"Request header, path, and query parameters",Optional:"Optional",request_body_header:"Allowed request content types",Content_Type_Header:"Content-Type Header",Content_Type:"Content Type",Content_Description:"Content Description",Content_Required:"Content Required",Responses:"Responses",request_header:"Allowed response codes and content types"},es:{enumeration_name:"Enumeración {0}",Request:"Petición",Parameter:"Parámetro",Parameter_Type:"Tipo de Parámetro",Required:"Obligatorio",request_parameter_header:"Parámetros en la cabecera, path y query de la petición",Optional:"Opcional",request_body_header:"Content types permitidos en la petición",Content_Type_Header:"Cabecera Content-Type",Content_Type:"Tipo de Contenido",Content_Description:"Descripción del Contenido",Content_Required:"Contenido Obligatorio",Responses:"Respuestas",request_header:"Códigos y Content types permitidos en la respuesta"},ca:{enumeration_name:"Enumeració {0}",Request:"Petició",Parameter:"Paràmetre",Parameter_Type:"Tipus de Paràmetre",Required:"Obligatori",request_parameter_header:"Paràmetres dins la capcelera, path i query de la petició",Optional:"Opcional",request_body_header:"Content types permesos a la petició",Content_Type_Header:"Capcelera Content-Type",Content_Type:"Tipus de Contingut",Content_Description:"Descripció del Contingut",Content_Required:"Contingut Obligatori",Responses:"Respostes",request_header:"Codis i Content types permesos a la resposta"}});var kr=(e,t,n,r)=>{if(n)return r=r??`${n.name}`,Ze`<h3>${r}</h3>
      <p>${n.documentation.description}</p>
      ${n.documentation.issues.map(lr)}
      ${n.documentation.notes.map(dr)}
      ${function(e,t,n){return Ze`<h5>${Er.Request}</h5>
    ${function(e,t){let n=`${t.method} ${e}${t.request.path}`;const r=t.request.parameters.filter((e=>"QUERY"===e.type));if(r)for(let e=0;e<r.length;e++){const t=r[e];n+=0==e?"?":"&",n+=`${t.name}={${t.name}}`}return Ze`<p><code>${n}</code></p>`}(t,n)}
    ${function(e,t){if(Array.from(t.request.parameters).length>0)return Ze`
      <table class="simple" style="caption-side:top">
        <caption style="display:table-caption;text-align:left">
          ${Er.request_parameter_header}
        </caption>
        <thead>
          <tr>
            <th>${Er.Parameter}</th>
            <th>${Er.Parameter_Type}</th>
            <th>${Er.Description}</th>
            <th>${Er.Required}</th>
            ${e.showPrivacyAnnotations?Ze`<th>${Er.confidentiality_level}</th>`:null}
          </tr>
        </thead>
        <tbody>
          ${t.request.parameters.map((t=>function(e,t){return Ze` <tr>
    <td>
      <code>${t.name}</code>
      <div>(${t.type.toLowerCase()})</div>
    </td>
    <td>${function(e){let t=e.value.name;e.cardinality.value.includes("MANY")&&(t+="[]");"Enumeration"!==e.value.stereoType&&"EnumExt"!==e.value.stereoType||(t=Er.enumeration_name.replace("{0}",t));return t=Ze`<a href="#${e.value.id}"><samp>${t}</samp></a>`,t}(t)}</td>
    <td>
      ${t.documentation.description}
      ${t.documentation.issues.map(lr)}
      ${t.documentation.notes.map(dr)}
    </td>
    <td>${Sr(t)}</td>
    ${e.showPrivacyAnnotations?Tr(t):null}
  </tr>`}(e,t)))}
        </tbody>
      </table>
    `}(e,n)}
    ${function(e,t){if(Array.from(t.request.bodies).length>0)return Ze`
      <table class="simple" style="caption-side:top">
        <caption style="display:table-caption;text-align:left">
          ${Er.request_body_header}
        </caption>
        <thead>
          <tr>
            <th>${Er.Content_Type_Header}</th>
            <th>${Er.Content_Type}</th>
            <th>${Er.Content_Description}</th>
            <th>${Er.Content_Required}</th>
            ${e.showPrivacyAnnotations?Ze`<th>${Er.confidentiality_level}</th>`:null}
          </tr>
        </thead>
        <tbody>
          ${t.request.bodies.map((t=>function(e,t){return Ze`<tr>
    <td>${t.contentType}</td>
    <td>${Cr(t)}</td>
    <td>
      ${t.documentation?.description}
      ${t.documentation?.issues.map(lr)}
      ${t.documentation?.notes.map(dr)}
    </td>
    <td>${Sr(t)}</td>
    ${e.showPrivacyAnnotations?Tr(t):null}
  </tr>`}(e,t)))}
        </tbody>
      </table>
    `}(e,n)}`}(e,t,n)}
      ${function(e,t){const n=t.responses.flatMap(Ar);return Ze`<h5>${Er.Responses}</h5>
    <table class="simple" style="caption-side:top">
      <caption style="display:table-caption;text-align:left">
        ${Er.request_header}
      </caption>
      <thead>
        <tr>
          <th>Status Code</th>
          <th>${Er.Content_Type_Header}</th>
          <th>${Er.Content_Type}</th>
          <th>${Er.Content_Description}</th>
          <th>${Er.Content_Required}</th>
          ${e.showPrivacyAnnotations?Ze`<th>${Er.confidentiality_level}</th>`:null}
        </tr>
      </thead>
      <tbody>
        ${n.map((t=>function(e,t){return Ze`<tr>
    <td>${t.statusCode}</td>
    <td>${t.body?.contentType}</td>
    <td>${Cr(t.body)}</td>
    <td>
      ${t.documentation?.description}
      ${t.body?.documentation?.description}
      ${t.body?.documentation?.issues.map(lr)}
      ${t.body?.documentation?.notes.map(dr)}
    </td>
    <td>${Sr(t.body)}</td>
    ${e.showPrivacyAnnotations?Tr(t.body):null}
  </tr>`}(e,t)))}
      </tbody>
    </table>`}(e,n)}`};function Ar(e){const t=Array.from(e.bodies);if(0==t.length)return e;{const n=new Array;for(let r=0;r<t.length;r++){const o=t[r];n.push({...e,body:o})}return n}}function Sr(e){if(e?.cardinality)return e.cardinality.value.includes("ZERO")?Er.Optional:Er.Required}function Tr(e){if(e?.confidentiality)return Ze`<td>
      <a href="#privacy-${e.confidentiality.value.toLowerCase()}">
        ${function(e){if(e?.confidentiality)return e.confidentiality.label}(e)}
      </a>
    </td>`}function Cr(e){if(e?.type){let t=e.type.name;return e.cardinality.value.includes("MANY")&&(t+="[]"),"Enumeration"!==e.type.stereoType&&"EnumExt"!==e.type.stereoType||(t=Er.enumeration_name.replace("{0}",t)),t=Ze`<a href="#${e.type.id}"><samp>${t}</samp></a>`,t}}const Ir=gt({en:{service_model_name:"{0} Service Model"},es:{service_model_name:"Modelo de Servicio {0}"},ca:{service_model_name:"Model de Servei {0}"}});var Rr=(e,t,n)=>{if(e)return t=t??`${Ir.service_model_name.replace("{0}",e.name)}`,n=(n??e.id).replace(/\./g,"-"),Ze`<h2 id="${n}">${t}</h2>
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}`};const Nr=gt({en:{Type:"Type",Description:"Description"},es:{Type:"Tipo",Description:"Descripción"},ca:{Type:"Tipus",Description:"Descripció"}});var Lr=(e,t)=>{const n=e.classes.filter((e=>e.stereoType===t)).sort(((e,t)=>{const n=e.name.toUpperCase(),r=t.name.toUpperCase();return n<r?-1:n>r?1:0}));if(n.length>0)return Ze` <table class="simple">
      <thead>
        <tr>
          <th>${Nr.Type}</th>
          <th>${Nr.Description}</th>
        </tr>
      </thead>
      <tbody>
        ${n.map(Or)}
      </tbody>
    </table>`};function Or(e){return Ze` <tr id="${e.id}">
    <td id="${e.name.toLowerCase()}">${e.name}</td>
    <td>
      ${e.documentation.description}
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}
    </td>
  </tr>`}const Dr=gt({en:{intro:"The ultimate representation of this class is a choice of exactly one of the classes in the following set:",Type:"Type",Description:"Description"},es:{intro:"La representación definitiva de esta clase es exactamente una de las siguientes clases:",Type:"Tipo",Description:"Descripción"},ca:{intro:"La representació definitiva d'aquesta classe és exactament una de les següents classes:",Type:"Tipus",Description:"Descripció"}});var Pr=(e,t)=>{if(e&&e.generalizations)return t=t??`${e.name}`,Ze`<h3>${t}</h3>
      <p>${e.documentation.description}</p>
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}
      <p>${Dr.intro}</p>
      <table class="simple">
        <thead>
          <tr>
            <th>${Dr.Type}</th>
            <th>${Dr.Description}</th>
          </tr>
        </thead>
        <tbody>
          ${e.generalizations.map(qr)}
        </tbody>
      </table>`};function qr(e){return Ze` <tr>
    <td style="min-width: 150px; word-break: break-all;">${pr(e)}</td>
    <td>
      ${e.documentation.description}
      ${e.documentation.issues.map(lr)}
      ${e.documentation.notes.map(dr)}
    </td>
  </tr>`}const jr="1edtech/mps",Mr=gt({en:{error_sample_data:"Could not get sample data. See developer console for details.",error_invalid_json:"NOTE: This example contains invalid JSON for ${0}.",error_json_additional_property:'  (additional property: "{0}")',error_missing_model:"Missing Model id",error_missing_stereotype:"Missing StereoType",error_missing_service_model:"Missing ServiceModel id"},es:{error_sample_data:"No se pudo obtener datos de ejemplo. Mire la consola de desarrollo para más detalles.",error_invalid_json:"NOTA: Este ejemplo contiene JSON inválido por ${0}.",error_json_additional_property:'  (propiedad adicional: "{0}")',error_missing_model:"Modelo no encontrado",error_missing_stereotype:"Esterotipo no encontrado",error_missing_service_model:"Model de Servicio no encontrado"},ca:{error_sample_data:"No s'han pogut obtenir dades d'exemple. Miri la consola de desenvolupament per a més detalls.",error_invalid_json:"NOTA: Aquest exemple conté JSON invàlid per ${0}.",error_json_additional_property:'  (propietat adicional: "{0}")',error_missing_model:"Model no trobat",error_missing_stereotype:"Esterotip no tobat",error_missing_service_model:"Model de Servei no trobat"}}),zr=document.documentElement.lang;function Fr(e){if(e.mps.apiKey)return e.mps.apiKey;throw"No MPS API KEY found"}function Ur(e){if(e.mps.serverUrl)return e.mps.serverUrl;throw"No MPS server URL found"}async function Hr(e,t,n=!0){try{const r=await fetch(`${Ur(e)}/jsonschema/${t}?allowAdditionalProperties=${n}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":Fr(e)}});if(!r.ok)return Lt(`Could not get the schema for ${t}: ${r.status}`,jr),null;return await r.json()}catch(e){return Lt(`Could not get the schema for ${t}: ${e}`,jr),null}}async function Br(e,t,n){const r=`${t}-${n}`,o=sessionStorage.getItem(r);if(o)return JSON.parse(o);const a=JSON.stringify({query:`\n    {\n      modelByID(id: "${n}", source: ${t??"CORE"}, locale: "${zr}") {\n        id\n        id\n        name\n        documentation {\n          description\n          notes\n          issues\n        }\n        classes {\n          id\n          name\n          stereoType\n          documentation {\n            description\n            notes\n            issues\n            packageName\n          }\n          properties {\n            name\n            type {\n              id\n              name\n              stereoType\n            }\n            cardinality {\n              value\n            }\n            documentation {\n              description\n              notes\n              issues\n              privacyDoc\n            }\n            privacyImplications {\n              label\n              value\n            }\n            parentClass {\n              id\n              name\n            }\n\n          }\n          isExtensible\n          generalizations {\n            id\n            name\n            documentation {\n              description\n              notes\n              issues\n            }\n          }\n        }\n        services {\n          ... on RestService {\n            id\n            type\n            documentation {\n              description\n              notes\n              issues\n            }\n            rootPath\n            interfaces {\n              id\n              name\n              documentation {\n                description\n                notes\n                issues\n              }\n              operations {\n                id\n                name\n                documentation {\n                  description\n                  notes\n                  issues\n                }\n                method\n                request {\n                  id\n                  documentation {\n                    description\n                    notes\n                    issues\n                  }\n                  path\n                  bodies {\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type {\n                      id\n                      name\n                    }\n                    cardinality {\n                      value\n                    }\n                    confidentiality {\n                      label\n                      value\n                    }\n                    contentType\n                  }\n                  parameters {\n                    id\n                    name\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type\n                    cardinality {\n                      value\n                    }\n                    confidentiality {\n                      label\n                      value\n                    }\n                    value {\n                      id\n                      name\n                      stereoType\n                    }\n                  }\n                }\n                responses {\n                  id\n                  documentation {\n                    description\n                    notes\n                    issues\n                  }\n                  statusCode\n                  bodies {\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type {\n                      id\n                      name\n                      stereoType\n                    }\n                    confidentiality {\n                      label\n                      value\n                    }\n                    cardinality {\n                      value\n                    }\n                    contentType\n                  }\n                  parameters {\n                    id\n                    name\n                    documentation {\n                      description\n                      notes\n                      issues\n                    }\n                    type\n                    cardinality {\n                      value\n                    }\n                    value {\n                      id\n                      name\n                      stereoType\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    `});try{const t=await fetch(`${Ur(e)}/graphql`,{method:"POST",headers:{"Content-Type":"application/json","X-Api-Key":Fr(e)},body:a});if(!t.ok)return Lt(`Could not get MPS model for ${n}. Please see the developer console for details.`,jr),null;const o=(await t.json()).data.modelByID;return o?(sessionStorage.setItem(r,JSON.stringify(o)),o):(Lt(`Unknown model ${n} at ${Ur(e)}, source: ${e.mps.source??"CORE"}`,jr),null)}catch(e){return Lt(`Could not get MPS model for ${n}: ${e}`,jr),null}}async function Wr(e,t,n){t.setAttribute("id",n.id);const r=t.getAttribute("title");let o;switch(n.stereoType){case"Enum":case"EnumeratedList":case"Enumeration":case"EnumExt":case"Vocabulary":o=yr(n,r);break;case"EmbeddedSelection":o=Pr(n,r);break;default:o=hr(e,n,r)}if(o){let e=null;Array.from(o.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}async function Vr(e,t,n){const r=t.getAttribute("id");t.setAttribute("id",n.id);const o=t.getAttribute("title"),a=vr(n,o,r);if(a){let r=null;Array.from(a.childNodes).forEach((e=>{if("#comment"!==e.nodeName){let n=e;"#text"===e.nodeName&&(n=document.createElement("text"),n.innerHTML=e.nodeValue),r?r.insertAdjacentElement("afterend",n):t.insertAdjacentElement("afterbegin",n),r=n}}));Array.from(n.operations).forEach((async r=>{let o=t.querySelector(`section[data-operation="${r.id}"]`);o?Qr(e,o,n.rootPath,r):(o=Ze`<section
          data-operation="${r.id}"
        ></section>`,Qr(e,o,n.rootPath,r),t.insertAdjacentElement("beforeend",o))}))}}async function Yr(e,t,n){t.setAttribute("id",`${n.id}-schema`);const r=t.getAttribute("title"),o=await Hr(e,n.id),a=wr(n,o,r);if(o&&a){let e=null;Array.from(a.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}async function Gr(e,t,n){const r=t.getAttribute("data-source")??e.mps.source;if("CORE"!==r&&"SANDBOX"!==r)return void Lt(`Invalid source ${r} for model ${n}`);const o=t.getAttribute("title");t.getAttribute("id");const a=t.getAttribute("data-binding"),i=await Br(e,r,n),s=await async function(e,t,n){n=n??"yaml";try{const r=await fetch(`${Ur(e)}/openapischema/${t}?binding=${n.toLowerCase()}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":Fr(e)}});return r.ok?await r.text():(Lt(`Could not get the OpenAPI schema for ${t}: ${r.status}`,jr),null)}catch(e){return Lt(`Could not get the OpenAPI schema for ${t}: ${e}`,jr),null}}(e,n,a);if(i&&s){const e=xr(i,s,o);if(e){let n=null;Array.from(e.childNodes).forEach((e=>{if("#comment"!==e.nodeName){let r=e;"#text"===e.nodeName&&(r=document.createElement("text"),r.innerHTML=e.nodeValue),n?n.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),n=r}}))}}else t.insertAdjacentElement("afterbegin",Ze`<h3>${n}</h3>`)}async function Qr(e,t,n,r){t.setAttribute("id",r.id);const o=t.getAttribute("title"),a=kr(e,n,r,o);if(a){let e=null;Array.from(a.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}async function Xr(e,t){const n=t.getAttribute("data-sample");if(""===n)return void Lt("Example is missing a schema id",jr);const r=t.getAttribute("id")??`example-${n}`;t.setAttribute("id",r),t.removeAttribute("data-sample");const o=t.getAttribute("data-include-optional-fields")??"false",a=await async function(e,t,n=!1){try{const r=await fetch(`${Ur(e)}/sample/${t}?includeOptionalFields=${n}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":Fr(e)}});return r.ok?await r.json():(Lt(`Could not get sampledata for ${t}: ${r.status}`,jr),null)}catch(e){return Lt(`Could not get sample data for ${t}: ${e}`,jr),null}}(e,n,o);if(a){const e=Ze`
<pre class="nohighlight">
${JSON.stringify(a,null,2)}
</pre>`;t.append(e)}else t.append(Ze`<p>${Mr.error_sample_data}</p>`)}async function Jr(e,t,n,r){t.setAttribute("id",`${n}-class-diagram`);const o=t.getAttribute("title"),a=t.getAttribute("data-package"),i=t.getAttribute("data-classes"),s=t.hasAttribute("data-class-diagram-omit-properties"),c=t.hasAttribute("data-class-diagram-hide-title"),l=await async function(e,t,n=!1,r=!1,o=null,a=null,i=null){try{let s=`?omitProperties=${n}&hideTitle=${r}`;o&&(s+=`&title=${o}`),a&&(s+=`&packageNames=${a}`),i&&(s+=`&classNames=${i}`);const c=await fetch(`${Ur(e)}/classdiagram/${t}${s}`,{method:"GET",headers:{"Content-Type":"text/markdown","X-Api-Key":Fr(e)}});return c.ok?await c.text():(Lt(`Could not get the class diagram for ${t}: ${c.status}`,jr),null)}catch(e){return Lt(`Could not get the class diagram for ${t}: ${e}`,jr),null}}(e,n,s,c,o,a,i),d=await sr(r,l,o);if(l&&d){let e=null;Array.from(d.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}}var Kr=Object.freeze({__proto__:null,name:jr,run:async function(e){let t=new Array,n=0;const r=Array.from(document.querySelectorAll("section[data-model]"));if(0===r.length)return;const o=r.map((t=>{const n=t.getAttribute("data-model");return{source:t.getAttribute("data-source")??e.mps.source,modelId:n}})).filter(((e,t,n)=>t===n.findIndex((t=>t.source===e.source&&t.modelId===e.modelId))));t.push(...Array.from(o.map((t=>Br(e,t.source,t.modelId))))),await Promise.all(t),t=new Array;const i=r.filter((e=>!(e.getAttribute("data-service-model")||e.getAttribute("data-stereotype")||e.getAttribute("data-schema-format")||e.hasAttribute("data-class-diagram")))),s=r.filter((e=>e.getAttribute("data-stereotype"))),c=r.filter((e=>e.getAttribute("data-service-model"))),l=r.filter((e=>e.getAttribute("data-schema-format"))),d=r.filter((e=>e.hasAttribute("data-class-diagram")));i.length>0&&t.push(...Array.from(i).map((async t=>{const r=t.getAttribute("data-model")??"";if(""===r)t.insertAdjacentElement("afterbegin",Ze`<h2>${Mr.error_missing_model}</h2>`),Lt("Cannot process DataModel sections without the Model id",jr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{await async function(e,t,n){const r=t.getAttribute("data-source")??e.mps.source;if("CORE"!==r&&"SANDBOX"!==r)return void Lt(`Invalid source ${r} for model ${n}`);const o=t.getAttribute("title"),a=t.getAttribute("id"),i=t.getAttribute("data-package")??"",s=await Br(e,r,n);if(s){const n=gr(s,o,a);if(n){let e=null;Array.from(n.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}let r=Array.from(s.classes).filter((e=>"PrimitiveType"!==e.stereoType&&"DerivedType"!==e.stereoType));""!==i&&(r=r.filter((e=>e.documentation.packageName===i))),r.forEach((async n=>{let r=t.querySelector(`section[data-class="${n.id}"]`);r?Wr(e,r,n):(r=Ze`<section data-class="${n.id}"></section>`,Wr(e,r,n),t.insertAdjacentElement("beforeend",r))}))}else t.insertAdjacentElement("afterbegin",Ze`<h3>${n}</h3>`)}(e,t,r)}catch(e){Lt(`Cannot process DataModel ${r}: ${e}`,jr)}}}))),s.length>0&&t.push(...Array.from(s).map((async t=>{const r=t.getAttribute("data-model")??"",o=t.getAttribute("data-stereotype")??"";if(""===r)t.insertAdjacentElement("afterbegin",Ze`<h2>${Mr.error_missing_model}</h2>`),Lt("Cannot process SteroType sections without the Model id",jr,{elements:[t]});else if(""===o)t.insertAdjacentElement("afterbegin",Ze`<h2>${Mr.error_missing_stereotype}</h2>`),Lt("Cannot process SteroType sections without the StereoType",jr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{await async function(e,t,n,r){const o=t.getAttribute("data-source")??e.mps.source;if("CORE"!==o&&"SANDBOX"!==o)return void Lt(`Invalid source ${o} for model ${n}`);const a=t.getAttribute("title"),i=t.getAttribute("id"),s=await Br(e,o,n);if(s){const e=gr(s,a,i);if(e){let n=null;Array.from(e.childNodes).forEach((e=>{if("#comment"!==e.nodeName){let r=e;"#text"===e.nodeName&&(r=document.createElement("text"),r.innerHTML=e.nodeValue),n?n.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),n=r}}))}const n=Lr(s,r);n&&t.insertAdjacentElement("beforeend",n)}else t.insertAdjacentElement("afterbegin",Ze`<h3>${n}</h3>`)}(e,t,r,o)}catch(e){Lt(`Cannot process StereoType ${r} ${o}: ${e}`,jr)}}}))),l.length>0&&t.push(...Array.from(l).map((async t=>{const r=t.getAttribute("data-model")??"",o=t.getAttribute("data-schema-format")?.toLowerCase()??"";if(""===r)t.insertAdjacentElement("afterbegin",Ze`<h2>${Mr.error_missing_model}</h2>`),Lt("Cannot process Schema sections without the Model id",jr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{""===o||"json"===o?await async function(e,t,n){const r=t.getAttribute("data-source")??e.mps.source;if("CORE"!==r&&"SANDBOX"!==r)return void Lt(`Invalid source ${r} for model ${n}`);const o=t.getAttribute("title"),a=t.getAttribute("id"),i=t.getAttribute("data-package")??"",s=await Br(e,r,n);if(s){const n=_r(s,o,a);if(n){let e=null;Array.from(n.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}let r=Array.from(s.classes).filter((e=>"PrimitiveType"!==e.stereoType&&"DerivedType"!==e.stereoType));""!==i&&(r=r.filter((e=>e.documentation.packageName===i))),r.forEach((async n=>{let r=t.querySelector(`section[data-class="${n.id}"]`);r?Yr(e,r,n):(r=Ze`<section data-class="${n.id}"></section>`,Yr(e,r,n),t.insertAdjacentElement("beforeend",r))}))}else t.insertAdjacentElement("afterbegin",Ze`<h3>${n}</h3>`)}(e,t,r):await Gr(e,t,r)}catch(e){Lt(`Cannot process Schema for ${r}: ${e}`,jr)}}}))),c.length>0&&t.push(...Array.from(c).map((async t=>{const r=t.getAttribute("data-model")??"",o=t.getAttribute("data-service-model")??"";if(""===r)t.insertAdjacentElement("afterbegin",Ze`<h2>${Mr.error_missing_model}</h2>`),Lt("Cannot process ServiceModel section without the Model id",jr,{elements:[t]});else if(""===o)t.insertAdjacentElement("afterbegin",Ze`<h2>${Mr.error_missing_service_model}</h2>`),Lt("Cannot process ServiceModel section without the ServiceModel id",jr,{elements:[t]});else{const o=t.getAttribute("id");t.setAttribute("id",`${r}.${n}`),n++;try{await async function(e,t,n){const r=t.getAttribute("data-model"),o=t.getAttribute("data-service-model"),a=t.getAttribute("data-source")??e.mps.source;if("CORE"!==a&&"SANDBOX"!==a)return void Lt(`Invalid source ${a} for model ${r}`);const i=t.getAttribute("title"),s=(await Br(e,a,r)).services.find((e=>e.id===o));if(s){const r=Rr(s,i,n);if(r){let e=null;Array.from(r.childNodes).forEach((n=>{if("#comment"!==n.nodeName){let r=n;"#text"===n.nodeName&&(r=document.createElement("text"),r.innerHTML=n.nodeValue),e?e.insertAdjacentElement("afterend",r):t.insertAdjacentElement("afterbegin",r),e=r}}))}let o=[];s.interfaces.forEach((e=>{e.rootPath=s.rootPath,o.push(e)}));const a=t.getAttribute("data-interface-filter")??"";""!==a&&(o=o.filter((e=>e.id===a))),o.forEach((async n=>{let r=t.querySelector(`section[data-interface="${n.id}"]`);r?Vr(e,r,n):(r=Ze`
          <section data-interface="${n.id}"></section>
        `,Vr(e,r,n),t.insertAdjacentElement("beforeend",r))}))}else t.insertAdjacentElement("afterbegin",Ze`<h3>${r}</h3>`)}(e,t,o)}catch(e){Lt(`Cannot process ServiceModel ${r}: ${e}`,jr)}}}))),d.length>0&&t.push(...Array.from(d).map((async t=>{const r=t.getAttribute("data-model")??"";if(""===r)t.insertAdjacentElement("afterbegin",Ze`<h2>${Mr.error_missing_model}</h2>`),Lt("Cannot process ClassDiagram section without the Model id",jr,{elements:[t]});else{t.setAttribute("id",`${r}.${n}`),n++;try{await Jr(e,t,r,n)}catch(e){Lt(`Cannot process ClassDiagram ${r}: ${e}`,jr)}}})));const u=document.querySelectorAll("[data-sample]");if(u&&t.push(...Array.from(u).map((async t=>{const n=t.getAttribute("data-sample");try{await Xr(e,t)}catch(e){Lt(`Cannot generate sample ${n}: ${e}`,jr)}}))),"function"==typeof window.ajv2019){const n=new window.ajv2019({allErrors:!0});!function(e){e.addFormat("byte",or),e.addFormat("double",ir),e.addFormat("float",ir),e.addFormat("int32",or),e.addFormat("int64",ar),e.addFormat("date",/^\d\d\d\d-[0-1]\d-[0-3]\d$/),e.addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i),e.addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),e.addFormat("uuid",/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i)}(n);const r=document.querySelectorAll("pre[data-schema]");r&&t.push(...Array.from(r).map((async t=>{const r=t.getAttribute("data-schema");try{await async function(e,t,n){const r=n.getAttribute("data-schema"),o=n.getAttribute("data-allowAdditionalProperties")??!0;if(""===r)return void Lt("Example is missing a schema id",jr);const a=await Hr(e,r,o);if(null!==a)try{let e=n.innerText;e=e.replace(/\/\/ .*$/gm,"");const o=JSON.parse(e);void 0===t.refs[a.$id]&&t.compile(a);const i=t.refs[a.$id].validate;i(o)||(n.insertAdjacentElement("beforebegin",Ze`<div class="issue" title="Invalid JSON">
          <p>${Mr.error_invalid_json.replace("{0}",r)}.</p>
          <ul>
            ${i.errors.map((e=>{""===e.instancePath&&(e.instancePath="class");let t=`${e.instancePath}: ${e.message}`;return"additionalProperties"===e.keyword&&(t+=`${Mr.error_json_additional_property.replace("{0}",e.params.additionalProperty)}`),`<li>${t}</li>`}))}
          </ul>
        </div>`),Lt(`Invalid example JSON for ${r}.`,jr))}catch(e){return void Lt(`Cannot parse example JSON for ${r}: ${e}`,jr)}}(e,n,t)}catch(e){Lt(`Cannot validate example ${r}: ${e}`,jr)}})))}await Promise.all(t),Array.from(document.querySelectorAll("section[data-model]")).map((t=>`${e.mps.source}-${t.getAttribute("data-model")}`)).forEach((e=>{sessionStorage.removeItem(e)})),a("end-all",(()=>{const e=document.getElementById("initialUserConfig"),t=JSON.parse(e.innerHTML);"mps"in t&&(delete t.mdm,e.innerHTML=JSON.stringify(t,null,2))}))}});const Zr=gt({en:{privacy_section_header:"Privacy",privacy_implications:"Privacy Implications",privacy_implications_paragraph:"All of the privacy implications contained within this Information Model are described in this Section. All of the corresponding concepts and methods for these privacy annotations are defined in the Privacy Framework.",confidentiality_level:"Confidentiality Level",confidentiality_level_paragraph:"All of the privacy classification of the exchanged payloads are described in this Section.",ACCESSIBILITY_label:"Accessibility",ACCESSIBILITY_def:"denotes information about the accessibility personal needs and preferences of the user",ANALYTICS_label:"Analytics",ANALYTICS_def:"denotes information that will be used to support the creation of learning analytics",CONTAINER_label:"Container",CONTAINER_def:"denotes that the child attributes have privacy-sensitive information",CREDENTIALS_label:"Credentials",CREDENTIALS_def:"denotes access control information for the use e.g. password, private key, etc.",CREDENTIALSIDREF_label:"CredentialsIdRef",CREDENTIALSIDREF_def:"denotes reference to/use of an identifier to credentials information for the user",DEMOGRAPHICS_label:"Demographics",DEMOGRAPHICS_def:"denotes information about the demographics of the user e.g. ethnicity, gender, etc.",EXTENSION_label:"Extension",EXTENSION_def:"denotes that proprietary information can be included and so this MAY contain privacy-sensitive information",FINANCIAL_label:"Financial",FINANCIAL_def:"denotes that the information is of a financial nature e.g. bank account, financial aid status, etc.",IDENTIFIER_label:"Identifier",IDENTIFIER_def:"denotes a unique identifier that has been assigned, by some third party, to the user e.g. passport number, social security number, etc.",IDENTIFIERREF_label:"IdentifierRef",IDENTIFIERREF_def:"denotes reference to/use of a unique identifier that has been assigned, by some third party, to the user",INSURANCE_label:"Insurance/Assurance",INSURANCE_def:"denotes that the information is about the insurance life-assurance nature, e.g. type of insurance, etc.",LEGAL_label:"Legal",LEGAL_def:"denotes that the information is of a legal or judicial nature e.g. Will, prison record, etc.",MEDICAL_label:"Medical/Healthcare",MEDICAL_def:"denotes that the information is of a medical, or healthcare-related nature e.g. allergies, blood-type, mobility needs, etc.",NA_label:"N/A",NA_def:"denotes that there are NO PRIVACY IMPLICATIONS for this attribute (this is the default setting)",OTHER_label:"Other",OTHER_def:"denotes privacy sensitive information that is NOT covered by one of the other categories",QUALIFICATION_label:"Qualification/Certification",QUALIFICATION_def:"denotes that the information is about education qualifications, skill-set certifications, microcredentials, etc.",PERSONAL_label:"Personal",PERSONAL_def:"denotes personal information about the user e.g. name, address, etc.",SOURCEDID_label:"SourcedId",SOURCEDID_def:"denotes the interoperability unique identifier that has been assigned and MUST be present for the correct usage of the corresponding 1EdTech specification",SOURCEDIDREF_label:"SourcedIdRef",SOURCEDIDREF_def:"denotes reference to/use of the interoperability unique identifier, sourcedId, to link/point to an associated 1EdTech object",UNRESTRICTED_label:"unrestricted",UNRESTRICTED_def:"there are no privacy concerns (this is the default value).",NORMAL_label:"normal",NORMAL_def:"denotes that privacy sensitive data could be included and so all best practices to secure this data should be used.",RESTRICTED_label:"restricted",RESTRICTED_def:"denotes that some of the data is more sensitive than usual or that many attributes information that when used together create increased vulnerability for identification of the associated individual or group.",VERYRESTRICTED_label:"veryrestricted",VERYRESTRICTED_def:"denotes that the request could contain very sensitive privacy data. Depending on the capabilities of the Provider this very sensitive data may be obfuscated or may not even be present."},es:{privacy_section_header:"Privacidad",privacy_implications:"Implicaciones de Privacidad",privacy_implications_paragraph:"Todas las implicaciones de privacidad referentes a este Modelo de Información se describen en esta Sección. Todos los conceptos y métodos correspondientes a estas anotaciones de privacidad están definidas en el Framework de Privacidad.",confidentiality_level:"Nivel de Confidencialidad",confidentiality_level_paragraph:"Toda la clasificación de privacidad de los datos intercambiados se describen en esta Sección.",ACCESSIBILITY_label:"Accessibility",ACCESSIBILITY_def:"denota información sobre las necesidades y preferencias personales sobre accesibilidad del usuario",ANALYTICS_label:"Analytics",ANALYTICS_def:"denota información que será usada para la creación de analíticas de aprendizaje",CONTAINER_label:"Container",CONTAINER_def:"denota que los atributos decendentes contienen información sensible respecto a la privacidad",CREDENTIALS_label:"Credentials",CREDENTIALS_def:"denota información de control de acceso del usuario, p. ej. contraseña, llave privada, etc.",CREDENTIALSIDREF_label:"CredentialsIdRef",CREDENTIALSIDREF_def:"denota referencia hacia / uso de un identificador de información de credenciales del usuario.",DEMOGRAPHICS_label:"Demographics",DEMOGRAPHICS_def:"denota información demográfica del usuario, p. ej. raza, género, etc.",EXTENSION_label:"Extension",EXTENSION_def:"denota que puede incluir información propietaria y, por lo tanto, PUEDE contener información sensible respecto a la privacidad",FINANCIAL_label:"Financial",FINANCIAL_def:"denota que la información es de naturaleza financiera, p. ej. cuentas bancarias, estado financiero, etc.",IDENTIFIER_label:"Identifier",IDENTIFIER_def:"denota un identificador único que ha sido asignado, por algún tercero, al usuario, p. ej. pasaporte, número de la seguridad social, nif, etc.",IDENTIFIERREF_label:"IdentifierRef",IDENTIFIERREF_def:"denota referencia hacia/uso de un identificador único que ha sido asignado, por algún tercero, al usuario.",INSURANCE_label:"Insurance/Assurance",INSURANCE_def:"denota que la información es de naturaleza aseguradora, p. ej. tipo de seguro, etc.",LEGAL_label:"Legal",LEGAL_def:"denota que la información es de naturaleza legal o judicial, p. ej. Testamento, antecedentes penales, etc.",MEDICAL_label:"Medical/Healthcare",MEDICAL_def:"denota que la información es de naturaleza médica o relacionada con la salud, p. ej. alergias, grupo sanguíneo, necesidades de movilidad, etc.",NA_label:"N/A",NA_def:"denota que NO HAY IMPLICACIONES DE PRIVACIDAD para este atributo (este es el valor por defecto)",OTHER_label:"Other",OTHER_def:"denota información sensible con respecto a la privacidad que NO está contenida en una de las otras categorías",QUALIFICATION_label:"Qualification/Certification",QUALIFICATION_def:"denota que la información es sobre calificaciones educativas, certificaciones, microcredenciales, etc.",PERSONAL_label:"Personal",PERSONAL_def:"denota información personal sobre el usuario, p. ej. nombre, dirección, etc.",SOURCEDID_label:"SourcedId",SOURCEDID_def:"denota el identificador único de interoperabilidad que ha sido asignado y DEBE estar presente para el uso correcto de la especificación 1EdTech correspondiente",SOURCEDIDREF_label:"SourcedIdRef",SOURCEDIDREF_def:"denota referencia hacia/uso de el identificador único de interoperabilidad, sourcedId, para enlazar/apuntar a un objeto 1EdTech asociado",UNRESTRICTED_label:"unrestricted",UNRESTRICTED_def:"No hay problemas de privacidad (este es el valor por defecto).",NORMAL_label:"normal",NORMAL_def:"denota que datos sensibles con respecto a la privacidad pueden ser incluidos y, por tanto, deben usarse todas las medidas para securizar esta información.",RESTRICTED_label:"restricted",RESTRICTED_def:"denota que algunos de los datos son más sensibles de lo habitual o que contiene atributos que usados conjuntamente incrementan la vulnerabilidad de identificar al individuo o grupo asociado.",VERYRESTRICTED_label:"veryrestricted",VERYRESTRICTED_def:"denota que la petición puede contener datos muy sensibles con respecto a la privacidad. Dependiendo de las capacidades del Proveedor estos datos extremadamente sensibles pueden ofuscarse o incluso no estar presentes."},ca:{privacy_section_header:"Privacitat",privacy_implications:"Implicacions de Privacitat",privacy_implications_paragraph:"Totes les implicacions de privacitat referents a aquest Model d'Informació es descriuen en aquesta Secció. Tots els conceptes i mètodes corresponents a aquestes anotacions de privacitat estan definides en el Framework de Privacitat.",confidentiality_level:"Nivell de Confidencialitat",confidentiality_level_paragraph:"Tota la classificació de privacitat de les dades intercanviades es descriuen en aquesta Secció.",ACCESSIBILITY_label:"Accessibility",ACCESSIBILITY_def:"denota informació sobre les necessitats i preferències personals sobre accessibilitat de l'usuari",ANALYTICS_label:"Analytics",ANALYTICS_def:"denota informació que serà usada per a la creació d'analítiques d'aprenentatge",CONTAINER_label:"Container",CONTAINER_def:"denota que els atributs descendents contenen informació sensible respecte a la privacitat",CREDENTIALS_label:"Credentials",CREDENTIALS_def:"denota informació de control de accés de l'usuari, p. ex.. contrasenya, clau privada, etc.",CREDENTIALSIDREF_label:"CredentialsIdRef",CREDENTIALSIDREF_def:"denota referència cap a / ús d'un identificador de informació de credencials de l'usuari.",DEMOGRAPHICS_label:"Demographics",DEMOGRAPHICS_def:"denota informació demogràfica de l'usuari, p. ex.. raça, gènere, etc.",EXTENSION_label:"Extension",EXTENSION_def:"denota que pot incloure informació propietària i, per això, POT contenir informació sensible respecte a la privacitat",FINANCIAL_label:"Financial",FINANCIAL_def:"denota que la informació és de naturalesa financera, p. ex.. comptes bancaris, estat financer, etc.",IDENTIFIER_label:"Identifier",IDENTIFIER_def:"denota un identificador únic que ha estat assignat, per algun tercer, a l'usuari, p. ex. passaport, número de la seguretat social, nif, etc.",IDENTIFIERREF_label:"IdentifierRef",IDENTIFIERREF_def:"denota referència cap a / ús d'un identificador únic que ha estat assignat, per algun tercer, a l'usuari.",INSURANCE_label:"Insurance/Assurance",INSURANCE_def:"denota que la informació és de naturalesa asseguradora, e.g. tipus d'assegurança, etc.",LEGAL_label:"Legal",LEGAL_def:"denota que la informació és de naturalesa legal o judicial, p. ex. Testament, antecedents penals, etc.",MEDICAL_label:"Medical/Healthcare",MEDICAL_def:"denota que la informació és de naturalesa mèdica o relacionada amb la salut, p. ex. al·lèrgies, grup sanguini, necessitats de mobilitat, etc.",NA_label:"N/A",NA_def:"denota que NO HI HA IMPLICACIONS DE PRIVACITAT per aquest atribut (aquest és el valor per defecte)",OTHER_label:"Other",OTHER_def:"denota informació sensible respecte a la privacitat que NO està dins d'una de les altres categories",QUALIFICATION_label:"Qualification/Certification",QUALIFICATION_def:"denota que la informació es sobre qualificacions educatives, certificacions, microcredencials, etc.",PERSONAL_label:"Personal",PERSONAL_def:"denota informació personal sobre l'usuari, p. ex. nom, adreça, etc.",SOURCEDID_label:"SourcedId",SOURCEDID_def:"denota l'identificador únic d'interoperabilitat que ha estat assignat i HA D'estar present per el correcte ús l'especificació 1EdTech corresponent",SOURCEDIDREF_label:"SourcedIdRef",SOURCEDIDREF_def:"denota referència cap a / ús d'un identificador únic d'interoperabilitat, sourcedId, per enllçar/apuntar cap a un objecte 1EdTech associat",UNRESTRICTED_label:"unrestricted",UNRESTRICTED_def:"No hi ha problemes de privacitat (aquest és el valor per defecte).",NORMAL_label:"normal",NORMAL_def:"denota que dades sensibles respecte a la privacitat poden ser inclosos i, per tant, han d'emprar-se totes les mesures per protegir la informació.",RESTRICTED_label:"restricted",RESTRICTED_def:"denota que algunes de les dades són més sensibles de l'habitual o que conté atributs que, emprats conjuntament, incrementen la vulnerabilitat d'identificar a l'individu o grup associat.",VERYRESTRICTED_label:"veryrestricted",VERYRESTRICTED_def:"denota que la petició pot contenir dades molt sensibles respecte a la privacitat. Depenent de les capacitats del Proveïdor aquestes dades extremadament sensibles poden ofuscar-se o inclús no estar presents."}}),eo=["ACCESSIBILITY","ANALYTICS","CONTAINER","CREDENTIALS","CREDENTIALSIDREF","DEMOGRAPHICS","EXTENSION","FINANCIAL","IDENTIFIER","IDENTIFIERREF","INSURANCE","LEGAL","MEDICAL","NA","OTHER","QUALIFICATION","PERSONAL","SOURCEDID","SOURCEDIDREF"],to=["UNRESTRICTED","NORMAL","RESTRICTED","VERYRESTRICTED"];function no(e,t){return Ze`<section>
    <h3>${e}</h3>
    <p>${t}</p>
  </section>`}var ro=Object.freeze({__proto__:null,name:"1edtech/privacy",run:async function(e){if(!e.showPrivacyAnnotations)return;const t=document.querySelector("section#privacy-appendix")||Ze`<section id="privacy-appendix"></section>`;document.querySelector("section#privacy-appendix > h2")||t.prepend(Ze`<h2>${Zr.privacy_section_header}</h2>`),t.classList.add("appendix");const n=no(Zr.privacy_implications,Zr.privacy_implications_paragraph);var r;n.appendChild((r=Zr,Ze`<dl>
    ${eo.map((e=>Ze`<dt>
          <dfn id="privacy-${e.toLowerCase()}">
            ${r[e+"_label"]}
          </dfn>
        </dt>
        <dd>${r[e+"_def"]}</dd>`))}
  </dl>`)),t.appendChild(n);const o=no(Zr.confidentiality_level,Zr.confidentiality_level_paragraph);o.appendChild(((e,t)=>Ze`<dl>
    ${e.map((e=>Ze`<dt>
          <dfn id="privacy-${e.toLowerCase()}">
            ${t[e+"_label"]}
          </dfn>
        </dt>
        <dd>${t[e+"_def"]}</dd>`))}
  </dl>`)(to,Zr)),t.appendChild(o),document.body.appendChild(t)}});var oo=Object.freeze({__proto__:null,name:"1edtech/post-markdown",run:async function(e){if("markdown"!==e.format)return;const t=document.body.querySelectorAll("md-only");for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}});var ao=Object.freeze({__proto__:null,name:"core/reindent",run:function(){for(const e of document.getElementsByTagName("pre"))e.innerHTML=zt(e.innerHTML)}});const io=gt({en:{generic:"This is an informative 1EdTech document that may be revised at any time.",proposal:"This is a proposal that may be revised at any time.",proposal_status:"This document is for review and comment by 1EdTech Contributing Members.",base_doc_status:"This document is for review and comment by 1EdTech Contributing Members.",candidate_final_status:"This document is for review and adoption by the 1EdTech membership.",final_status:"This document is made available for adoption by the public community at large.",unknown_status:'Unknown <code>specStatus: "{0}"</code>',spec_version:"Spec Version {0}",final:"final",version_table_title:"Version/Release Details",document_version:"Document Version",date_issued:"Date Issued",status:"Status",this_version:"This version",latest_version:"Latest version",errata:"Errata",copyright_tag:"All Rights Reserved.",trademark_information:"Trademark information",logo_alt:"1EdTech logo",ipr_header:"IPR and Distribution Notice",ipr_intro:"Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the specification set forth in this document, and to provide supporting documentation.",ipr_text:"1EdTech takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on 1EdTech's procedures with respect to rights in 1EdTech specifications can be found at the 1EdTech Intellectual Property Rights webpage",ipr_table_intro:"The following participating organizations have made explicit license commitments to this specification:",org_name:"Org name",date_election_made:"Date election made",necessary_claims:"Necessary claims",type:"Type",proposals:"Proposals",proposals_disclosure:" Proposals are made available for the purposes of Project Group / Task Force only and should not be distributed outside of the 1EdTech Contributing Membership without the express written consent of 1EdTech. Provision of any work documents outside of the project group/ task force will revoke all privileges as an Invited Guest. Any documents provided non-participants will be done by 1EdTech only on the 1EdTech public website when the documents become publicly available.",disclosure_license_link_text:"Use of this specification to develop products or services is governed by the license with 1EdTech found on the 1EdTech website",disclosure_granted_permissions_text:"Permission is granted to all parties to use excerpts from this document as needed in producing requests for proposals.",disclosure_granted_permissions_time_text:"The limited permissions granted above are perpetual and will not be revoked by 1EdTech or its successors or assigns.",disclosure_warranty_text:"THIS SPECIFICATION IS BEING OFFERED WITHOUT ANY WARRANTY WHATSOEVER, AND IN PARTICULAR, ANY WARRANTY OF NONINFRINGEMENT IS EXPRESSLY DISCLAIMED. ANY USE OF THIS SPECIFICATION SHALL BE MADE ENTIRELY AT THE IMPLEMENTER'S OWN RISK, AND NEITHER THE CONSORTIUM, NOR ANY OF ITS MEMBERS OR SUBMITTERS, SHALL HAVE ANY LIABILITY WHATSOEVER TO ANY IMPLEMENTER OR THIRD PARTY FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, DIRECTLY OR INDIRECTLY, ARISING FROM THE USE OF THIS SPECIFICATION.",disclosure_contributions_text:"Public contributions, comments and questions should be directed to"},es:{generic:"Este es un documento informativo de 1EdTech que puede ser revisado en cualquier momento.",proposal:"Esta es una propuesta que puede ser revisada en cualquier momento.",proposal_status:"Este documento es para revisión y comentarios de los Miembros Contribuyentes de 1EdTech.",base_doc_status:"Este documento es para revisión y comentarios de los Miembros Contribuyentes de 1EdTech.",candidate_final_status:"Este documento es para revisión y adopción por parte de los miembros de 1EdTech.",final_status:"Este documento está disponible para adopción por parte de la comunidad pública en general.",unknown_status:'Estado desconocido <code>specStatus: "{0}"</code>',spec_version:"Versión de la Especificación {0}",final:"final",version_table_title:"Detalles de la Versión/Lanzamiento",document_version:"Versión del Documento",date_issued:"Fecha de Emisión",status:"Estado",this_version:"Esta versión",latest_version:"Última versión",errata:"Erratas",copyright_tag:"Todos los derechos reservados.",trademark_information:"Información de marca registrada",logo_alt:"Logo de 1EdTech",ipr_header:"Aviso de Propiedad Intelectual y Distribución",ipr_intro:"Se solicita a los destinatarios de este documento que presenten, junto con sus comentarios, notificación de cualquier reclamación de patente relevante u otros derechos de propiedad intelectual de los que puedan tener conocimiento y que puedan ser infringidos por cualquier implementación de la especificación establecida en este documento, y que proporcionen documentación de apoyo.",ipr_text:"1EdTech no toma posición respecto a la validez o alcance de cualquier propiedad intelectual u otros derechos que puedan ser reclamados en relación con la implementación o uso de la tecnología descrita en este documento o la medida en que cualquier licencia bajo tales derechos pueda o no estar disponible; tampoco representa que haya hecho algún esfuerzo para identificar tales derechos. La información sobre los procedimientos de 1EdTech con respecto a los derechos en las especificaciones de 1EdTech se puede encontrar en la página web de Derechos de Propiedad Intelectual de 1EdTech",ipr_table_intro:"Las siguientes organizaciones participantes han hecho compromisos de licencia explícitos para esta especificación:",org_name:"Nombre de la organización",date_election_made:"Fecha de elección",necessary_claims:"Reclamaciones necesarias",type:"Tipo",proposals:"Propuestas",proposals_disclosure:"Las propuestas están disponibles solo para los propósitos del Grupo de Proyecto / Grupo de Trabajo y no deben ser distribuidas fuera de la Membresía Contribuyente de 1EdTech sin el consentimiento expreso por escrito de 1EdTech. La provisión de cualquier documento de trabajo fuera del grupo de proyecto/grupo de trabajo revocará todos los privilegios como Invitado Invitado. Cualquier documento proporcionado a no participantes será hecho por 1EdTech solo en el sitio web público de 1EdTech cuando los documentos se hagan públicamente disponibles.",disclosure_license_link_text:"El uso de esta especificación para desarrollar productos o servicios está regido por la licencia con 1EdTech que se encuentra en el sitio web de 1EdTech",disclosure_granted_permissions_text:"Se concede permiso a todas las partes para usar extractos de este documento según sea necesario para producir solicitudes de propuestas.",disclosure_granted_permissions_time_text:"Los permisos limitados otorgados anteriormente son perpetuos y no serán revocados por 1EdTech o sus sucesores o cesionarios.",disclosure_warranty_text:"ESTA ESPECIFICACIÓN SE OFRECE SIN NINGUNA GARANTÍA DE NINGÚN TIPO, Y EN PARTICULAR, SE RENUNCIA EXPRESAMENTE A CUALQUIER GARANTÍA DE NO INFRACCIÓN. CUALQUIER USO DE ESTA ESPECIFICACIÓN SE HARÁ ENTERAMENTE BAJO EL RIESGO DEL IMPLEMENTADOR, Y NI EL CONSORCIO, NI NINGUNO DE SUS MIEMBROS O REMITENTES, TENDRÁN NINGUNA RESPONSABILIDAD DE NINGÚN TIPO ANTE NINGÚN IMPLEMENTADOR O TERCERO POR CUALQUIER DAÑO DE CUALQUIER NATURALEZA, DIRECTA O INDIRECTAMENTE, QUE SURJA DEL USO DE ESTA ESPECIFICACIÓN.",disclosure_contributions_text:"Las contribuciones públicas, comentarios y preguntas deben dirigirse a"},ca:{generic:"Aquest és un document informatiu de 1EdTech que pot ser revisat en qualsevol moment.",proposal:"Aquesta és una proposta que pot ser revisada en qualsevol moment.",proposal_status:"Aquest document és per a revisió i comentaris dels Membres Contribuents de 1EdTech.",base_doc_status:"Aquest document és per a revisió i comentaris dels Membres Contribuents de 1EdTech.",candidate_final_status:"Aquest document és per a revisió i adopció pels membres de 1EdTech.",final_status:"Aquest document està disponible per a l'adopció per part de la comunitat pública en general.",unknown_status:'Estat desconegut <code>specStatus: "{0}"</code>',spec_version:"Versió de l'Especificació {0}",final:"final",version_table_title:"Detalls de la Versió/Llançament",document_version:"Versió del Document",date_issued:"Data d'Emissió",status:"Estat",this_version:"Aquesta versió",latest_version:"Última versió",errata:"Errates",copyright_tag:"Tots els drets reservats.",trademark_information:"Informació de marca registrada",logo_alt:"Logotip de 1EdTech",ipr_header:"Avís de Propietat Intel·lectual i Distribució",ipr_intro:"Es demana als destinataris d'aquest document que presentin, juntament amb els seus comentaris, notificació de qualsevol reclamació de patent rellevant o altres drets de propietat intel·lectual dels quals puguin tenir coneixement i que puguin ser infringits per qualsevol implementació de l'especificació establerta en aquest document, i que proporcionin documentació de suport.",ipr_text:"1EdTech no pren posició respecte a la validesa o abast de qualsevol propietat intel·lectual o altres drets que puguin ser reclamats en relació amb la implementació o ús de la tecnologia descrita en aquest document o la mesura en què qualsevol llicència sota aquests drets pugui o no estar disponible; tampoc representa que hagi fet cap esforç per identificar aquests drets. La informació sobre els procediments de 1EdTech respecte als drets en les especificacions de 1EdTech es pot trobar a la pàgina web de Drets de Propietat Intel·lectual de 1EdTech",ipr_table_intro:"Les següents organitzacions participants han fet compromisos de llicència explícits per a aquesta especificació:",org_name:"Nom de l'organització",date_election_made:"Data de l'elecció",necessary_claims:"Reclamacions necessàries",type:"Tipus",proposals:"Propostes",proposals_disclosure:"Les propostes estan disponibles només per als propòsits del Grup de Projecte / Grup de Treball i no s'han de distribuir fora de la Membresia Contribuent de 1EdTech sense el consentiment exprés per escrit de 1EdTech. La provisió de qualsevol document de treball fora del grup de projecte/grup de treball revocarà tots els privilegis com a Convidat Convidat. Qualsevol document proporcionat a no participants serà fet per 1EdTech només al lloc web públic de 1EdTech quan els documents es facin públicament disponibles.",disclosure_license_link_text:"L'ús d'aquesta especificació per desenvolupar productes o serveis està regit per la llicència amb 1EdTech que es troba al lloc web de 1EdTech",disclosure_granted_permissions_text:"Es concedeix permís a totes les parts per utilitzar extractes d'aquest document segons sigui necessari per produir sol·licituds de propostes.",disclosure_granted_permissions_time_text:"Els permisos limitats atorgats anteriorment són perpetus i no seran revocats per 1EdTech o els seus successors o cessionaris.",disclosure_warranty_text:"AQUESTA ESPECIFICACIÓ S'OFEREIX SENSE CAP GARANTIA DE CAP TIPUS, I EN PARTICULAR, ES RENUNCIA EXPRESSAMENT A QUALSEVOL GARANTIA DE NO INFRACCIÓ. QUALSSEVOL ÚS D'AQUESTA ESPECIFICACIÓ ES FARÀ ENTERAMENT SOTA EL RISC DE L'IMPLEMENTADOR, I NI EL CONSORCI, NI CAP DELS SEUS MEMBRES O REMITENTS, TINDRAN CAP RESPONSABILITAT DE CAP TIPUS DAVANT DE CAP IMPLEMENTADOR O TERCER PER QUALSEVOL DANY DE QUALSEVOL NATURALESA, DIRECTA O INDIRECTAMENT, QUE SORGEIXI DE L'ÚS D'AQUESTA ESPECIFICACIÓ.",disclosure_contributions_text:"Les contribucions públiques, comentaris i preguntes s'han de dirigir a"}}),so="1edtech/templates/headers";function co(e){if(e.specStatusString)return e.specStatusString;if("doc"===e.specType)return io.generic;if("proposal"===e.specType)return io.proposal;switch(e.specStatus){case"Proposal":return io.proposal_status;case"Base Document":return io.base_doc_status;case"Candidate Final":case"Candidate Final Public":return io.candidate_final_status;case"Final Release":return io.final_status;default:return io.unknown_status.replace("{0}",e.specStatus)}}function lo(e){if(e.key)return Ze`
    <tr class="${e.class?e.class:null}">
      <td>${e.key}</td>
      <td>
        <table style="margin:0;border:none">
          <tr>
            ${e.data?e.data.map(uo):uo(e)}
          </tr>
        </table>
      </td>
    </tr>
  `;Ot("Found a link without `key` attribute in the configuration. See dev console.",so)}function uo(e){return Ze` <td class="${e.class?e.class:null}">
    ${e.href?Ze`<a href="${e.href}">${e.value||e.href}</a>`:e.value}
  </td>`}function po(e){return Ze`<div id="ipr">
      <h2>${io.ipr_header}</h2>
      <p>
        ${io.ipr_intro}
      </p>
      <p>
        ${io.ipr_text}:
        <a href="https://www.1edtech.org/sites/default/files/media/docs/2023/imsipr_policyFinal.pdf">
          https://www.1edtech.org/sites/default/files/media/docs/2023/imsipr_policyFinal.pdf </a
        >.
      </p>
    </div>
    ${function(e){if(e.iprs)return Ze`<p>
        ${io.ipr_table_intro}
      </p>
      <table>
      <thead>
        <tr>
          <th>${io.org_name}</th>
          <th>${io.date_election_made}</th>
          <th>${io.necessary_claims}</th>
          <th>${io.type}</th>
        </th>
      </thead>
      <tbody>
      ${e.iprs.map(fo)}
      </tbody>
      </table>`}(e)}`}function fo(e){return Ze`<tr>
    <td>${e.company}</td>
    <td>${e.electionDate}</td>
    <td>${e.necessaryClaims}</td>
    <td>${e.type}</td>
  </tr>`}var ho=e=>Ze`<header>
    <div class="header-top">
      <h1 class="title" id="title">${e.specTitle}</h1>
      <a href="https://www.1edtech.org" id="1edtech-logo" style="margin-left:27px">
        <img
          src="https://purl.imsglobal.org/respec/1edtech_logo_color_with_tagline.svg"
          width="300" height="105"
          alt="${io.logo_alt}"
        />
      </a>
    </div>
    ${function(e){if("doc"!==e.specType&&"proposal"!==e.specType)return Ze`<div class="subtitle">
        ${e.specStatus}<br />${io.spec_version.replace("{0}",e.specVersion)}
      </div>`}(e)} ${function(e){if("doc"!==e.specType&&"proposal"!==e.specType)return Ze`<span
      class="statusPD${"Final Release"===e.specStatus?` ${io.final}`:""}"
      data-content="${e.specStatus}"
      >${e.specStatus}</span
    >`}(e)}
    ${function(e){return"doc"!==e.specType&&"proposal"!==e.specType?Ze`<table
  id="version-table"
  title="${io.version_table_title}">
    <tbody>
      <tr>
        <td>${io.document_version}:</td>
        <td>${e.docVersion}</td>
      </tr>
      <tr>
        <td>${io.date_issued}:</td>
        <td>${e.specDate}</td>
      </tr>
      <tr>
        <td>${io.status}:</td>
        <td>${co(e)}</td>
      </tr>
      <tr>
        <td>${io.this_version}:</td>
        <td><a href='${e.thisURL}'>${e.thisURL}</a></td>
      </tr>
      ${"normative"===e.specNature?Ze`<tr>
                <td>${io.latest_version}:</td>
                <td><a href="${e.latestURI}">${e.latestURI}</a></td>
              </tr>
              <tr>
                <td>${io.errata}:</td>
                <td><a href="${e.errataURL}">${e.errataURL}</a></td>
              </tr>`:null}
      ${e.otherLinks?e.otherLinks.map(lo):""}
    </tbody>
  </table>`:Ze`<table
      id="version-table"
      title="${io.version_table_title}">
      <tbody>
        <tr>
          <td>${io.date_issued}:</td>
          <td>${e.specDate}</td>
        </tr>
        <tr>
          <td>${io.status}:</td>
          <td>${co(e)}</td>
        </tr>
      </tbody>
    </table>`}(e)} ${po(e)} ${function(e){return"proposal"===e.specType?Ze`<div id="disclosure">
      <h2>${io.proposals}</h2>
      <p>${io.proposals_disclosure}
      </p>
    </div>`:Ze`<div id="disclosure">
      <p>
        ${io.disclosure_license_link_text}:
        <a href="https://www.1edtech.org/standards/specification-license">
          https://www.1edtech.org/standards/specification-license</a
        >.
      </p>
      <p>
        ${io.disclosure_granted_permissions_text}
      </p>
      <p>
        ${io.disclosure_granted_permissions_time_text}
      </p>
      <p>
        ${io.disclosure_warranty_text}
      </p>
      <p>
        ${io.disclosure_contributions_text}
        <a href="mailto:support@1edtech.org">
          support@1edtech.org
        </a>.
      </p>
    </div>`}(e)}
    ${Ze`<div id="cpr">
    <p>
      © ${(new Date).getFullYear()} 1EdTech&trade; Consortium, Inc. ${io.copyright_tag}
    </p>
    <p>
      ${io.trademark_information}:
      <a href="https://www.1edtech.org/about/legal"
        >https://www.1edtech.org/about/legal
      </a>
    </p>
  </div>`}
  </header>`;var mo=Object.freeze({__proto__:null,name:"1edtech/headers",run:async function(e){document.title=`${e.specTitle} ${e.specVersion??""} \n    ${e.specStatus??""}`;const t=document.body,n=ho(e);t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}});var go=Object.freeze({__proto__:null,name:"1edtech/id-headers",run:function(e){const t=document.querySelectorAll("section:not(.head,#abstract,#sotd) h2, h3, h4, h5, h6");for(const e of t){e.id||wt(e)}}});const bo="1edtech/abstract",yo=gt({en:{abstract:"Abstract",to_be_removed:"To be removed"},es:{abstract:"Resumen",to_be_removed:"Para borrar"},ca:{abstract:"Resume",to_be_removed:"Per esborrar"}});var vo=Object.freeze({__proto__:null,name:bo,run:async function(){let e=document.getElementById("abstract");e||(Ot("Document should have one element with 'abstract'",bo),e=Ze`<section id="abstract" class="introductory remove">
      <h2>${yo.to_be_removed}</h2>
    </section>`,document.body.prepend(e)),e.tagName.startsWith("H")&&(e.removeAttribute("id"),e=e.parentElement,e.id="abstract"),"SECTION"===e.tagName&&(e.classList.contains("introductory")||e.classList.add("introductory"));let t=document.querySelector("#abstract>h2");t||(t=document.createElement("h2"),t.textContent=yo.abstract,e.prepend(t))}});var wo=Object.freeze({__proto__:null,name:"core/data-transform",run:function(){document.querySelectorAll("[data-transform]").forEach((e=>{e.innerHTML=yt(e.innerHTML,e.dataset.transform),e.removeAttribute("data-transform")}))}});const $o="core/dfn-abbr";function _o(e){const t=(n=e).dataset.abbr?n.dataset.abbr:n.textContent.match(/\b([a-z])/gi).join("").toUpperCase();var n;const r=e.textContent.replace(/\s\s+/g," ").trim();e.insertAdjacentHTML("afterend",` (<abbr title="${r}">${t}</abbr>)`);const o=e.dataset.lt||"";e.dataset.lt=o.split("|").filter((e=>e.trim())).concat(t).join("|")}var xo=Object.freeze({__proto__:null,name:$o,run:function(){const e=document.querySelectorAll("[data-abbr]");for(const t of e){const{localName:e}=t;if("dfn"===e)_o(t);else{Lt(`\`data-abbr\` attribute not supported on \`${e}\` elements.`,$o,{elements:[t],title:"Error: unsupported."})}}}});var Eo=Object.freeze({__proto__:null,name:"1edtech/inlines",run:async function(e){if("errata"==e.specType)return;let t=document.querySelector("section#conformance");t||(t=function(e){const t=e.querySelectorAll(":scope > h2, h3, h4, h5, h6");for(const e of t){if(!e.id){const t=e.textContent;if("conformance"==t.toLowerCase()||"conformance statements"==t.toLowerCase())return wt(e,null,"conformance"),e}if("conformance"===e.id)return e}return null}(document.body))}});const ko=/^[a-z]+(\s+[a-z]+)+\??$/,Ao=/\B"([^"]*)"\B/,So=/^(\w+)\(([^\\)]*)\)(?:\|(\w+)(?:\((?:([^\\)]*))\))?)?$/,To=/\[\[(\w+(?: +\w+)*)\]\](\([^)]*\))?$/,Co=/^((?:\[\[)?(?:\w+(?: +\w+)*)(?:\]\])?)$/,Io=/^(?:\w+)\??$/,Ro=/^(\w+)\["([\w- ]*)"\]$/,No=/\.?(\w+\(.*\)$)/,Lo=/\/(.+)/,Oo=/\[\[.+\]\]/;function Do(e){const{identifier:t,renderParent:n,nullable:r}=e;if(n)return Ze`<a
      data-xref-type="_IDL_"
      data-link-type="idl"
      data-lt="${t}"
      ><code>${t+(r?"?":"")}</code></a
    >`}function Po(e){const{identifier:t,parent:n,slotType:r,renderParent:o,args:a}=e,{identifier:i}=n||{},s="method"===r,c=s?Ze`(${vt(a,qo)})`:null,l=s?`(${a.join(", ")})`:"";return Ze`${n&&o?".":""}<a
      data-xref-type="${r}"
      data-link-type="${r}"
      data-link-for="${i}"
      data-xref-for="${i}"
      data-lt="${`[[${t}]]${l}`}"
      ><code>[[${t}]]${c}</code></a
    >`}function qo(e,t,n){if(t<n.length-1)return Ze`<var>${e}</var>`;const r=e.split(/(^\.{3})(.+)/),o=r.length>1,a=o?r[2]:r[0];return Ze`${o?"...":null}<var>${a}</var>`}function jo(e){const{parent:t,identifier:n,renderParent:r}=e,{identifier:o}=t||{};return Ze`${r?".":""}<a
      data-link-type="idl"
      data-xref-type="attribute|dict-member|const"
      data-link-for="${o}"
      data-xref-for="${o}"
      ><code>${n}</code></a
    >`}function Mo(e){const{args:t,identifier:n,type:r,parent:o,renderParent:a}=e,{renderText:i,renderArgs:s}=e,{identifier:c}=o||{},l=vt(s||t,qo),d=`${n}(${t.join(", ")})`;return Ze`${o&&a?".":""}<a
      data-link-type="idl"
      data-xref-type="${r}"
      data-link-for="${c}"
      data-xref-for="${c}"
      data-lt="${d}"
      ><code>${i||n}</code></a
    >${!i||s?Ze`<code>(${l})</code>`:""}`}function zo(e){const{identifier:t,enumValue:n,parent:r}=e,o=r?r.identifier:t;return Ze`"<a
      data-link-type="idl"
      data-xref-type="enum-value"
      data-link-for="${o}"
      data-xref-for="${o}"
      data-lt="${n?null:"the-empty-string"}"
      ><code>${n}</code></a
    >"`}function Fo(e){const{identifier:t}=e;return Ze`"<a
      data-link-type="idl"
      data-cite="webidl"
      data-xref-type="exception"
      ><code>${t}</code></a
    >"`}function Uo(e){const{identifier:t,nullable:n}=e;return Ze`<a
    data-link-type="idl"
    data-cite="webidl"
    data-xref-type="interface"
    data-lt="${t}"
    ><code>${t+(n?"?":"")}</code></a
  >`}function Ho(e){let t;try{t=function(e){const t=Oo.test(e),n=t?Lo:No,[r,o]=e.split(n);if(t&&r&&!o)throw new SyntaxError(`Internal slot missing "for" part. Expected \`{{ InterfaceName/${r}}}\` }.`);const a=r.split(/[./]/).concat(o).filter((e=>e&&e.trim())).map((e=>e.trim())),i=!e.includes("/"),s=[];for(;a.length;){const t=a.pop();if(So.test(t)){const[,e,n,r,o]=t.match(So),a=n.split(/,\s*/).filter((e=>e)),c=r?.trim(),l=o?.split(/,\s*/).filter((e=>e));s.push({type:"method",identifier:e,args:a,renderParent:i,renderText:c,renderArgs:l})}else if(Ro.test(t)){const[,e,n]=t.match(Ro);s.push({type:"enum",identifier:e,enumValue:n,renderParent:i})}else if(Ao.test(t)){const[,e]=t.match(Ao);i?s.push({type:"exception",identifier:e}):s.push({type:"enum",enumValue:e,renderParent:i})}else if(To.test(t)){const[,e,n]=t.match(To),r=n?"method":"attribute",o=n?.slice(1,-1).split(/,\s*/).filter((e=>e));s.push({type:"internal-slot",slotType:r,identifier:e,args:o,renderParent:i})}else if(Co.test(t)&&a.length){const[,e]=t.match(Co);s.push({type:"attribute",identifier:e,renderParent:i})}else if(ko.test(t)){const e=t.endsWith("?"),n=e?t.slice(0,-1):t;s.push({type:"idl-primitive",identifier:n,renderParent:i,nullable:e})}else{if(!Io.test(t)||0!==a.length)throw new SyntaxError(`IDL micro-syntax parsing error in \`{{ ${e} }}\``);{const e=t.endsWith("?"),n=e?t.slice(0,-1):t;s.push({type:"base",identifier:n,renderParent:i,nullable:e})}}}return s.forEach(((e,t,n)=>{e.parent=n[t+1]||null})),s.reverse()}(e)}catch(t){const n=Ze`<span>{{ ${e} }}</span>`,r="Error: Invalid inline IDL string.";return Lt(t.message,"core/inlines",{title:r,elements:[n]}),n}const n=Ze(document.createDocumentFragment()),r=[];for(const e of t)switch(e.type){case"base":{const t=Do(e);t&&r.push(t);break}case"attribute":r.push(jo(e));break;case"internal-slot":r.push(Po(e));break;case"method":r.push(Mo(e));break;case"enum":r.push(zo(e));break;case"exception":r.push(Fo(e));break;case"idl-primitive":r.push(Uo(e));break;default:throw new Error("Unknown type.")}return n`${r}`}const Bo=new Set(["alias","reference"]),Wo=async function(){const e=await et.openDB("respec-biblio2",12,{upgrade(e){Array.from(e.objectStoreNames).map((t=>e.deleteObjectStore(t)));e.createObjectStore("alias",{keyPath:"id"}).createIndex("aliasOf","aliasOf",{unique:!1}),e.createObjectStore("reference",{keyPath:"id"})}}),t=Date.now();for(const n of[...Bo]){const r=e.transaction(n,"readwrite").store,o=IDBKeyRange.lowerBound(t);let a=await r.openCursor(o);for(;a?.value;){const e=a.value;(void 0===e.expires||e.expires<t)&&await r.delete(e.id),a=await a.continue()}}return e}();const Vo={get ready(){return Wo},async find(e){return await this.isAlias(e)&&(e=await this.resolveAlias(e)),await this.get("reference",e)},async has(e,t){if(!Bo.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t);return!!await n.openCursor(r)},async isAlias(e){return await this.has("alias",e)},async resolveAlias(e){if(!e)throw new TypeError("id is required");const t=(await this.ready).transaction("alias","readonly").store,n=IDBKeyRange.only(e),r=await t.openCursor(n);return r?r.value.aliasOf:r},async get(e,t){if(!Bo.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t),o=await n.openCursor(r);return o?o.value:o},async addAll(e,t){if(!e)return;const n={alias:[],reference:[]};for(const r of Object.keys(e)){const o={id:r,...e[r],expires:t};o.aliasOf?n.alias.push(o):n.reference.push(o)}const r=[...Bo].flatMap((e=>n[e].map((t=>this.add(e,t)))));await Promise.all(r)},async add(e,t){if(!Bo.has(e))throw new TypeError(`Invalid type: ${e}`);if("object"!=typeof t)throw new TypeError("details should be an object");if("alias"===e&&!t.hasOwnProperty("aliasOf"))throw new TypeError("Invalid alias object.");const n=await this.ready;let r=await this.has(e,t.id);if(r){const o=await this.get(e,t.id);if(o?.expires<Date.now()){const{store:o}=n.transaction(e,"readwrite");await o.delete(t.id),r=!1}}const{store:o}=n.transaction(e,"readwrite");return r?await o.put(t):await o.add(t)},async close(){(await this.ready).close()},async clear(){const e=await this.ready,t=[...Bo],n=e.transaction(t,"readwrite"),r=t.map((e=>n.objectStore(e).clear()));await Promise.all(r)}},Yo={},Go=new URL("https://api.specref.org/bibrefs?refs="),Qo=st({hint:"dns-prefetch",href:Go.origin});let Xo;document.head.appendChild(Qo);const Jo=new Promise((e=>{Xo=e}));async function Ko(e,t={forceUpdate:!1}){const n=[...new Set(e)].filter((e=>e.trim()));if(!n.length||!1===navigator.onLine)return null;let r;try{r=await fetch(Go.href+n.join(","))}catch(e){return console.error(e),null}if(!t.forceUpdate&&!r.ok||200!==r.status)return null;const o=await r.json(),a=Date.now()+36e5;try{const e=r.headers.has("Expires")?Math.min(Date.parse(r.headers.get("Expires")),a):a;await Vo.addAll(o,e)}catch(e){console.error(e)}return o}async function Zo(e){const t=await Jo;if(!t.hasOwnProperty(e))return null;const n=t[e];return n.aliasOf?await Zo(n.aliasOf):n}var ea=Object.freeze({__proto__:null,Plugin:class{constructor(e){this.conf=e}normalizeReferences(){const e=new Set([...this.conf.normativeReferences].map((e=>e.toLowerCase())));Array.from(this.conf.informativeReferences).filter((t=>e.has(t.toLowerCase()))).forEach((e=>this.conf.informativeReferences.delete(e)))}getRefKeys(){return{informativeReferences:Array.from(this.conf.informativeReferences),normativeReferences:Array.from(this.conf.normativeReferences)}}async run(){this.conf.localBiblio||(this.conf.localBiblio={}),this.conf.biblio=Yo;const e=Object.keys(this.conf.localBiblio).filter((e=>this.conf.localBiblio[e].hasOwnProperty("aliasOf"))).map((e=>this.conf.localBiblio[e].aliasOf)).filter((e=>!this.conf.localBiblio.hasOwnProperty(e)));this.normalizeReferences();const t=this.getRefKeys(),n=Array.from(new Set(t.normativeReferences.concat(t.informativeReferences).filter((e=>!this.conf.localBiblio.hasOwnProperty(e))).concat(e).sort())),r=n.length?await async function(e){const t=[];try{await Vo.ready;const n=e.map((async e=>({id:e,data:await Vo.find(e)})));t.push(...await Promise.all(n))}catch(n){t.push(...e.map((e=>({id:e,data:null})))),console.warn(n)}return t}(n):[],o={hasData:[],noData:[]};r.forEach((e=>{(e.data?o.hasData:o.noData).push(e)})),o.hasData.forEach((e=>{Yo[e.id]=e.data}));const a=o.noData.map((e=>e.id));if(a.length){const e=await Ko(a,{forceUpdate:!0});Object.assign(Yo,e)}Object.assign(Yo,this.conf.localBiblio),(()=>{Xo(this.conf.biblio)})()}},biblio:Yo,name:"core/biblio",resolveRef:Zo,updateFromNetwork:Ko});const ta="core/render-biblio",na=gt({en:{info_references:"Informative references",norm_references:"Normative references",references:"References",reference_not_found:"Reference not found."},ko:{references:"참조"},nl:{info_references:"Informatieve referenties",norm_references:"Normatieve referenties",references:"Referenties"},es:{info_references:"Referencias informativas",norm_references:"Referencias normativas",references:"Referencias",reference_not_found:"Referencia no encontrada."},ja:{info_references:"参照用参考文献",norm_references:"規範的参考文献",references:"参考文献"},de:{info_references:"Weiterführende Informationen",norm_references:"Normen und Spezifikationen",references:"Referenzen"},zh:{info_references:"非规范性引用",norm_references:"规范性引用",references:"参考文献"}}),ra=new Map([["CR","W3C Candidate Recommendation"],["ED","W3C Editor's Draft"],["LCWD","W3C Last Call Working Draft"],["NOTE","W3C Working Group Note"],["PR","W3C Proposed Recommendation"],["REC","W3C Recommendation"],["WD","W3C Working Draft"]]),oa=(aa=".",e=>{const t=e.trim();return!t||t.endsWith(aa)?t:t+aa});var aa;function ia(e,t){const{goodRefs:n,badRefs:r}=function(e){const t=[],n=[];for(const r of e)r.refcontent?t.push(r):n.push(r);return{goodRefs:t,badRefs:n}}(e.map(sa)),o=function(e){const t=new Map;for(const n of e)t.has(n.refcontent.id)||t.set(n.refcontent.id,n);return[...t.values()]}(n),a=o.concat(r).sort(((e,t)=>e.ref.toLocaleLowerCase().localeCompare(t.ref.toLocaleLowerCase()))),i=Ze`<section>
    <h3>${t}</h3>
    <dl class="bibliography">${a.map(la)}</dl>
  </section>`;wt(i,"",t);const s=function(e){return e.reduce(((e,t)=>{const n=t.refcontent.id;return(e.has(n)?e.get(n):e.set(n,[]).get(n)).push(t.ref),e}),new Map)}(n);return function(e,t){e.map((({ref:e,refcontent:n})=>{const r=`#bib-${e.toLowerCase()}`,o=t.get(n.id).map((e=>`a.bibref[href="#bib-${e.toLowerCase()}"]`)).join(",");return{refUrl:r,elems:document.querySelectorAll(o),refcontent:n}})).forEach((({refUrl:e,elems:t,refcontent:n})=>{t.forEach((t=>{t.setAttribute("href",e),t.setAttribute("title",n.title),t.dataset.linkType="biblio"}))}))}(o,s),function(e){for(const{ref:t}of e){const e=[...document.querySelectorAll(`a.bibref[href="#bib-${t.toLowerCase()}"]`)].filter((({textContent:e})=>e.toLowerCase()===t.toLowerCase()));Lt(`Reference "[${t}]" not found.`,ta,{hint:`Search for ["${t}"](https://www.specref.org?q=${t}) on Specref to see if it exists or if it's misspelled.`,elements:e})}}(r),i}function sa(e){let t=Yo[e],n=e;const r=new Set([n]);for(;t&&t.aliasOf;)if(r.has(t.aliasOf)){t=null;Lt(`Circular reference in biblio DB between [\`${e}\`] and [\`${n}\`].`,ta)}else n=t.aliasOf,t=Yo[n],r.add(n);return t&&!t.id&&(t.id=e.toLowerCase()),{ref:e,refcontent:t}}function ca(e,t){const n=e.replace(/^(!|\?)/,""),r=`#bib-${n.toLowerCase()}`,o=Ze`<cite
    ><a class="bibref" href="${r}" data-link-type="biblio">${t||n}</a></cite
  >`;return t?o:Ze`[${o}]`}function la(e){const{ref:t,refcontent:n}=e,r=`bib-${t.toLowerCase()}`;return Ze`
    <dt id="${r}">[${t}]</dt>
    <dd>
      ${n?{html:da(n)}:Ze`<em class="respec-offending-element"
            >${na.reference_not_found}</em
          >`}
    </dd>
  `}function da(e){if("string"==typeof e)return e;let t=`<cite>${e.title}</cite>`;return t=e.href?`<a href="${e.href}">${t}</a>. `:`${t}. `,e.authors&&e.authors.length&&(t+=e.authors.join("; "),e.etAl&&(t+=" et al"),t+=". "),e.publisher&&(t=`${t} ${oa(e.publisher)} `),e.date&&(t+=`${e.date}. `),e.status&&(t+=`${ra.get(e.status)||e.status}. `),e.href&&(t+=`URL: <a href="${e.href}">${e.href}</a>`),t}var ua=Object.freeze({__proto__:null,name:ta,renderInlineCitation:ca,run:function(e){const t=Array.from(e.informativeReferences),n=Array.from(e.normativeReferences);if(!t.length&&!n.length)return;const r=document.querySelector("section#references")||Ze`<section id="references"></section>`;if(document.querySelector("section#references > :is(h2, h1)")||r.prepend(Ze`<h1>${na.references}</h1>`),r.classList.add("appendix"),n.length){const e=ia(n,na.norm_references);r.appendChild(e)}if(t.length){const e=ia(t,na.info_references);r.appendChild(e)}document.body.appendChild(r)}});const pa="core/inlines",fa={},ha=e=>new RegExp(e.map((e=>e.source)).join("|")),ma=gt({en:{rfc2119Keywords:()=>ha([/\bMUST(?:\s+NOT)?\b/,/\bSHOULD(?:\s+NOT)?\b/,/\bSHALL(?:\s+NOT)?\b/,/\bMAY\b/,/\b(?:NOT\s+)?REQUIRED\b/,/\b(?:NOT\s+)?RECOMMENDED\b/,/\bOPTIONAL\b/])},de:{rfc2119Keywords:()=>ha([/\bMUSS\b/,/\bMÜSSEN\b/,/\bERFORDERLICH\b/,/\b(?:NICHT\s+)?NÖTIG\b/,/\bDARF(?:\s+NICHT)?\b/,/\bDÜRFEN(?:\s+NICHT)?\b/,/\bVERBOTEN\b/,/\bSOLL(?:\s+NICHT)?\b/,/\bSOLLEN(?:\s+NICHT)?\b/,/\b(?:NICHT\s+)?EMPFOHLEN\b/,/\bKANN\b/,/\bKÖNNEN\b/,/\bOPTIONAL\b/])}}),ga=/(?:`[^`]+`)(?!`)/,ba=/(?:{{[^}]+\?*}})/,ya=/\B\|\w[\w\s]*(?:\s*:[\w\s&;"?<>]+\??)?\|\B/,va=/(?:\[\[(?:!|\\|\?)?[\w.-]+(?:|[^\]]+)?\]\])/,wa=/(?:\[\[\[(?:!|\\|\?)?#?[\w-.]+\]\]\])/,$a=/(?:\[=[^=]+=\])/,_a=/(?:\[\^[^^]+\^\])/;function xa(e){const t=e.slice(2,-2).trim(),[n,r,o]=t.split("/",3).map((e=>e&&e.trim())).filter((e=>!!e)),[a,i,s]=t.startsWith("/")?["element-attr",null,n]:o?["attr-value",`${n}/${r}`,o]:r?["element-attr",n,r]:["element",null,n];return Ze`<code
    ><a
      data-xref-type="${a}"
      data-xref-for="${i}"
      data-link-type="${a}"
      data-link-for="${i}"
      >${s}</a
    ></code
  >`}function Ea(e){const t=mt(e),n=Ze`<em class="rfc2119">${t}</em>`;return fa[t]=!0,n}function ka(e){const t=e.slice(3,-3).trim();return t.startsWith("#")?Ze`<a href="${t}" data-matched-text="${e}"></a>`:Ze`<a data-cite="${t}" data-matched-text="${e}"></a>`}function Aa(e,t){const n=mt(e.slice(2,-2));if(n.startsWith("\\"))return e.replace("\\","");const r=Ho(n);return!!t.parentElement.closest("dfn")?Ra(`\`${r.textContent}\``):r}function Sa(e,t,n){const r=e.slice(2,-2);if(r.startsWith("\\"))return[`[[${r.slice(1)}]]`];const[o,a]=r.split("|").map(mt),{type:i,illegal:s}=xt(o,t.parentElement),c=ca(o,a),l=o.replace(/^(!|\?)/,"");if(s&&!n.normativeReferences.has(l)){const e=c.childNodes[1]||c;Ot("Normative references in informative sections are not allowed. ",pa,{elements:[e],hint:`Remove '!' from the start of the reference \`[[${r}]]\``})}return"informative"!==i||s?n.normativeReferences.add(l):n.informativeReferences.add(l),c.childNodes[1]?c.childNodes:[c]}function Ta(e,t,n){return"ABBR"===t.parentElement.tagName?e:Ze`<abbr title="${n.get(e)}">${e}</abbr>`}function Ca(e){const t=e.slice(1,-1).split(":",2),[n,r]=t.map((e=>e.trim()));return Ze`<var data-type="${r}">${n}</var>`}function Ia(e){const t=function(e){const t=e=>e.replace("%%","/").split("/").map(mt).join("/"),n=e.replace("\\/","%%"),r=n.lastIndexOf("/");if(-1===r)return[t(n)];const o=n.substring(0,r),a=n.substring(r+1,n.length);return[t(o),t(a)]}(e=e.slice(2,-2)),[n,r]=2===t.length?t:[null,t[0]],[o,a]=r.includes("|")?r.split("|",2).map((e=>e.trim())):[null,r],i=Na(a),s=n?mt(n):null;return Ze`<a
    data-link-type="dfn|abstract-op"
    data-link-for="${s}"
    data-xref-for="${s}"
    data-lt="${o}"
    >${i}</a
  >`}function Ra(e){const t=e.slice(1,-1);return Ze`<code>${t}</code>`}function Na(e){return ga.test(e)?e.split(/(`[^`]+`)(?!`)/).map((e=>e.startsWith("`")?Ra(e):Na(e))):document.createTextNode(e)}var La=Object.freeze({__proto__:null,name:pa,rfc2119Usage:fa,run:function(e){const t=new Map;document.normalize(),document.querySelector("section#conformance")||document.body.classList.add("informative"),e.normativeReferences=new St,e.informativeReferences=new St,e.respecRFC2119||(e.respecRFC2119=fa);const n=document.querySelectorAll("abbr[title]:not(.exclude)");for(const{textContent:e,title:r}of n){const n=mt(e),o=mt(r);t.set(n,o)}const r=t.size?new RegExp(`(?:\\b${[...t.keys()].join("\\b)|(?:\\b")}\\b)`):null,o=function(e,t=[],n={wsNodes:!0}){const r=t.join(", "),o=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,(e=>n.wsNodes||e.data.trim()?r&&e.parentElement.closest(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT)),a=[];let i;for(;i=o.nextNode();)a.push(i);return a}(document.body,["#respec-ui",".head","pre","svg"],{wsNodes:!1}),a=ma.rfc2119Keywords(),i=new RegExp(`(${ha([a,ba,ya,va,wa,$a,ga,_a,...r?[r]:[]]).source})`);for(const n of o){const r=n.data.split(i);if(1===r.length)continue;const o=document.createDocumentFragment();let s=!0;for(const i of r)if(s=!s,s)switch(!0){case i.startsWith("{{"):o.append(Aa(i,n));break;case i.startsWith("[[["):o.append(ka(i));break;case i.startsWith("[["):o.append(...Sa(i,n,e));break;case i.startsWith("|"):o.append(Ca(i));break;case i.startsWith("[="):o.append(Ia(i));break;case i.startsWith("`"):o.append(Ra(i));break;case i.startsWith("[^"):o.append(xa(i));break;case t.has(i):o.append(Ta(i,n,t));break;case a.test(i):o.append(Ea(i))}else o.append(i);n.replaceWith(o)}}});const Oa=gt({en:{informative_text_paragraph_1:"This document is an informative resource in the Document Set of the {0} specification {1}",informative_text_paragraph_2:"As such, it does not include any normative requirements. Occurrences in this document of terms such as MAY, MUST, MUST NOT, SHOULD or RECOMMENDED have no impact on the conformance criteria for implementors of this specification.",normative_text_paragraph_1:"As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.",key_word:"key word",key_words:"key words",is:"is",are:"are",the:"The",the_plural:"The",keywords_paragraph:"in this document ${0} to be interpreted as described in ${1}.",normative_text_implementation:"An implementation of this specification that fails to implement a MUST/REQUIRED/SHALL requirement or fails to abide by a MUST NOT/SHALL NOT prohibition is considered nonconformant. SHOULD/SHOULD NOT/RECOMMENDED statements constitute a best practice. Ignoring a best practice does not violate conformance but a decision to disregard such guidance should be carefully considered. MAY/OPTIONAL statements indicate that implementers are entirely free to choose whether or not to implement the option.",normative_text_certification_constraints:'The <a href="#document-set">Conformance and Certification Guide</a> for this specification may introduce greater normative constraints than those defined here for specific service or implementation categories.'},es:{informative_text_paragraph_1:"Este documento es un recurso informativo dentro del Set de Documentos de la especificación {0} {1}",informative_text_paragraph_2:"Como tal, no incluye ningún requisito normativo. Las ocurrencias en este documento de términos como PUEDE, DEBE, NO DEBE, DEBERÍA o RECOMENDADO no tienen ningún impacto en los criterios de conformidad para los implementadores de esta especificación.",normative_text_paragraph_1:"Así como las secciones marcadas como no normativas, todas las directrices de autoría, diagramas, ejemplos y notas en esta especificación no son normativas. Todo lo demás en esta especificación es normativo.",key_word:"palabra clave",key_words:"palabras clave",is:"es",are:"son",the:"La",the_plural:"Las",keywords_paragraph:"en este documento ${0} interpretadas tal y como se describe en ${1}.",normative_text_implementation:"Una implementación de esta especificación que no implementa un requisito de DEBE/REQUERIDO/DEBERIA o no cumple con una prohibición de DEBE/NO DEBE se considera no conforme. Las declaraciones DEBERÍA/NO DEBERÍA/RECOMENDADO constituyen una buena práctica. Ignorar una buena práctica no viola la conformidad, pero la decisión de ignorar dicha guía debe considerarse cuidadosamente. Las declaraciones MAY/OPCIONAL indican que los implementadores son completamente libres de elegir si implementar o no la opción.",normative_text_certification_constraints:'La <a href="#document-set">Guía de Conformidad y Certificación</a> para esta especificación puede introducir restricciones normativas mayores que las definidas aquí para categorías específicas de servicio o implementación.'},ca:{informative_text_paragraph_1:"Aquest document és un recurs informatiu dins del Set de Documents de l'especificació {1}",informative_text_paragraph_2:"Com a tal, no inclou cap requisit normatiu. Les ocurrències en aquest document de termes com POT, HA DE, NO HA DE, o RECOMENAT no tenen cap impacte en els criteris de conformitat per als implementadors d'aquesta especificació.",normative_text_paragraph_1:"A més de les seccions marcades com a no normatives, totes les directrius d'autoria, diagrames, exemples i notes en aquesta especificació són no normatives. Tota la resta en aquesta especificació és normativa.",key_word:"paraula clau",key_words:"paraules clau",is:"és",are:"són",the:"La",the_plural:"Les",keywords_paragraph:"dins aquest document ${0} interpretades tal i com es descriu a ${1}.",normative_text_implementation:"Una implementació d'aquesta especificació que no implementi un requisit HA DE/REQUERIT/HAURIA DE o que no compleixi amb una prohibició HA DE/NO HA DE es considera inconformant. Les declaracions HAURIA DE/NO HAURIA DE/RECOMENAT constitueixen una bona práctica. Ignorar una bona pràctica no viola la conformitat, però s'ha de tenir en compte amb cura la decisió d'ignorar aquesta orientació. Les declaracions POT/OPCIONAL indiquen que els implementadors són totalment lliures de triar si implementar o no l'opció.",normative_text_certification_constraints:'La <a href="#document-set">Guia de Conformitat i Certificació</a> per a aquesta especificació pot introduir restriccions normatives més grans que les definides aquí per a categories específiques de serveis o d\'implementació.'}}),Da="1edtech/conformance";function Pa(e){fa.MUST=!0,fa["MUST NOT"]=!0,fa.REQUIRED=!0,fa.SHALL=!0,fa["SHALL NOT"]=!0,fa.SHOULD=!0,fa["SHOULD NOT"]=!0,fa.RECOMMENDED=!0,fa.MAY=!0,fa.OPTIONAL=!0;const t=[...Object.keys(fa)],n=(r=t.sort(),[].concat(dt(r,(e=>Ze`<em class="rfc2119">${e}</em>`))).map((e=>"string"==typeof e?Ze`${e}`:e)));var r;const o=t.length>1,a=Ze`<p>
      ${Oa.normative_text_paragraph_1}
    </p>
    ${t.length?Ze`
          <p>
          ${o?`${Oa.the_plural} ${Oa.key_words}`:`${Oa.the} ${Oa.key_word}`}
          ${[n]}
          ${Oa.keywords_paragraph.replace("{0}",o?Oa.are:Oa.is).replace("{1}",ca("RFC2119"))}
          </p>
        `:null}
    <p>${Oa.normative_text_implementation}</p>`;return e.skipCertGuideConformanceRef||"cert"==e.specType?a:Ze`${a}
    <p>
      ${Oa.normative_text_certification_constraints}
    </p>`}function qa(e,t){let n;t.normativeReferences.add("RFC2119"),"normative"===t.specNature?n=Pa(t):"informative"===t.specNature&&(n=function(e){return e.mainSpecTitle||Ot("No mainSpecTitle property found in config')",Da),e.mainSpecBiblioKey||Ot("No mainSpecBiblioKey property found in config')",Da),Ze` <p>
    ${Oa.informative_text_paragraph_1.replace("{0}",e.mainSpecTitle?e.mainSpecTitle:"").replace("{1}",e.mainSpecBiblioKey?ca(e.mainSpecBiblioKey):"")}.
    ${Oa.informative_text_paragraph_2}
  </p>`}(t)),"SECTION"===e.tagName?e.prepend(...n.childNodes):e.after(...n.childNodes)}var ja=Object.freeze({__proto__:null,name:Da,run:function(e){if("errata"===e.specType)return;let t=document.querySelector("section#conformance");if(t||(t=document.querySelector("section#conformance-0")),t||(t=document.querySelector("section #conformance")),t||(t=document.querySelector("section #conformance-0")),t){if(e.specNature||Lt("Document must have config.specNature set",Da),"SECTION"===t.tagName){const e=t.querySelector("h1, h2, h3, h4, h5, h6");e?t=e:Ot("No heading found in the conformance section",Da)}qa(t,e)}else{if("doc"===e.specType)return;Lt("No section found with id 'conformance'",Da)}}});function Ma(e,t,n,r){try{switch(t){case"element-attr":return document.createAttribute(e),!0;case"element":return document.createElement(e),!0}}catch(o){Lt(`Invalid ${t} name "${e}": ${o.message}`,r,{hint:`Check that the ${t} name is allowed per the XML's Name production for ${t}.`,elements:[n]})}return!1}function za(e,t,n,r){if(/^[a-z]+(-[a-z]+)*$/i.test(e))return!0;return Lt(`Invalid ${t} name "${e}".`,r,{hint:`Check that the ${t} name is allowed per the naming rules for this type.`,elements:[n]}),!1}const Fa=new Rt;function Ua(e,t){for(const n of t)Fa.has(n)||Fa.set(n,new Set),Fa.get(n).add(e)}const Ha="core/dfn",Ba=new Map([["abstract-op",{requiresFor:!1}],["attr-value",{requiresFor:!0,associateWith:"a markup attribute",validator:za}],["element",{requiresFor:!1,validator:Ma}],["element-attr",{requiresFor:!1,validator:Ma}],["element-state",{requiresFor:!0,associateWith:"a markup attribute",validator:za}],["event",{requiresFor:!1,validator:za}],["http-header",{requiresFor:!1}],["media-type",{requiresFor:!1,validator:function(e,t,n,r){try{const t=new nt(e);if(t.toString()!==e)throw new Error(`Input doesn't match its canonical form: "${t}".`)}catch(o){return Lt(`Invalid ${t} "${e}": ${o.message}.`,r,{hint:"Check that the MIME type has both a type and a sub-type, and that it's in a canonical form (e.g., `text/plain`).",elements:[n]}),!1}return!0}}],["scheme",{requiresFor:!1,validator:za}],["permission",{requiresFor:!1,validator:function(e,t,n,r){return e.startsWith('"')&&e.endsWith('"')?za(e.slice(1,-1),t,n,r):(Lt(`Invalid ${t} "${e}".`,r,{hint:`Check that the ${t} is quoted with double quotes.`,elements:[n]}),!1)}}]]),Wa=[...Ba.keys()];function Va(e,t){let n="";switch(!0){case Wa.some((t=>e.classList.contains(t))):n=[...e.classList].find((e=>Ba.has(e))),function(e,t,n){const r=Ba.get(t);if(r.requiresFor&&!n.dataset.dfnFor){const e=Mt`Definition of type "\`${t}\`" requires a ${"[data-dfn-for]"} attribute.`,{associateWith:o}=r,a=Mt`Use a ${"[data-dfn-for]"} attribute to associate this with ${o}.`;Lt(e,Ha,{hint:a,elements:[n]})}r.validator&&r.validator(e,t,n,Ha)}(t,n,e);break;case To.test(t):n=function(e,t){t.dataset.hasOwnProperty("idl")||(t.dataset.idl="");const n=t.closest("[data-dfn-for]");t!==n&&n?.dataset.dfnFor&&(t.dataset.dfnFor=n.dataset.dfnFor);if(!t.dataset.dfnFor){const n=Mt`Use a ${"[data-dfn-for]"} attribute to associate this dfn with a WebIDL interface.`;Lt(`Internal slot "${e}" must be associated with a WebIDL interface.`,Ha,{hint:n,elements:[t]})}t.matches(".export, [data-export]")||(t.dataset.noexport="");const r=e.endsWith(")")?"method":"attribute";if(!t.dataset.dfnType)return r;const o=["attribute","method"],{dfnType:a}=t.dataset;if(!o.includes(a)||r!==a){const n=Mt`Invalid ${"[data-dfn-type]"} attribute on internal slot.`,a=`The only allowed types are: ${function(e,{quotes:t}={quotes:!1}){return ft(e,t?e=>Pt(jt(e)):Pt)}(o,{quotes:!0})}. The slot "${e}" seems to be a "${Pt(r)}"?`;return Lt(n,Ha,{hint:a,elements:[t]}),"dfn"}return a}(t,e)}if(!n&&!e.matches("[data-dfn-type]")){const t=e.closest("[data-dfn-type]");n=t?.dataset.dfnType}n&&!e.dataset.dfnType&&(e.dataset.dfnType=n)}function Ya(e){switch(!0){case e.matches(".export.no-export"):Lt(Mt`Declares both "${"[no-export]"}" and "${"[export]"}" CSS class.`,Ha,{elements:[e],hint:"Please use only one."});break;case e.matches(".no-export, [data-noexport]"):if(e.matches("[data-export]")){Lt(Mt`Declares ${"[no-export]"} CSS class, but also has a "${"[data-export]"}" attribute.`,Ha,{elements:[e],hint:"Please chose only one."}),delete e.dataset.export}e.dataset.noexport="";break;case e.matches(":is(.export):not([data-noexport], .no-export)"):e.dataset.export=""}}var Ga=Object.freeze({__proto__:null,name:Ha,run:function(){for(const e of document.querySelectorAll("dfn")){const t=$t(e);if(Ua(e,t),e.dataset.cite&&/\b#\b/.test(e.dataset.cite))continue;const[n]=t;Va(e,n),Ya(e),1===t.length&&n===mt(e.textContent)||(e.dataset.lt=t.join("|"))}}});var Qa=Object.freeze({__proto__:null,name:"core/pluralize",run:function(e){if(!e.pluralize)return;const t=function(){const e=new Set;document.querySelectorAll("a:not([href])").forEach((t=>{const n=mt(t.textContent).toLowerCase();e.add(n),t.dataset.lt&&e.add(t.dataset.lt)}));const t=new Set,n=document.querySelectorAll("dfn:not([data-lt-noDefault])");return n.forEach((e=>{const n=mt(e.textContent).toLowerCase();t.add(n),e.dataset.lt&&e.dataset.lt.split("|").forEach((e=>t.add(e))),e.dataset.localLt&&e.dataset.localLt.split("|").forEach((e=>t.add(e)))})),function(n){const r=mt(n).toLowerCase(),o=rt.isSingular(r)?rt.plural(r):rt.singular(r);return e.has(o)&&!t.has(o)?o:""}}();document.querySelectorAll("dfn:not([data-lt-no-plural]):not([data-lt-noDefault])").forEach((e=>{const n=[e.textContent];e.dataset.lt&&n.push(...e.dataset.lt.split("|")),e.dataset.localLt&&n.push(...e.dataset.localLt.split("|"));const r=new Set(n.map(t).filter((e=>e)));if(r.size){const t=e.dataset.plurals?e.dataset.plurals.split("|"):[],n=[...new Set([...t,...r])];e.dataset.plurals=n.join("|"),Ua(e,n)}}))}});var Xa=String.raw`span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}`;const Ja=gt({en:{example:"Example"},nl:{example:"Voorbeeld"},es:{example:"Ejemplo"},ko:{example:"예시"},ja:{example:"例"},de:{example:"Beispiel"},zh:{example:"例"}});function Ka(e,t,n){n.title=e.title,n.title&&e.removeAttribute("title");const r=t>0?` ${t}`:"",o=n.title?Ze`<span class="example-title">: ${n.title}</span>`:"";return Ze`<div class="marker">
    <a class="self-link">${Ja.example}<bdi>${r}</bdi></a
    >${o}
  </div>`}var Za=Object.freeze({__proto__:null,name:"core/examples",run:function(){const e=document.querySelectorAll("pre.example, pre.illegal-example, aside.example");if(!e.length)return;document.head.insertBefore(Ze`<style>
      ${Xa}
    </style>`,document.querySelector("link"));let t=0;e.forEach((e=>{const n=e.classList.contains("illegal-example"),r={number:t,illegal:n},{title:o}=e;if("aside"===e.localName){++t;const n=Ka(e,t,r);e.prepend(n);const a=wt(e,"example",o||String(t));n.querySelector("a.self-link").href=`#${a}`}else{const n=!!e.closest("aside");n||++t,r.content=e.innerHTML,e.classList.remove("example","illegal-example");const a=e.id?e.id:null;a&&e.removeAttribute("id");const i=Ka(e,n?0:t,r),s=Ze`<div class="example" id="${a}">
        ${i} ${e.cloneNode(!0)}
      </div>`;wt(s,"example",o||String(t));s.querySelector("a.self-link").href=`#${s.id}`,e.replaceWith(s)}}))}});var ei=String.raw`.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-color:var(--warning-border,#f11);border-width:.2em;border-style:solid;background:#fbe9e9;background:var(--warning-bg,#fbe9e9);color:#000;color:var(--text,#000)}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}`;const ti="core/issues-notes",ni=gt({en:{editors_note:"Editor's note",feature_at_risk:"(Feature at Risk) Issue",issue:"Issue",issue_summary:"Issue summary",no_issues_in_spec:"There are no issues listed in this specification.",note:"Note",warning:"Warning"},ja:{note:"注",editors_note:"編者注",feature_at_risk:"(変更の可能性のある機能) Issue",issue:"Issue",issue_summary:"Issue の要約",no_issues_in_spec:"この仕様には未解決の issues は含まれていません．",warning:"警告"},nl:{editors_note:"Redactionele noot",issue_summary:"Lijst met issues",no_issues_in_spec:"Er zijn geen problemen vermeld in deze specificatie.",note:"Noot",warning:"Waarschuwing"},es:{editors_note:"Nota de editor",issue:"Cuestión",issue_summary:"Resumen de la cuestión",note:"Nota",no_issues_in_spec:"No hay problemas enumerados en esta especificación.",warning:"Aviso"},de:{editors_note:"Redaktioneller Hinweis",issue:"Frage",issue_summary:"Offene Fragen",no_issues_in_spec:"Diese Spezifikation enthält keine offenen Fragen.",note:"Hinweis",warning:"Warnung"},zh:{editors_note:"编者注",feature_at_risk:"（有可能变动的特性）Issue",issue:"Issue",issue_summary:"Issue 总结",no_issues_in_spec:"本规范中未列出任何 issue。",note:"注",warning:"警告"}});function ri(e,t,n){const r=function(){if(document.querySelector(".issue[data-number]"))return e=>{if(e.dataset.number)return Number(e.dataset.number)};let e=0;return t=>{if(t.classList.contains("issue")&&"span"!==t.localName)return++e}}(),o=document.createElement("ul");e.forEach((e=>{const{type:a,displayType:i,isFeatureAtRisk:s}=function(e){const t=e.classList.contains("issue"),n=e.classList.contains("warning"),r=e.classList.contains("ednote"),o=e.classList.contains("atrisk"),a=t?"issue":n?"warning":r?"ednote":"note",i=t?o?ni.feature_at_risk:ni.issue:n?ni.warning:r?ni.editors_note:ni.note;return{type:a,displayType:i,isFeatureAtRisk:o}}(e),c="issue"===a,l="span"===e.localName,{number:d}=e.dataset,u={type:a,inline:l,title:e.title,number:r(e)};if(!l){const r=Ze`<div class="${s?`${a} atrisk`:a}" role="${"note"===a?"note":null}"></div>`,l=document.createElement("span"),p=Ze`<div role="heading" class="${`${a}-title marker`}">${l}</div>`;wt(p,"h",a);let f,h=i;if(e.id?(r.id=e.id,e.removeAttribute("id")):wt(r,"issue-container",u.number?`number-${u.number}`:""),c){if(void 0!==u.number&&(h+=` ${u.number}`),e.dataset.hasOwnProperty("number")){const e=function(e,t,{isFeatureAtRisk:n=!1}={}){if(!n&&t.issueBase)return Ze`<a href="${t.issueBase+e}" />`;if(n&&t.atRiskBase)return Ze`<a href="${t.atRiskBase+e}" />`}(d,n,{isFeatureAtRisk:s});if(e&&(l.before(e),e.append(l)),l.classList.add("issue-number"),f=t.get(d),!f){Ot(`Failed to fetch issue number ${d}.`,ti)}f&&!u.title&&(u.title=f.title)}o.append(function(e,t,n){const r=`${e}${t.number?` ${t.number}`:""}`,o=t.title?Ze`<span style="text-transform: none">: ${t.title}</span>`:"";return Ze`<li><a href="${`#${n}`}">${r}</a>${o}</li>`}(ni.issue,u,r.id))}if(l.textContent=h,u.title){e.removeAttribute("title");const{repoURL:t=""}=n.github||{},o=f?f.labels:[];f&&"CLOSED"===f.state&&r.classList.add("closed"),p.append(function(e,t,n){const r=e.map((e=>function(e,t){const{color:n,name:r}=e,o=new URL("./issues/",t);o.searchParams.set("q",`is:issue is:open label:"${e.name}"`);const a=function(e){const[t,n,r]=[e.slice(0,2),e.slice(2,4),e.slice(4,6)],[o,a,i]=[t,n,r].map((e=>parseInt(e,16)/255)).map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4));return.2126*o+.7152*a+.0722*i>.179?"#000":"#fff"}(n),i=`background-color: #${n}; color: ${a}`,s=`GitHub label: ${r}`;return Ze` <a
    class="respec-gh-label"
    style="${i}"
    href="${o.href}"
    aria-label="${s}"
    >${r}</a
  >`}(e,n)));r.length&&r.unshift(document.createTextNode(" "));return Ze`<span class="issue-label">: ${t}${r}</span>`}(o,u.title,t))}let m=e;e.replaceWith(r),m.classList.remove(a),m.removeAttribute("data-number"),f&&!m.innerHTML.trim()&&(m=document.createRange().createContextualFragment(f.bodyHTML)),r.append(p,m);const g=kt(p,"section").length+2;p.setAttribute("aria-level",g)}})),function(e){const t=document.getElementById("issue-summary");if(!t)return;const n=t.querySelector("h2, h3, h4, h5, h6");e.hasChildNodes()?t.append(e):t.append(Ze`<p>${ni.no_issues_in_spec}</p>`),(!n||n&&n!==t.firstElementChild)&&t.insertAdjacentHTML("afterbegin",`<h1>${ni.issue_summary}</h1>`)}(o)}var oi=Object.freeze({__proto__:null,name:ti,run:async function(e){const t=document.querySelectorAll(".issue, .note, .warning, .ednote"),n=Array.from(t).filter((e=>e instanceof HTMLElement));if(!n.length)return;const r=await async function(e){if(!e||!e.apiBase)return new Map;const t=[...document.querySelectorAll(".issue[data-number]")].map((e=>Number.parseInt(e.dataset.number,10))).filter((e=>e));if(!t.length)return new Map;const n=new URL("issues",`${e.apiBase}/${e.fullName}/`);n.searchParams.set("issues",t.join(","));const r=await fetch(n.href);if(!r.ok)return Lt(`Error fetching issues from GitHub. (HTTP Status ${r.status}).`,ti),new Map;const o=await r.json();return new Map(Object.entries(o))}(e.github),{head:o}=document;o.insertBefore(Ze`<style>
      ${ei}
    </style>`,o.querySelector("link")),ri(n,r,e),document.querySelectorAll(".ednote").forEach((e=>{e.classList.remove("ednote"),e.classList.add("note")}))}});var ai=Object.freeze({__proto__:null,name:"1edtech/issues-notes",run:async function(e){document.body.querySelectorAll("aside.issue, div.aside.issue").length>0&&("Final Release"==e.specStatus?o("error","Issue asides must not be present when the status is 'Final Release'"):"Candidate Final"==e.specStatus&&o("warn","Issue asides should not be present when the status is 'Candidate Final'")),document.body.querySelectorAll("aside.note, aside.ednote, aside.warning, aside.issue,  div.aside.note, div.aside.ednote div.aside.warning, div.aside.issue").forEach((e=>{const t=function(e){if(e.classList.contains("note"))return"note";if(e.classList.contains("warning"))return"warning";if(e.classList.contains("issue"))return"issue";return"info"}(e);e.setAttribute("role","note"),e.classList.add("admonition"),e.hasAttribute("id")||wt(e);const n=Vn(`<div class='admon-top'>${t}</div>`).parentElement.firstElementChild;n.classList.add(`${t}-title`),e.insertAdjacentElement("afterbegin",n)}))}});const ii="core/best-practices",si={en:{best_practice:"Best Practice "},ja:{best_practice:"最良実施例 "},de:{best_practice:"Musterbeispiel "},zh:{best_practice:"最佳实践 "}},ci=gt(si),li=l in si?l:"en";var di=Object.freeze({__proto__:null,name:ii,run:function(){const e=document.querySelectorAll(".practicelab"),t=document.getElementById("bp-summary"),n=t?document.createElement("ul"):null;if([...e].forEach(((e,t)=>{const r=wt(e,"bp"),o=Ze`<a class="marker self-link" href="${`#${r}`}"
      ><bdi lang="${li}">${ci.best_practice}${t+1}</bdi></a
    >`;if(n){const t=Ze`<li>${o}: ${Tt(e)}</li>`;n.appendChild(t)}const a=e.closest("div");if(!a)return void e.classList.add("advisement");a.classList.add("advisement");const i=Ze`${o.cloneNode(!0)}: ${e}`;a.prepend(...i.childNodes)})),e.length)t&&(t.appendChild(Ze`<h1>Best Practices Summary</h1>`),t.appendChild(n));else if(t){Ot("Using best practices summary (#bp-summary) but no best practices found.",ii),t.remove()}}});const ui="core/figures",pi=gt({en:{list_of_figures:"List of Figures",fig:"Figure "},ja:{fig:"図 ",list_of_figures:"図のリスト"},ko:{fig:"그림 ",list_of_figures:"그림 목록"},nl:{fig:"Figuur ",list_of_figures:"Lijst met figuren"},es:{fig:"Figura ",list_of_figures:"Lista de Figuras"},zh:{fig:"图 ",list_of_figures:"规范中包含的图"},de:{fig:"Abbildung",list_of_figures:"Abbildungsverzeichnis"}});var fi=Object.freeze({__proto__:null,name:ui,run:function(){const e=function(){const e=[];return document.querySelectorAll("figure").forEach(((t,n)=>{const r=t.querySelector("figcaption");if(r)!function(e,t,n){const r=t.textContent;wt(e,"fig",r),Et(t,Ze`<span class="fig-title"></span>`),t.prepend(Ze`<a class="self-link" href="#${e.id}"
      >${pi.fig}<bdi class="figno">${n+1}</bdi></a
    >`," ")}(t,r,n),e.push(function(e,t){const n=t.cloneNode(!0);return n.querySelectorAll("a").forEach((e=>{_t(e,"span").removeAttribute("href")})),Ze`<li class="tofline">
    <a class="tocxref" href="${`#${e}`}">${n.childNodes}</a>
  </li>`}(t.id,r));else{Ot("Found a `<figure>` without a `<figcaption>`.",ui,{elements:[t]})}})),e}(),t=document.getElementById("tof");e.length&&t&&(!function(e){if(e.classList.contains("appendix")||e.classList.contains("introductory")||e.closest("section"))return;const t=function(e){const t=[];for(const n of function*(e){let t=e;for(;t.previousElementSibling;)t=t.previousElementSibling,yield t}(e))"section"===n.localName&&t.push(n);return t}(e);t.every((e=>e.classList.contains("introductory")))?e.classList.add("introductory"):t.some((e=>e.classList.contains("appendix")))&&e.classList.add("appendix")}(t),t.append(Ze`<h1>${pi.list_of_figures}</h1>`,Ze`<ul class="tof">
        ${e}
      </ul>`))}});const hi="1edtech/biblio";var mi=Object.freeze({__proto__:null,name:hi,run:async function(e){let t="https://purl.imsglobal.org/spec/ims-biblio.json";if(e.overrideIMSbiblioLocation&&(t=e.overrideIMSbiblioLocation),!e.disableFetchIMSbiblio)try{const n=await fetch(t,{mode:"cors"});if(!n.ok)throw new Error(n.statusText);const r=await n.json();e.localBiblio=Object.assign(e.localBiblio||{},r)}catch(e){Ot("Failed to fetch IMS biblio data: "+e.toString(),hi)}}});const gi="core/data-cite",bi="__SPEC__";async function yi(e){const{key:t,frag:n,path:r,href:o}=e;let a="",i="";if(t===bi)a=document.location.href;else{const e=await Zo(t);if(!e)return null;a=e.href,i=e.title}if(o)a=o;else{if(r){const e=r.startsWith("/")?`.${r}`:r;a=new URL(e,a).href}n&&(a=new URL(n,a).href)}return{href:a,title:i}}function vi(e,t,n){const{href:r,title:o}=t,a=!n.path&&!n.frag;switch(e.localName){case"a":{const t=e;if(""===t.textContent&&"the-empty-string"!==t.dataset.lt&&(t.textContent=o),t.href=r,a){const e=document.createElement("cite");t.replaceWith(e),e.append(t)}break}case"dfn":{const t=document.createElement("a");if(t.href=r,t.dataset.cite=n.key,t.dataset.citePath=n.path,t.dataset.citeFrag=n.frag,e.textContent?Et(e,t):(t.textContent=o,e.append(t)),a){const n=document.createElement("cite");n.append(t),e.append(n)}if("export"in e.dataset){Lt("Exporting a linked external definition is not allowed.",gi,{hint:"Please remove the `data-export` attribute.",elements:[e]}),delete e.dataset.export}e.classList.add("externalDFN"),e.dataset.noExport="";break}}}function wi(e){return t=>{const n=t.search(e);return-1!==n?t.substring(n):""}}const $i=wi("#"),_i=wi("/");function xi(e){const{dataset:t}=e,{cite:n,citeFrag:r,citePath:o,citeHref:a}=t;if(n.startsWith("#")&&!r){const r=e.parentElement.closest('[data-cite]:not([data-cite^="#"])'),{key:o,isNormative:a}=r?xi(r):{key:bi,isNormative:!1};return t.cite=a?o:`?${o}`,t.citeFrag=n.replace("#",""),xi(e)}const i=r?`#${r}`:$i(n),s=o||_i(n).split("#")[0],{type:c}=xt(n,e),l="normative"===c,d=/^[?|!]/.test(n);return{key:n.split(/[/|#]/)[0].substring(Number(d)),isNormative:l,frag:i,path:s,href:a}}function Ei(e){const t=["data-cite","data-cite-frag","data-cite-path"];e.querySelectorAll("a[data-cite], dfn[data-cite]").forEach((e=>t.forEach((t=>e.removeAttribute(t)))))}var ki=Object.freeze({__proto__:null,THIS_SPEC:bi,name:gi,run:async function(){const e=document.querySelectorAll("dfn[data-cite]:not([data-cite='']), a[data-cite]:not([data-cite=''])");await async function(e){const t=e.map(xi).map((async e=>({entry:e,result:await Zo(e.key)}))),n=(await Promise.all(t)).filter((({result:e})=>null===e)).map((({entry:{key:e}})=>e)),r=await Ko(n);r&&Object.assign(Yo,r)}([...e]);for(const t of e){const e=t.dataset.cite,n=xi(t),r=await yi(n);if(r)vi(t,r,n);else{const n=`Couldn't find a match for "${e}"`;t.dataset.matchedText&&(t.textContent=t.dataset.matchedText),Ot(n,gi,{elements:[t]})}}a("beforesave",Ei)},toCiteDetails:xi});const Ai="core/link-to-dfn",Si=[],Ti=gt({en:{duplicateMsg:e=>`Duplicate definition(s) of '${e}'`,duplicateTitle:"This is defined more than once in the document."},ja:{duplicateMsg:e=>`'${e}' の重複定義`,duplicateTitle:"この文書内で複数回定義されています．"},de:{duplicateMsg:e=>`Mehrfache Definition von '${e}'`,duplicateTitle:"Das Dokument enthält mehrere Definitionen dieses Eintrags."},zh:{duplicateMsg:e=>`'${e}' 的重复定义`,duplicateTitle:"在文档中有重复的定义。"}});function Ci(e){const t=new Map,n=[];for(const r of Fa.get(e)){const{dfnType:o="dfn"}=r.dataset,a=r.dataset.dfnFor?.split(",").map((e=>e.trim()))??[""];for(const i of a){if(t.has(i)&&t.get(i).has(o)){const e=t.get(i).get(o),a="dfn"===e.localName,s="dfn"===r.localName,c=o===(e.dataset.dfnType||"dfn"),l=!i&&!e.dataset.dfnFor||e.dataset.dfnFor?.split(",").map((e=>e.trim())).includes(i);if(a&&s&&c&&l){n.push(r);continue}}t.has(i)||t.set(i,new Map),t.get(i).set(o,r),("idl"in r.dataset||"dfn"!==o)&&t.get(i).set("idl",r),wt(r,"dfn",e)}}return{result:t,duplicates:n}}function Ii(e,t){const n=function(e){const t=e.closest("[data-link-for]"),n=t?t.dataset.linkFor:"";return $t(e).reduce(((e,r)=>{const o=r.split(".");return 2===o.length&&e.push({for:o[0],title:o[1]}),e.push({for:n,title:r}),t||e.push({for:r,title:r}),""!==n&&e.push({for:"",title:r}),e}),[])}(e).find((e=>t.has(e.title)&&t.get(e.title).has(e.for)));if(!n)return;const r=t.get(n.title).get(n.for),{linkType:o}=e.dataset;if(o){for(const e of o.split("|"))if(r.get(e))return r.get(e);return r.get("dfn")}{const e=n.for?"idl":"dfn";return r.get(e)||r.get("idl")}}function Ri(e,t,n){let r=!1;const{linkFor:o}=e.dataset,{dfnFor:a}=t.dataset;if(t.dataset.cite)e.dataset.cite=t.dataset.cite;else if(o&&!n.get(o)&&a&&!a.split(",").map((e=>e.trim())).includes(o))r=!0;else if(t.classList.contains("externalDFN")){const n=t.dataset.lt?t.dataset.lt.split("|"):[];e.dataset.lt=n[0]||t.textContent,r=!0}else"partial"!==e.dataset.idl?(e.href=`#${t.id}`,e.classList.add("internalDFN")):r=!0;return e.hasAttribute("data-link-type")||(e.dataset.linkType="idl"in t.dataset?"idl":"dfn"),function(e){if(e.closest("code,pre"))return!0;if(1!==e.childNodes.length)return!1;const[t]=e.childNodes;return"code"===t.localName}(t)&&function(e,t){const n=e.textContent.trim(),r=t.dataset.hasOwnProperty("idl"),o=Ni(e)&&Ni(t,n);r&&!o||Et(e,document.createElement("code"))}(e,t),!r}function Ni(e,t=""){if("a"===e.localName){if(!e.querySelector("code"))return!0}else{const{dataset:n}=e;if(e.textContent.trim()===t)return!0;if(n.title===t)return!0;if(n.lt||n.localLt){const e=[];return n.lt&&e.push(...n.lt.split("|")),n.localLt&&e.push(...n.localLt.split("|")),e.includes(t)}}return!1}function Li(e){e.forEach((e=>{Ot(`Found linkless \`<a>\` element with text "${e.textContent}" but no matching \`<dfn>\``,Ai,{title:"Linking error: not matching `<dfn>`",elements:[e]})}))}var Oi=Object.freeze({__proto__:null,name:Ai,possibleExternalLinks:Si,run:async function(e){const t=function(){const e=new Rt;for(const t of Fa.keys()){const{result:n,duplicates:r}=Ci(t);e.set(t,n),r.length>0&&Lt(Ti.duplicateMsg(t),Ai,{title:Ti.duplicateTitle,elements:r})}return e}(),n=[],r=document.querySelectorAll("a[data-cite=''], a:not([href]):not([data-cite]):not(.logo):not(.externalDFN)");for(const e of r){if(!e.dataset?.linkType&&e.dataset?.xrefType){Si.push(e);continue}const r=Ii(e,t);if(r){Ri(e,r,t)||Si.push(e)}else""===e.dataset.cite?n.push(e):Si.push(e)}Li(n),function(e){const{shortName:t=""}=e,n=new RegExp(String.raw`^([?!])?${t}\b([^-])`,"i"),r=document.querySelectorAll("dfn[data-cite]:not([data-cite='']), a[data-cite]:not([data-cite=''])");for(const t of r){t.dataset.cite=t.dataset.cite.replace(n,`$1${bi}$2`);const{key:r,isNormative:o}=xi(t);r!==bi&&(o||e.normativeReferences.has(r)?(e.normativeReferences.add(r),e.informativeReferences.delete(r)):e.informativeReferences.add(r))}}(e),e.xref||Li(Si)}});const Di="xrefs",Pi=3e5;async function qi(){return await et.openDB("xref",2,{upgrade(e){[...e.objectStoreNames].forEach((t=>e.deleteObjectStore(t)));e.createObjectStore(Di,{keyPath:"query.id"}).createIndex("byTerm","query.term",{unique:!1})}})}async function ji(e){const t=new Map;if(await async function(){const e="XREF:LAST_VERSION_CHECK",t=parseInt(localStorage.getItem(e),10),n=Date.now();if(!t)return localStorage.setItem(e,n.toString()),!1;if(n-t<Pi)return!1;const r=new URL("meta/version",Fi).href,o=await fetch(r);if(!o.ok)return!1;const a=await o.text();return localStorage.setItem(e,n.toString()),parseInt(a,10)>t}())return await async function(){try{await qi().then((e=>e.clear(Di)))}catch(e){console.error(e)}}(),t;const n=new Set(e.map((e=>e.id)));try{const e=await qi();let r=await e.transaction(Di).store.openCursor();for(;r;)n.has(r.key)&&t.set(r.key,r.value.result),r=await r.continue()}catch(e){console.error(e)}return t}const Mi="core/xref",zi={"web-platform":["HTML","INFRA","URL","WEBIDL","DOM","FETCH"]},Fi="https://respec.org/xref/",Ui=[];if(!document.querySelector("link[rel='preconnect'][href='https://respec.org']")){const e=st({hint:"preconnect",href:"https://respec.org"});document.head.appendChild(e)}function Hi(e){const t="xrefType"in e.dataset;let n=Bi(e);t||(n=n.toLowerCase());const r=function(e){const t=[];let n=e.closest("[data-cite]");for(;n;){const r=n.dataset.cite.toLowerCase().replace(/[!?]/g,"").split(/\s+/).filter((e=>e));if(r.length&&t.push(r),n===e)break;n=n.parentElement.closest("[data-cite]")}if(n!==e){const n=e.closest("section"),r=[...n?n.querySelectorAll("a.bibref"):[]].map((e=>e.textContent.toLowerCase()));r.length&&t.push(r)}const r=function(e){const t=[];for(const n of e){const e=t[t.length-1]||[],r=[...new Set(n)].filter((t=>!e.includes(t)));t.push(r.sort())}return t}(t);return r}(e),o=function(e,t){if(t)return e.dataset.xrefType?e.dataset.xrefType.split("|"):["_IDL_"];return["_CONCEPT_"]}(e,t),a=function(e,t){if(e.dataset.xrefFor)return mt(e.dataset.xrefFor);if(t){const t=e.closest("[data-xref-for]");if(t)return mt(t.dataset.xrefFor)}return null}(e,t);return{id:"",term:n,types:o,...r.length&&{specs:r},..."string"==typeof a&&{for:a}}}function Bi(e){const{lt:t}=e.dataset;let n=t?t.split("|",1)[0]:e.textContent;return n=mt(n),"the-empty-string"===n?"":n}function Wi(e,t,n,r){const{term:o,specs:a=[]}=t,{uri:i,shortname:s,spec:c,normative:l,type:d,for:u}=n,p=a.flat().includes(c)?c:s,f=new URL(i,"https://partial"),{pathname:h}=f,m={cite:p,citePath:h,citeFrag:f.hash.slice(1),type:d};u&&(m.linkFor=u[0]),f.origin&&"https://partial"!==f.origin&&(m.citeHref=f.href),Object.assign(e.dataset,m),function(e,t,n,r,o){const a=function(e){const t=e.closest(".normative"),n=e.closest(it);return!n||e===t||t&&n&&n.contains(t)}(e);if(!a)return void(o.normativeReferences.has(t)||o.informativeReferences.add(t));if(n){const e=o.informativeReferences.has(t)?o.informativeReferences.getCanonicalKey(t):t;return o.normativeReferences.add(e),void o.informativeReferences.delete(e)}Ui.push({term:r,spec:t,element:e})}(e,p,l,o,r)}function Vi(e){const t=JSON.stringify(e,Object.keys(e).sort()),n=(new TextEncoder).encode(t);return crypto.subtle.digest("SHA-1",n).then(Yi)}function Yi(e){return[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}function Gi(e){const t=e.querySelectorAll("a[data-xref-for], a[data-xref-type], a[data-link-for]"),n=["data-xref-for","data-xref-type","data-link-for"];t.forEach((e=>{n.forEach((t=>e.removeAttribute(t)))}))}var Qi=Object.freeze({__proto__:null,API_URL:Fi,getTermFromElement:Bi,informativeRefsInNormative:Ui,name:Mi,run:async function(e){if(!e.xref)return;const t=function(e){const t={url:new URL("search/",Fi).href,specs:null},n=Object.assign({},t);switch(Array.isArray(e)?"array":typeof e){case"boolean":break;case"string":e.toLowerCase()in zi?Object.assign(n,{specs:zi[e.toLowerCase()]}):r(e);break;case"array":Object.assign(n,{specs:e});break;case"object":if(Object.assign(n,e),e.profile){const t=e.profile.toLowerCase();if(t in zi){const r=(e.specs??[]).concat(zi[t]);Object.assign(n,{specs:r})}else r(e.profile)}break;default:Lt(`Invalid value for \`xref\` configuration option. Received: "${e}".`,Mi)}return n;function r(e){Lt(`Invalid profile "${e}" in \`respecConfig.xref\`. Please use one of the supported profiles: ${ft(Object.keys(zi),(e=>`"${e}"`))}.`,Mi)}}(e.xref);if(t.specs){const e=document.body.dataset.cite?document.body.dataset.cite.split(/\s+/):[];document.body.dataset.cite=e.concat(t.specs).join(" ")}const n=Si.concat(function(){const e=document.querySelectorAll(":is(a,dfn)[data-cite]:not([data-cite=''],[data-cite*='#'])"),t=document.querySelectorAll("dfn.externalDFN");return[...e].filter((e=>{if(""===e.textContent.trim())return!1;const t=e.closest("[data-cite]");return!t||""!==t.dataset.cite})).concat(...t)}());if(!n.length)return;const r=[];for(const e of n){const t=Hi(e);t.id=await Vi(t),r.push(t)}const o=await async function(e,t){const n=new Set,r=e.filter((e=>!n.has(e.id)&&(n.add(e.id)&&!0))),o=await ji(r),a=r.filter((e=>!o.get(e.id))),i=await async function(e,t){if(!e.length)return new Map;const n={method:"POST",body:JSON.stringify({queries:e}),headers:{"Content-Type":"application/json"}},r=await fetch(t,n),o=await r.json();return new Map(o.results.map((({id:e,result:t})=>[e,t])))}(a,t);i.size&&await async function(e,t){try{const n=(await qi()).transaction(Di,"readwrite");for(const r of e){const e=t.get(r.id);n.objectStore(Di).add({query:r,result:e})}await n.done}catch(e){console.error(e)}}(r,i);return new Map([...o,...i])}(r,t.url);!function(e,t,n,r){const o={ambiguous:new Map,notFound:new Map};for(let a=0,i=e.length;a<i;a++){if(e[a].closest("[data-no-xref]"))continue;const i=e[a],s=t[a],{id:c}=s,l=n.get(c);if(1===l.length)Wi(i,s,l[0],r);else{const e=o[0===l.length?"notFound":"ambiguous"];e.has(c)||e.set(c,{elems:[],results:l,query:s}),e.get(c).elems.push(i)}}!function({ambiguous:e,notFound:t}){const n=(e,t,n=[])=>{const r=new URL(Fi);return r.searchParams.set("term",e),t.for&&r.searchParams.set("for",t.for),r.searchParams.set("types",t.types.join(",")),n.length&&r.searchParams.set("specs",n.join(",")),r.href},r=(e,t)=>Mt`[See search matches for "${t}"](${e}) or ${"[Learn about this error|#error-term-not-found]"}.`;for(const{query:e,elems:o}of t.values()){const t=e.specs?[...new Set(e.specs.flat())].sort():[],a=Bi(o[0]),i=n(a,e),s=pt(t,(e=>`**[${e}]**`)),c=r(i,a);Lt(`Couldn't find "**${a}**"${e.for?`, for **"${e.for}"**, `:""} in this document or other cited documents: ${s}.`,Mi,{title:"No matching definition found.",elements:o,hint:c})}for(const{query:t,elems:o,results:a}of e.values()){const e=[...new Set(a.map((e=>e.shortname)))].sort(),i=pt(e,(e=>`**[${e}]**`)),s=Bi(o[0]),c=n(s,t,e),l=t.for?`, for **"${t.for}"**, `:"",d=r(c,s),u=Mt`To fix, use the ${"[data-cite]"} attribute to pick the one you mean from the appropriate specification.`+String.raw` ${d}`;Lt(`The term "**${s}**"${l} is ambiguous because it's defined in ${i}.`,Mi,{title:"Definition is ambiguous.",elements:o,hint:u})}}(o)}(n,r,o,e),a("beforesave",Gi)}});var Xi=String.raw`ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}`;const Ji=gt({en:{heading:"Index",headingExternal:"Terms defined by reference",headlingLocal:"Terms defined by this specification",dfnOf:"definition of"}}),Ki=new Set(["attribute","callback","dict-member","dictionary","element-attr","element","enum-value","enum","exception","extended-attribute","interface","method","typedef"]);function Zi(e){const t=e.dataset,n=t.dfnType||t.idl||t.linkType||"";switch(n){case"":case"dfn":return"";default:return n}}function es(e){const t=e.closest("[data-dfn-for]:not([data-dfn-for=''])");return t?t.dataset.dfnFor:""}function ts(e,t,n=""){if(n.startsWith("[[")){return`internal slot for <code>${es(e)}</code>`}switch(t){case"dict-member":case"method":case"attribute":case"enum-value":return`${"dict-member"===t?"member":t.replace("-"," ")} for <code>${es(e)}</code>`;case"interface":case"dictionary":case"enum":return t;case"constructor":return`for <code>${es(e)}</code>`;default:return""}}function ns(){document.querySelectorAll("#index-defined-here li[data-id]").forEach((e=>e.append((e=>{const t=`§${document.getElementById(e).closest("section").querySelector(".secno").textContent.trim()}`;return Ze`<span class="print-only">${t}</span>`})(e.dataset.id))))}function rs(){const e=new Set,t=new Map,n=document.querySelectorAll("a[data-cite]");for(const r of n){if(!r.dataset.cite)continue;const{cite:n,citeFrag:o,xrefType:a,linkType:i}=r.dataset;if(!(a||i||n.includes("#")||o))continue;const s=r.href;if(e.has(s))continue;const{type:c,linkFor:l}=r.dataset,d=Bi(r);if(!d)continue;const u=xi(r).key.toUpperCase();(t.get(u)||t.set(u,[]).get(u)).push({term:d,type:c,linkFor:l,elem:r}),e.add(s)}return t}function os(e){const{elem:t}=e,n=function(e){const{term:t,type:n,linkFor:r}=e;let o=ht(t);Ki.has(n)&&("extended-attribute"===n&&(o=`[${o}]`),o=`<code>${o}</code>`);const a=is.has(t)?"type":as.get(n);a&&(o+=` ${a}`);if(r){let e=r;/\s/.test(r)||(e=`<code>${e}</code>`),"element-attr"===n&&(e+=" element"),o+=` (for ${e})`}return o}(e);return Ze`<li>
    <span class="index-term" data-href="${t.href}">${{html:n}}</span>
  </li>`}const as=new Map([["attribute","attribute"],["element-attr","attribute"],["element","element"],["enum","enum"],["exception","exception"],["extended-attribute","extended attribute"],["interface","interface"]]),is=new Set(["boolean","byte","octet","short","unsigned short","long","unsigned long","long long","unsigned long long","float","unrestricted float","double","unrestricted double","undefined","any","object","symbol"]);function ss(e){e.querySelectorAll("#index-defined-elsewhere li[data-spec]").forEach((e=>e.removeAttribute("data-spec"))),e.querySelectorAll("#index-defined-here li[data-id]").forEach((e=>e.removeAttribute("data-id")))}var cs=Object.freeze({__proto__:null,name:"core/dfn-index",run:function(){const e=document.querySelector("section#index");if(!e)return void a("toc",(()=>{}),{once:!0});const t=document.createElement("style");t.textContent=Xi,document.head.appendChild(t),e.classList.add("appendix"),e.querySelector("h2, h1")||e.prepend(Ze`<h1>${Ji.heading}</h1>`);const n=Ze`<section id="index-defined-here">
    <h3>${Ji.headlingLocal}</h3>
    ${function(){const e=function(){const e=new Map,t=document.querySelectorAll("dfn:not([data-cite])");for(const n of t){if(!n.id)continue;const t=mt(n.textContent);(e.get(t)||e.set(t,[]).get(t)).push(n)}const n=[...e].sort((([e],[t])=>e.slice(e.search(/\w/)).localeCompare(t.slice(t.search(/\w/)))));return n}();return Ze`<ul class="index">
    ${e.map((([e,t])=>function(e,t){const n=(e,t,n)=>{const r=`#${e.id}`;return Ze`<li data-id=${e.id}>
      <a class="index-term" href="${r}">${{html:t}}</a> ${n?{html:n}:""}
    </li>`};if(1===t.length){const r=t[0],o=Zi(r),a=function(e,t,n){let r=n;"enum-value"===t&&(r=`"${r}"`);(Ki.has(t)||e.dataset.idl||e.closest("code"))&&(r=`<code>${r}</code>`);return r}(r,o,e),i=ts(r,o,e);return n(r,a,i)}return Ze`<li>
    ${e}
    <ul>
      ${t.map((t=>{const r=ts(t,Zi(t),e)||Ji.dfnOf;return n(t,r)}))}
    </ul>
  </li>`}(e,t)))}
  </ul>`}()}
  </section>`;e.append(n);const r=Ze`<section id="index-defined-elsewhere">
    <h3>${Ji.headingExternal}</h3>
    ${function(){const e=[...rs().entries()].sort((([e],[t])=>e.localeCompare(t)));return Ze`<ul class="index">
    ${e.map((([e,t])=>Ze`<li data-spec="${e}">
        ${ca(e)} defines the following:
        <ul>
          ${t.sort(((e,t)=>e.term.localeCompare(t.term))).map(os)}
        </ul>
      </li>`))}
  </ul>`}()}
  </section>`;e.append(r);for(const e of r.querySelectorAll(".index-term"))wt(e,"index-term");a("toc",ns,{once:!0}),a("beforesave",ss)}});const ls=gt({en:{title:"List of Contributors",intro:"The following individuals contributed to the development of this document:",summary:"The list of contributors to this work.",name:"Name",organization:"Organization",role:"Role"},es:{title:"Lista de Colaboradores",intro:"Las siguientes personas contribuyeron al desarrollo de este documento:",summary:"La lista de colaboradores de este trabajo.",name:"Nombre",organization:"Organización",role:"Rol"},ca:{title:"Llista de Col&middot;laboradors",intro:"Les persones següents van contribuir al desenvolupament d'aquest treball:",summary:"La llista de col&middot;laboradors d'aquest treball.",name:"Nomb",organization:"Organització",role:"Rol"}});var ds=Object.freeze({__proto__:null,name:"1edtech/contrib",run:async function(e){if(e.contributors&&"errata"!==e.specType){const t=function(e){let t=!1;return e.forEach((e=>{e.role&&e.role.trim().length>0&&(t=!0)})),t}(e.contributors),n=Vn(`<section id='contributors' class="appendix">\n    <h2>${ls.title}</h2>\n    <p>${ls.intro}</p>\n    <table class="contributors" title="${ls.title}"\n      summary="${ls.summary}">\n      <thead>\n        <th>${ls.name}</th>\n        <th>${ls.organization}</th>\n        ${t?`<th>${ls.role}</th>`:""}\n      </thead>\n      <tbody>\n          ${function(e,t){let n="";return e.forEach((e=>{n+=`<tr><td class='name'>${e.name}</td>`,n+="<td class='co'>",e.company&&(n+=e.company),n+="</td>",t&&(n+="<td class='role'>",e.role&&(n+=e.role),n+="</td>"),n+="</tr>"})),n}(e.contributors,t)}\n      </tbody>\n    </table>\n    </section>`);document.body.appendChild(n)}}});var us=Object.freeze({__proto__:null,name:"core/fix-headers",run:function(){[...document.querySelectorAll("section:not(.introductory)")].map((e=>e.querySelector("h1, h2, h3, h4, h5, h6"))).filter((e=>e)).forEach((e=>{const t=Math.min(function(e,t){const n=[];for(;e!=e.ownerDocument.body;)e.matches(t)&&n.push(e),e=e.parentElement;return n}(e,"section").length+1,6);_t(e,`h${t}`)}))}});const ps=["h2","h3","h4","h5","h6"],fs="core/structure",hs=gt({en:{toc:"Table of Contents"},zh:{toc:"内容大纲"},ko:{toc:"목차"},ja:{toc:"目次"},nl:{toc:"Inhoudsopgave"},es:{toc:"Tabla de Contenidos"},de:{toc:"Inhaltsverzeichnis"}});function ms(e,t,{prefix:n=""}={}){let r=!1,o=0,a=1;if(n.length&&!n.endsWith(".")&&(n+="."),0===e.length)return null;const i=Ze`<ol class="toc"></ol>`;for(const s of e){!s.isAppendix||n||r||(o=a,r=!0);let e=s.isIntro?"":r?gs(a-o+1):n+a;const c=e.split(".").length;if(1===c&&(e+=".",s.header.before(document.createComment("OddPage"))),s.isIntro||(a+=1,s.header.prepend(Ze`<bdi class="secno">${e} </bdi>`)),c<=t){const n=s.header.id||s.element.id,r=ys(s.header,n),o=ms(s.subsections,t,{prefix:e});o&&r.append(o),i.append(r)}}return i}function gs(e){let t="";for(;e>0;)e-=1,t=String.fromCharCode(65+e%26)+t,e=Math.floor(e/26);return t}function bs(e){const t=e.querySelectorAll(":scope > section"),n=[];for(const e of t){const t=e.classList.contains("notoc");if(!e.children.length||t)continue;const r=e.children[0];if(!ps.includes(r.localName))continue;const o=r.textContent;wt(e,null,o),n.push({element:e,header:r,title:o,isIntro:Boolean(e.closest(".introductory")),isAppendix:e.classList.contains("appendix"),subsections:bs(e)})}return n}function ys(e,t){const n=Ze`<a href="${`#${t}`}" class="tocxref" />`;var r;return n.append(...e.cloneNode(!0).childNodes),(r=n).querySelectorAll("a").forEach((e=>{const t=_t(e,"span");t.className="formerLink",t.removeAttribute("href")})),r.querySelectorAll("dfn").forEach((e=>{_t(e,"span").removeAttribute("id")})),Ze`<li class="tocline">${n}</li>`}var vs=Object.freeze({__proto__:null,name:fs,run:function(e){if("maxTocLevel"in e==!1&&(e.maxTocLevel=1/0),function(){const e=[...document.querySelectorAll("section:not(.introductory) :is(h1,h2,h3,h4,h5,h6):first-child")].filter((e=>!e.closest("section.introductory")));if(!e.length)return;e.forEach((e=>{const t=`h${Math.min(kt(e,"section").length+1,6)}`;e.localName!==t&&_t(e,t)}))}(),!e.noTOC){!function(){const e=document.querySelectorAll("section[data-max-toc]");for(const t of e){const e=parseInt(t.dataset.maxToc,10);if(e<0||e>6||Number.isNaN(e)){Lt("`data-max-toc` must have a value between 0-6 (inclusive).",fs,{elements:[t]});continue}if(0===e){t.classList.add("notoc");continue}const n=t.querySelectorAll(`:scope > ${Array.from({length:e},(()=>"section")).join(" > ")}`);for(const e of n)e.classList.add("notoc")}}();const t=ms(bs(document.body),e.maxTocLevel);t&&function(e){if(!e)return;const t=Ze`<nav id="toc"></nav>`,n=Ze`<h2 class="introductory">${hs.toc}</h2>`;wt(n),t.append(n,e);const r=document.getElementById("toc")||document.getElementById("sotd")||document.getElementById("abstract");r&&("toc"===r.id?r.replaceWith(t):r.after(t));const o=Ze`<p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">&uarr;</abbr></a>
  </p>`;document.body.append(o)}(t)}o("toc")}});const ws=gt({en:{informative:"This section is non-normative."},nl:{informative:"Dit onderdeel is niet normatief."},ko:{informative:"이 부분은 비규범적입니다."},ja:{informative:"この節は仕様には含まれません．"},de:{informative:"Dieser Abschnitt ist nicht normativ."},zh:{informative:"本章节不包含规范性内容。"}});var $s=Object.freeze({__proto__:null,name:"core/informative",run:function(){Array.from(document.querySelectorAll("section.informative")).map((e=>e.querySelector("h2, h3, h4, h5, h6"))).filter((e=>e)).forEach((e=>{e.after(Ze`<p><em>${ws.informative}</em></p>`)}))}});const _s=gt({en:{permalinkLabel(e,t){let n=`Permalink for${t?"":" this"} ${e}`;return t&&(n+=` ${mt(t.textContent)}`),n}}});var xs=Object.freeze({__proto__:null,name:"core/id-headers",run:function(e){const t=document.querySelectorAll("section:not(.head,#abstract,#sotd) h2, h3, h4, h5, h6");for(const n of t){let t=n.id;if(t||(wt(n),t=n.parentElement.id||n.id),!e.addSectionLinks)continue;const r=_s.permalinkLabel(n.closest(".appendix")?"Appendix":"Section",n.querySelector(":scope > bdi.secno")),o=Ze`<div class="header-wrapper"></div>`;n.replaceWith(o);const a=Ze`<a
      href="#${t}"
      class="self-link"
      aria-label="${r}"
    ></a>`;o.append(n,a)}}});var Es=String.raw`.caniuse-stats{display:flex;column-gap:2em}
.caniuse-group{display:flex;flex:1;flex-direction:column;justify-content:flex-end;flex-basis:auto}
.caniuse-browsers{display:flex;align-items:baseline;justify-content:space-between;flex-wrap:wrap;margin-top:.2em;column-gap:.4em;border-bottom:1px solid #ccc;row-gap:.4em;padding-bottom:.4cm}
.caniuse-type{align-self:center;border-top:none;text-transform:capitalize;font-size:.8em;margin-top:-.8em;font-weight:700}
.caniuse-type span{background-color:var(--bg,#fff);padding:0 .4em}
.caniuse-cell{align-items:center;border-radius:1cm;color:#fff;display:flex;font-size:90%;min-width:1.5cm;padding:.3rem;justify-content:space-evenly;--supported:#2a8436dd;--no-support:#c44230dd;--no-support-alt:#b43b2bdd;--partial:#807301dd;--partial-alt:#746c00dd;--unknown:#757575;background:repeating-linear-gradient(var(--caniuse-angle,45deg),var(--caniuse-bg) 0,var(--caniuse-bg-alt) 1px,var(--caniuse-bg-alt) .4em,var(--caniuse-bg) calc(.25em + 1px),var(--caniuse-bg) .75em)}
img.caniuse-browser{filter:drop-shadow(0 0 .1cm #666);background:0 0}
.caniuse-cell span.browser-version{margin-left:.4em;text-shadow:0 0 .1em #fff;font-weight:100;font-size:.9em}
.caniuse-stats a[href]{white-space:nowrap;align-self:flex-end}
.caniuse-cell.y{background:var(--supported)}
.caniuse-cell:is(.n,.d){--caniuse-angle:45deg;--caniuse-bg:var(--no-support);--caniuse-bg-alt:var(--no-support-alt)}
.caniuse-cell.u{background:var(--unknown)}
.caniuse-cell.d{--caniuse-angle:180deg}
.caniuse-cell:is(.a,.x,.p){--caniuse-angle:90deg;--caniuse-bg:var(--partial);--caniuse-bg-alt:var(--partial-alt)}
@media print{
.caniuse-cell.y::before{content:"✔️";padding:.5em}
.caniuse-cell.n::before{content:"❌";padding:.5em}
.caniuse-cell:is(.a,.d,.p,.x,.u)::before{content:"⚠️";padding:.5em}
}`;const ks="core/caniuse",As="https://respec.org/caniuse/",Ss=new Map([["and_chr",{name:"Android Chrome",path:"chrome",type:"mobile"}],["and_ff",{name:"Android Firefox",path:"firefox",type:"mobile"}],["and_uc",{name:"Android UC",path:"uc",type:"mobile"}],["chrome",{name:"Chrome",type:"desktop"}],["edge",{name:"Edge",type:"desktop"}],["firefox",{name:"Firefox",type:"desktop"}],["ios_saf",{name:"iOS Safari",path:"safari-ios",type:"mobile"}],["op_mob",{name:"Opera Mobile",path:"opera",type:"mobile"}],["opera",{name:"Opera",type:"desktop"}],["safari",{name:"Safari",type:"desktop"}],["samsung",{name:"Samsung Internet",path:"samsung-internet",type:"mobile"}]]),Ts=new Map([["a","almost supported (aka Partial support)"],["d","disabled by default"],["n","no support, or disabled by default"],["p","no support, but has Polyfill"],["u","unknown support"],["x","requires prefix to work"],["y","supported by default"]]);var Cs=Object.freeze({__proto__:null,BROWSERS:Ss,name:ks,prepare:function(e){if(!e.caniuse)return;!function(e){const t=new Set(Ss.keys());t.delete("op_mob"),t.delete("opera");const n={removeOnSave:!0,browsers:[...t]};if("string"==typeof e.caniuse)return void(e.caniuse={feature:e.caniuse,...n});e.caniuse={...n,...e.caniuse}}(e),function({caniuse:e}){const{browsers:t}=e,n=t.filter((e=>!Ss.has(e)));if(n.length){Ot(Mt`Invalid browser(s): (${qt(n,{quotes:!0})}) in the \`browser\` property of ${"[caniuse]"}.`,ks)}}(e);const t=e.caniuse;t.feature&&document.head.appendChild(Ze`<style
      id="caniuse-stylesheet"
      class="${t.removeOnSave?"removeOnSave":""}"
    >
      ${Es}
    </style>`)},run:async function(e){const t=e.caniuse;if(!t?.feature)return;const n=new URL(t.feature,"https://caniuse.com/").href,r=document.querySelector(".head dl"),i=async function(e){const{feature:t,browsers:n,apiURL:r}=e,o=new URL(r||`./${t}`,As);n.forEach((e=>o.searchParams.append("browsers",e)));const a=await fetch(o);if(!a.ok){const{status:e,statusText:t}=a;throw new Error(`Failed to get caniuse data: (${e}) ${t}`)}return a.json()}(e.caniuse).then((e=>async function(e,{feature:t}){const n=e.result,r=new Map([["desktop",[]],["mobile",[]]]),o=function(e){return(t,{browser:n,version:r,caniuse:o})=>{const{name:a,type:i}=Ss.get(n),s=`${a}${r?` version ${r}`:""}`,c=Ts.get(o),l=`${e} is ${c} since ${s} on ${i}.`,d=`caniuse-cell ${o}`,u=(p=`${c} since ${s}.`).charAt(0).toUpperCase()+p.slice(1);var p;const f=r||"—",h=function(e){const t=Ss.get(e).path??e;return`https://www.w3.org/assets/logos/browser-logos/${t}/${t}.svg`}(n),m=Ze`
      <div class="${d}" title="${u}" aria-label="${l}">
        <img
          class="caniuse-browser"
          width="20"
          height="20"
          src="${h}"
          alt="${a} logo"
        /><span class="browser-version">${f}</span>
      </div>
    `;return t.get(i).push(m),t}}(t);n.reduce(o,r);const a=[...r].filter((([,e])=>e.length)).map((([e,t])=>Ze`<div class="caniuse-group">
          <div class="caniuse-browsers">${t}</div>
          <div class="caniuse-type"><span>${e}</div>
        </div>`));return a.push(Ze`<a class="caniuse-cell" href="https://caniuse.com/${t}"
      >More info</a
    >`),a}(e,t))).catch((e=>function(e,t,n){const r=`Failed to retrieve feature "${t.feature}".`,o=Mt`Please check the feature key on [caniuse.com](https://caniuse.com) and update ${"[caniuse]"}.`;return Lt(r,ks,{hint:o}),console.error(e),Ze`<a href="${n}">caniuse.com</a>`}(e,t,n))),s=Ze`<dt class="caniuse-title">Browser support:</dt>
    <dd class="caniuse-stats">
      ${{any:i,placeholder:"Fetching data from caniuse.com..."}}
    </dd>`;r.append(...s.childNodes),await i,o("amend-user-config",{caniuse:t.feature}),t.removeOnSave&&(r.querySelectorAll(".caniuse-browser").forEach((e=>e.classList.add("removeOnSave"))),a("beforesave",(e=>{Ze.bind(e.querySelector(".caniuse-stats"))`
        <a href="${n}">caniuse.com</a>`})))}});var Is=String.raw`.mdn{font-size:.75em;position:absolute;right:.3em;min-width:0;margin-top:3rem}
.mdn details{width:100%;margin:1px 0;position:relative;z-index:10;box-sizing:border-box;padding:.4em;padding-top:0}
.mdn details[open]{min-width:25ch;max-width:32ch;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--indextable-hover-text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px;z-index:11;margin-bottom:.4em}
.mdn summary{text-align:right;cursor:default;margin-right:-.4em}
.mdn summary span{font-family:zillaslab,Palatino,"Palatino Linotype",serif;color:#fff;color:var(--bg,#fff);background-color:#000;background-color:var(--text,#000);display:inline-block;padding:3px}
.mdn a{display:inline-block;word-break:break-all}
.mdn p{margin:0}
.mdn .engines-all{color:#058b00}
.mdn .engines-some{color:#b00}
.mdn table{width:100%;font-size:.9em}
.mdn td{border:none}
.mdn td:nth-child(2){text-align:right}
.mdn .nosupportdata{font-style:italic;margin:0}
.mdn tr::before{content:"";display:table-cell;width:1.5em;height:1.5em;background:no-repeat center center/contain;font-size:.75em}
.mdn .no,.mdn .unknown{color:#ccc;filter:grayscale(100%)}
.mdn .no::before,.mdn .unknown::before{opacity:.5}
.mdn .chrome::before,.mdn .chrome_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)}
.mdn .edge::before,.mdn .edge_mobile::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)}
.mdn .firefox::before,.mdn .firefox_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)}
.mdn .opera::before,.mdn .opera_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)}
.mdn .safari::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)}
.mdn .safari_ios::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)}
.mdn .samsunginternet_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)}
.mdn .webview_android::before{background-image:url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)}`;const Rs="core/mdn-annotation",Ns="https://w3c.github.io/mdn-spec-links/",Ls="https://developer.mozilla.org/en-US/docs/Web/",Os={chrome:"Chrome",chrome_android:"Chrome Android",edge:"Edge",edge_mobile:"Edge Mobile",firefox:"Firefox",firefox_android:"Firefox Android",opera:"Opera",opera_android:"Opera Android",safari:"Safari",safari_ios:"Safari iOS",samsunginternet_android:"Samsung Internet",webview_android:"WebView Android"},Ds=gt({en:{inAllEngines:"This feature is in all major engines.",inSomeEngines:"This feature has limited support."},zh:{inAllEngines:"所有主要引擎均支持此特性。",inSomeEngines:"此功能支持有限。"}});function Ps(e){const t=e.closest("section");if(!t)return;const{previousElementSibling:n}=t;if(n&&n.classList.contains("mdn"))return n;const r=Ze`<aside class="mdn"></aside>`;return t.before(r),r}function qs(e){const{name:t,slug:n,summary:r,support:o,engines:a}=e,i=n.slice(n.indexOf("/")+1),s=`${Ls}${n}`,c=`Expand MDN details for ${t}`,l=function(e){if(3===e.length)return Ze`<span title="${Ds.inAllEngines}">✅</span>`;if(e.length<2)return Ze`<span title="${Ds.inSomeEngines}">🚫</span>`;return Ze`<span>&emsp;</span>`}(a);return Ze`<details>
    <summary aria-label="${c}"><span>MDN</span>${l}</summary>
    <a title="${r}" href="${s}">${i}</a>
    ${function(e){if(3===e.length)return Ze`<p class="engines-all">${Ds.inAllEngines}</p>`;if(e.length<2)return Ze`<p class="engines-some">${Ds.inSomeEngines}</p>`}(a)}
    ${o?function(e){function t(e,t,n){const r="Unknown"===t?"?":t,o=`${e} ${t.toLowerCase()}`;return Ze`<tr class="${o}">
      <td>${Os[e]}</td>
      <td>${n||r}</td>
    </tr>`}function n(e,n){if(n.version_removed)return t(e,"No","");const r=n.version_added;return"boolean"==typeof r?t(e,r?"Yes":"No",""):r?t(e,"Yes",`${r}+`):t(e,"Unknown","")}return Ze`<table>
    ${Object.keys(Os).map((r=>e[r]?n(r,e[r]):t(r,"Unknown","")))}
  </table>`}(o):Ze`<p class="nosupportdata">No support data.</p>`}
  </details>`}var js=Object.freeze({__proto__:null,name:Rs,run:async function(e){const t=function(e){const{shortName:t,mdn:n}=e;if(!n)return;return"string"==typeof n?n:n.key||t}(e);if(!t)return;const n=await async function(e,t){const{baseJsonPath:n=Ns,maxAge:r=864e5}=t,o=new URL(`${e}.json`,n).href,a=await async function(e,t=864e5){const n=new Request(e),r=new URL(n.url);let o,a;if("caches"in window)try{if(o=await caches.open(r.origin),a=await o.match(n),a&&new Date(a.headers.get("Expires"))>new Date)return a}catch(e){console.error("Failed to use Cache API.",e)}const i=await fetch(n);if(!i.ok&&a)return console.warn(`Returning a stale cached response for ${r}`),a;if(o&&i.ok){const e=i.clone(),r=new Headers(i.headers),a=new Date(Date.now()+t);r.set("Expires",a.toISOString());const s=new Response(await e.blob(),{headers:r});await o.put(n,s).catch(console.error)}return i}(o,r);if(404===a.status){return void Lt(`Could not find MDN data associated with key "${e}".`,Rs,{hint:"Please add a valid key to `respecConfig.mdn`"})}return await a.json()}(t,e.mdn);if(!n)return;const r=document.createElement("style");r.textContent=Is,document.head.append(r);for(const e of function(e){return[...document.body.querySelectorAll("[id]:not(script)")].filter((({id:t})=>Array.isArray(e[t])))}(n)){const t=n[e.id],r=Ps(e);if(r)for(const e of t)r.append(qs(e))}}});const Ms="1edtech/exporter";function zs(e=document){const t=function(e){const t=e.querySelectorAll("img");t.forEach((e=>{e.setAttribute("src",function(e){try{const t=e.ownerDocument.createElement("canvas");t.width=e.width,t.height=e.height;return t.getContext("2d").drawImage(e,0,0,e.width,e.height),t.toDataURL()}catch(t){const n=t.toString();return n.startsWith("SecurityError")||Lt(n,Ms),e.src}}(e))}));const n=e.cloneNode(!0);return Fs(n),function(e){let t=!1,n=!1;e.childNodes.forEach((e=>{t?n?e.remove():"FOOTER"==e.nodeName?n=!0:("SCRIPT"==e.nodeName||"STYLE"==e.nodeName)&&e.remove():"HEADER"!==e.nodeName?e.remove():t=!0}))}(n.body),n.body.innerHTML}(e);return`data:text/html;charset=utf-8,${encodeURIComponent(t)}`}function Fs(e){const{head:t,body:n,documentElement:r}=e;Ct(e),e.querySelectorAll(".removeOnSave, #toc-nav").forEach((e=>e.remove())),n.classList.remove("toc-sidebar"),ct(r);const a=e.createDocumentFragment(),i=e.querySelector("meta[name='viewport']");i&&t.firstChild!==i&&a.appendChild(i);let s=e.querySelector("meta[charset], meta[content*='charset=']");s||(s=Ze`<meta charset="utf-8" />`),a.appendChild(s);const c=`ReSpec ${window.respecVersion||"Developer Channel"}`,l=Ze`
    <meta name="generator" content="${c}" />
  `;a.appendChild(l),t.prepend(a),o("beforesave",r)}n(Ms,{rsDocToCmsDataURL:zs,rsDocToCssDataURL:async function(e=document){const t=await async function(e){const t=e.cloneNode(!0);return Fs(t),await async function(e){let t="";const n=e.querySelectorAll("link[rel='stylesheet']");await Promise.all(Array.from(n).map((async e=>{try{const n=await fetch(e.href),r=await n.text();t+=r}catch(t){Lt(`Cannot retrieve stylesheet ${e.href}. ${t}.`,Ms)}})));return e.querySelectorAll("style").forEach((e=>{t+=e.innerText})),t}(t.head)}(e);return`data:text/css;charset=utf-8,${encodeURIComponent(t)}`}});const Us="ui/save-html",Hs=gt({en:{save_snapshot:"Export"},nl:{save_snapshot:"Bewaar Snapshot"},ja:{save_snapshot:"保存する"},de:{save_snapshot:"Exportieren"},zh:{save_snapshot:"导出"}}),Bs=[{id:"respec-save-as-html",ext:"html",title:"HTML",type:"text/html",get href(){return Ut(this.type)}},{id:"respec-save-as-xml",ext:"xhtml",title:"XML",type:"application/xml",get href(){return Ut(this.type)}},{id:"respec-save-as-epub",ext:"epub",title:"EPUB 3",type:"application/epub+zip",get href(){const e=new URL("https://labs.w3.org/r2epub/");return e.searchParams.append("respec","true"),e.searchParams.append("url",document.location.href),e.href}},{id:"respec-save-as-cms-extract",ext:"txt",title:"CMS EXTRACT",type:"application/cms",get href(){return zs()}}];function Ws(e,t){const{id:n,href:r,ext:o,title:a,type:i}=e,s=function(e,t=""){return at.format(e).replace(ot,t)}(t.publishDate||new Date),c=[t.specStatus,t.shortName||"spec",s].join("-");return Ze`<a
    href="${r}"
    id="${n}"
    download="${c}.${o}"
    type="${i}"
    class="respec-save-button"
    onclick=${()=>wn.closeModal()}
    >${a}</a
  >`}var Vs=Object.freeze({__proto__:null,exportDocument:function(e,t){return Ot("Exporting via ui/save-html module's `exportDocument()` is deprecated and will be removed.",Us,{hint:"Use core/exporter `rsDocToDataURL()` instead."}),Ut(t)},name:Us,run:function(e){const t={async show(t){await document.respec.ready;const n=Ze`<div class="respec-save-buttons">
        ${Bs.map((t=>Ws(t,e)))}
      </div>`;wn.freshModal(Hs.save_snapshot,n,t)}},n="download"in HTMLAnchorElement.prototype;let r;n&&(r=wn.addCommand(Hs.save_snapshot,(function(){if(!n)return;t.show(r)}),"Ctrl+Shift+Alt+S","💾"))}});const Ys="https://respec.org/specref/",Gs=gt({en:{search_specref:"Search Specref"},nl:{search_specref:"Doorzoek Specref"},ja:{search_specref:"仕様検索"},de:{search_specref:"Spezifikationen durchsuchen"},zh:{search_specref:"搜索 Specref"}}),Qs=wn.addCommand(Gs.search_specref,(function(){const e=Ze`
    <iframe class="respec-iframe" src="${Ys}" onload=${e=>e.target.classList.add("ready")}></iframe>
    <a href="${Ys}" target="_blank">Open Search UI in a new tab</a>
  `;wn.freshModal(Gs.search_specref,e,Qs)}),"Ctrl+Shift+Alt+space","🔎");var Xs=Object.freeze({__proto__:null});const Js="https://respec.org/xref/",Ks=gt({en:{title:"Search definitions"},ja:{title:"定義検索"},de:{title:"Definitionen durchsuchen"},zh:{title:"搜索定义"}}),Zs=wn.addCommand(Ks.title,(function(){const e=Ze`
    <iframe class="respec-iframe" src="${Js}" onload="${e=>e.target.classList.add("ready")}"></iframe>
    <a href="${Js}" target="_blank">Open Search UI in a new tab</a>
  `;wn.freshModal(Ks.title,e,Zs)}),"Ctrl+Shift+Alt+x","📚");var ec=Object.freeze({__proto__:null});const tc=gt({en:{about_respec:"About"},zh:{about_respec:"关于"},nl:{about_respec:"Over"},ja:{about_respec:"これについて"},de:{about_respec:"Über"}});window.respecVersion=window.respecVersion||"Developer Edition";const nc=document.createElement("div"),rc=Ze.bind(nc),oc=wn.addCommand(`${tc.about_respec} ${window.respecVersion}`,(function(){const e=[];"getEntriesByType"in performance&&performance.getEntriesByType("measure").sort(((e,t)=>t.duration-e.duration)).map((({name:e,duration:t})=>({name:e,duration:t>1e3?`${Math.round(t/1e3)} second(s)`:`${t.toFixed(2)} milliseconds`}))).map(ac).forEach((t=>{e.push(t)}));rc`
  <p>
    ReSpec is a document production toolchain, with a notable focus on W3C specifications.
  </p>
  <p>
    <a href='https://respec.org/docs'>Documentation</a>,
    <a href='https://github.com/speced/respec/issues'>Bugs</a>.
  </p>
  <table border="1" width="100%" hidden="${!e.length}">
    <caption>
      Loaded plugins
    </caption>
    <thead>
      <tr>
        <th>
          Plugin Name
        </th>
        <th>
          Processing time
        </th>
      </tr>
    </thead>
    <tbody>${e}</tbody>
  </table>
`,wn.freshModal(`${tc.about_respec} - ${window.respecVersion}`,nc,oc)}),"Ctrl+Shift+Alt+A","ℹ️");function ac({name:e,duration:t}){return Ze`
    <tr>
      <td><a href="${`https://github.com/speced/respec/blob/develop/src/${e}.js`}">${e}</a></td>
      <td>${t}</td>
    </tr>
  `}var ic=Object.freeze({__proto__:null});var sc=Object.freeze({__proto__:null,name:"core/seo",run:function(e){if(e.gitRevision){const t=Ze`<meta
      name="revision"
      content="${e.gitRevision}"
    />`;document.head.appendChild(t)}const t=document.querySelector("#abstract p:first-of-type");if(!t)return;const n=t.textContent.replace(/\s+/," ").trim(),r=document.createElement("meta");r.name="description",r.content=n,document.head.appendChild(r)}});var cc=Object.freeze({__proto__:null,name:"1edtech/seo",run:async function(e){const t=document.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e.thisURL),document.head.appendChild(t)}});var lc=String.raw`.hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
@media (prefers-color-scheme:dark){
.hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
}
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
.hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
.hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}`;async function dc(t){const n=await fetch(new URL(`../../${t}`,e&&e.src||new URL("respec-1edtech.js",document.baseURI).href));return await n.text()}const uc=st({hint:"preload",href:"https://www.w3.org/Tools/respec/respec-highlight",as:"script"});document.head.appendChild(uc);const pc=async function(){const e=await async function(){try{return(await Promise.resolve().then((function(){return zl}))).default}catch{return dc("worker/respec-worker.js")}}(),t=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));return new Worker(t)}();n("core/worker",pc.then((e=>({worker:e}))));const fc=function(e,t=0){const n=function*(e,t){for(;;)yield`${e}:${t}`,t++}(e,t);return()=>n.next().value}("highlight");async function hc(e){e.setAttribute("aria-busy","true");const t=(n=e.classList,Array.from(n).filter((e=>"highlight"!==e&&"nolinks"!==e)).map((e=>e.toLowerCase())));var n;let r;try{r=await async function(e,t){const n={action:"highlight",code:e,id:fc(),languages:t},r=await pc;return r.postMessage(n),new Promise(((e,t)=>{const o=setTimeout((()=>{t(new Error("Timed out waiting for highlight."))}),4e3);r.addEventListener("message",(function t(a){const{data:{id:i,language:s,value:c}}=a;i===n.id&&(r.removeEventListener("message",t),clearTimeout(o),e({language:s,value:c}))}))}))}(e.innerText,t)}catch(e){return void console.error(e)}const{language:o,value:a}=r;switch(e.localName){case"pre":e.classList.remove(o),e.innerHTML=`<code class="hljs${o?` ${o}`:""}">${a}</code>`,e.classList.length||e.removeAttribute("class");break;case"code":e.innerHTML=a,e.classList.add("hljs"),o&&e.classList.add(o)}e.setAttribute("aria-busy","false")}var mc=Object.freeze({__proto__:null,name:"core/highlight",run:async function(e){if(e.noHighlightCSS)return;const t=[...document.querySelectorAll("\n    pre:not(.idl):not(.nohighlight) > code:not(.nohighlight),\n    pre:not(.idl):not(.nohighlight),\n    code.highlight\n  ")].filter((e=>"pre"!==e.localName||!e.querySelector("code")));if(!t.length)return;const n=t.filter((e=>e.textContent.trim())).map(hc);document.head.appendChild(Ze`<style>
      ${lc}
    </style>`),await Promise.all(n)}});const gc=gt({en:{missing_test_suite_uri:Mt`Found tests in your spec, but missing ${"[testSuiteURI]"} in your ReSpec config.`,tests:"tests",test:"test"},ja:{missing_test_suite_uri:Mt`この仕様内にテストの項目を検出しましたが，ReSpec の設定に ${"[testSuiteURI]"} が見つかりません．`,tests:"テスト",test:"テスト"},de:{missing_test_suite_uri:Mt`Die Spezifikation enthält Tests, aber in der ReSpec-Konfiguration ist keine ${"[testSuiteURI]"} angegeben.`,tests:"Tests",test:"Test"},zh:{missing_test_suite_uri:Mt`本规范中包含测试，但在 ReSpec 配置中缺少 ${"[testSuiteURI]"}。`,tests:"测试",test:"测试"}}),bc="core/data-tests";function yc(e){const t=[],[n]=new URL(e).pathname.split("/").reverse(),r=n.split(".");let[o]=r;if(r.find((e=>"https"===e))){const e=document.createElement("span");e.textContent="🔒",e.setAttribute("aria-label","requires a secure connection"),e.setAttribute("title","Test requires HTTPS"),o=o.replace(".https",""),t.push(e)}if(o.split(".").join("-").split("-").find((e=>"manual"===e))){const e=document.createElement("span");e.textContent="💪",e.setAttribute("aria-label","the test must be run manually"),e.setAttribute("title","Manual test"),o=o.replace("-manual",""),t.push(e)}return Ze`
    <li>
      <a href="${e}">${o}</a>
      ${t}
    </li>
  `}function vc(e,t,n){return e.map((e=>{try{return new URL(e,t).href}catch{Ot(Mt`Invalid URL in ${"[data-tests]"} attribute: ${e}.`,bc,{elements:[n]})}})).filter((e=>e))}function wc(e,t){const n=e.filter(((e,t,n)=>n.indexOf(e)!==t));if(n.length){const e=Mt`Duplicate tests found in the ${"[data-tests]"} attribute.`,r=Mt`To fix, remove duplicates from ${"[data-tests]"}: ${qt(n,{quotes:!0})}.`;Ot(e,bc,{hint:r,elements:[t]})}}function $c(e){const t=[...new Set(e)];return Ze`
    <details class="respec-tests-details removeOnSave">
      <summary>tests: ${t.length}</summary>
      <ul>
        ${t.map(yc)}
      </ul>
    </details>
  `}var _c=Object.freeze({__proto__:null,name:bc,run:function(e){const t=[...document.querySelectorAll("[data-tests]")].filter((e=>e.dataset.tests));if(t.length)if(e.testSuiteURI)for(const n of t){const t=vc(n.dataset.tests.split(/,/gm).map((e=>e.trim())),e.testSuiteURI,n);wc(t,n);const r=$c(t);n.append(r)}else Lt(gc.missing_test_suite_uri,bc)}});const xc="core/list-sorter";function Ec(e){const t="ascending"===e?1:-1;return({textContent:e},{textContent:n})=>t*e.trim().localeCompare(n.trim())}function kc(e,t){return[...e.querySelectorAll(":scope > li")].sort(Ec(t)).reduce(((e,t)=>(e.appendChild(t),e)),document.createDocumentFragment())}function Ac(e,t){return[...e.querySelectorAll(":scope > dt")].sort(Ec(t)).reduce(((e,t)=>{const{nodeType:n,nodeName:r}=t,o=document.createDocumentFragment();let{nextSibling:a}=t;for(;a&&a.nextSibling;){o.appendChild(a.cloneNode(!0));const{nodeType:e,nodeName:t}=a.nextSibling;if(e===n&&t===r)break;a=a.nextSibling}return o.prepend(t.cloneNode(!0)),e.appendChild(o),e}),document.createDocumentFragment())}var Sc=Object.freeze({__proto__:null,name:xc,run:function(){const e=document.querySelectorAll("[data-sort]");for(const t of e){let e;const n=t.dataset.sort||"ascending";switch(t.localName){case"dl":e=Ac(t,n);break;case"ol":case"ul":e=kc(t,n);break;default:Ot(`ReSpec can't sort ${t.localName} elements.`,xc,{elements:[t]})}if(e){const n=document.createRange();n.selectNodeContents(t),n.deleteContents(),t.appendChild(e)}}},sortDefinitionTerms:Ac,sortListItems:kc});var Tc=String.raw`var:hover{text-decoration:underline;cursor:pointer}
var.respec-hl{color:var(--color,#000);background-color:var(--bg-color);box-shadow:0 0 0 2px var(--bg-color)}
@media (prefers-color-scheme:dark){
var.respec-hl{filter:saturate(.9) brightness(.9)}
}
var.respec-hl-c1{--bg-color:#f4d200}
var.respec-hl-c2{--bg-color:#ff87a2}
var.respec-hl-c3{--bg-color:#96e885}
var.respec-hl-c4{--bg-color:#3eeed2}
var.respec-hl-c5{--bg-color:#eacfb6}
var.respec-hl-c6{--bg-color:#82ddff}
var.respec-hl-c7{--bg-color:#ffbcf2}
@media print{
var.respec-hl{background:0 0;color:#000;box-shadow:unset}
}`;function Cc(e){e.stopPropagation();const{target:t}=e,n=function(e){const t=mt(e.textContent),n=e.closest(".algorithm, section"),r=Rc(e),o=[...n.querySelectorAll("var")].filter((e=>mt(e.textContent)===t&&e.closest(".algorithm, section")===n)),a=o[0].classList.contains("respec-hl");if(Ic.set(r,a),a)return o.forEach((e=>Nc(e,r))),[];o.forEach((e=>function(e,t){e.classList.add("respec-hl",t)}(e,r)));return o}(t),r=()=>{const e=Rc(t);n.forEach((t=>Nc(t,e))),[...Ic.keys()].forEach((e=>Ic.set(e,!0)))};n.length&&document.body.addEventListener("click",r,{once:!0})}const Ic=new Map([["respec-hl-c1",!0],["respec-hl-c2",!0],["respec-hl-c3",!0],["respec-hl-c4",!0],["respec-hl-c5",!0],["respec-hl-c6",!0],["respec-hl-c7",!0]]);function Rc(e){const{value:t}=e.classList,n=/respec-hl-\w+/,r=n.test(t)&&t.match(n);return r?r[0]:!0===Ic.get("respec-hl-c1")?"respec-hl-c1":[...Ic.keys()].find((e=>Ic.get(e)))||"respec-hl-c1"}function Nc(e,t){e.classList.remove("respec-hl",t),e.classList.length||e.removeAttribute("class")}var Lc=Object.freeze({__proto__:null,name:"core/highlight-vars",run:function(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=Tc,t.classList.add("removeOnSave"),document.head.appendChild(t),document.querySelectorAll("var").forEach((e=>e.addEventListener("click",Cc))),a("beforesave",(e=>{e.querySelectorAll("var.respec-hl").forEach(Nc)}))}});var Oc=String.raw`dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}`;function Dc(e){const{id:t}=e,n=e.dataset.href||`#${t}`,r=document.querySelectorAll(`a[href="${n}"]:not(.index-term)`),o=`dfn-panel-for-${e.id}`,a=e.getAttribute("aria-label")||mt(e.textContent),i=Ze`
    <div
      class="dfn-panel"
      id="${o}"
      hidden
      role="dialog"
      aria-modal="true"
      aria-label="Links in this document to definition: ${a}"
    >
      <span class="caret"></span>
      <div>
        <a
          class="self-link"
          href="${n}"
          aria-label="Permalink for definition: ${a}. Activate to close this dialog."
          >Permalink</a
        >
        ${function(e){return e.matches("dfn[data-export]")?Ze`<span
    class="marker dfn-exported"
    title="Definition can be referenced by other specifications"
    >exported</span
  >`:null}(e)} ${function(e,t){if(!e.hasAttribute("data-idl"))return null;for(const n of t){if(n.dataset.linkType!==e.dataset.dfnType)continue;const t=n.closest("pre.idl");if(t&&t.id){const e=`#${t.id}`;return Ze`<a
        href="${e}"
        class="marker idl-block"
        title="Jump to IDL declaration"
        >IDL</a
      >`}}return null}(e,r)}
      </div>
      <p><b>Referenced in:</b></p>
      ${function(e,t){if(!t.length)return Ze`<ul>
      <li>Not referenced in this document.</li>
    </ul>`;const n=new Map;t.forEach(((t,r)=>{const o=t.id||`ref-for-${e}-${r+1}`;t.id||(t.id=o);const a=function(e){const t=e.closest("section");if(!t)return null;const n=t.querySelector("h1, h2, h3, h4, h5, h6");return n?`§ ${mt(n.textContent)}`:null}(t);(n.get(a)||n.set(a,[]).get(a)).push(o)}));const r=([e,t])=>[{title:e,id:t[0],text:e}].concat(t.slice(1).map(((e,t)=>({title:`Reference ${t+2}`,text:`(${t+2})`,id:e})))),o=e=>Ze`<li>
      ${r(e).map((e=>Ze`<a href="#${e.id}" title="${e.title}">${e.text}</a
          >${" "}`))}
    </li>`;return Ze`<ul>
    ${[...n].map(o)}
  </ul>`}(t,r)}
    </div>
  `;return i}var Pc=Object.freeze({__proto__:null,name:"core/dfn-panel",run:async function(){document.head.insertBefore(Ze`<style>
      ${Oc}
    </style>`,document.querySelector("link"));const e=document.querySelectorAll("dfn[id]:not([data-cite]), #index-defined-elsewhere .index-term"),t=document.createDocumentFragment();for(const n of e)t.append(Dc(n)),n.tabIndex=0,n.setAttribute("aria-haspopup","dialog");document.body.append(t);const n=document.createElement("script");n.id="respec-dfn-panel",n.textContent=await async function(){try{return(await Promise.resolve().then((function(){return Fl}))).default}catch{return dc("./src/core/dfn-panel.runtime.js")}}(),document.body.append(n)}});var qc=String.raw`var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}`;var jc=Object.freeze({__proto__:null,name:"core/data-type",run:function(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=qc,document.head.appendChild(t);let n=null;const r=new Map,o=document.querySelectorAll("section var");for(const e of o){const t=e.closest("section");if(n!==t&&(n=t,r.clear()),e.dataset.type){r.set(e.textContent.trim(),e.dataset.type);continue}const o=r.get(e.textContent.trim());o&&(e.dataset.type=o)}}});var Mc=String.raw`:root{--assertion-border:#aaa;--assertion-bg:#eee;--assertion-text:black}
.assert{border-left:.5em solid #aaa;padding:.3em;border-color:#aaa;border-color:var(--assertion-border);background:#eee;background:var(--assertion-bg);color:#000;color:var(--assertion-text)}
@media (prefers-color-scheme:dark){
:root{--assertion-border:#444;--assertion-bg:var(--borderedblock-bg);--assertion-text:var(--text)}
}`;var zc=Object.freeze({__proto__:null,name:"core/algorithms",run:function(){const e=Array.from(document.querySelectorAll("ol.algorithm li")).filter((e=>e.textContent.trim().startsWith("Assert: ")));if(!e.length)return;for(const t of e){t.classList.add("assert");const e=t.firstChild;e instanceof Text&&e.textContent.startsWith("Assert: ")&&(e.textContent=e.textContent.replace("Assert: ",""),t.prepend(Ze`<a href="https://infra.spec.whatwg.org/#assert">Assert</a>`,": "))}const t=document.createElement("style");t.textContent=Mc,document.head.appendChild(t)}});const Fc="1edtech/anchor-expander";function Uc(e,t,n){const r=e.querySelector(".marker .self-link");if(!r){n.textContent=n.getAttribute("href");return void Lt(`Found matching element "${t}", but it has no title or marker.`,Fc,{title:"Missing title.",elements:[n]})}const o=Tt(r);n.append(...o.childNodes),n.classList.add("box-ref")}function Hc(e,t,n){const r=e.querySelector("figcaption");if(!r){n.textContent=n.getAttribute("href");return void Lt(`Found matching figure "${t}", but figure is lacking a \`<figcaption>\`.`,Fc,{title:"Missing figcaption in referenced figure.",elements:[n]})}const o=[...Tt(r.querySelector(".self-link")).childNodes].map((e=>(e.classList?.remove("figno"),e)));n.append(...o),n.classList.add("fig-ref");const a=r.querySelector(".fig-title");!n.hasAttribute("title")&&a&&(n.title=mt(a.textContent))}function Bc(e,t,n){if(!e.classList.contains("numbered"))return;const r=e.querySelector("caption");if(!r){n.textContent=n.getAttribute("href");return void Lt(`Found matching table "${t}", but table is lacking a \`<caption>\`.`,Fc,{title:"Missing caption in referenced table.",elements:[n]})}const o=[...Tt(r.querySelector(".self-link")).childNodes].map((e=>(e.classList?.remove("tableno"),e)));n.append(...o),n.classList.add("table-ref");const a=r.querySelector(".table-title");!n.hasAttribute("title")&&a&&(n.title=mt(a.textContent))}function Wc(e,t,n){const r=e.querySelector("h6, h5, h4, h3, h2");if(r)Vc(r,n),Yc(r,n);else{n.textContent=n.getAttribute("href");Lt("Found matching section, but the section was lacking a heading element.",Fc,{title:`No matching id in document: "${t}".`,elements:[n]})}}function Vc(e,t){const n=e.parentNode.querySelector(".self-link"),r=[...Tt(e).childNodes].filter((e=>!e.classList||!e.classList.contains("self-link")));t.append(...r),n&&t.prepend("§ "),t.classList.add("sec-ref"),t.lastChild.nodeType===Node.TEXT_NODE&&(t.lastChild.textContent=t.lastChild.textContent.trimEnd()),t.querySelectorAll("a").forEach((e=>{const t=_t(e,"span");for(const e of[...t.attributes])t.removeAttributeNode(e)}))}function Yc(e,t){for(const n of["dir","lang"]){if(t.hasAttribute(n))continue;const r=e.closest(`[${n}]`);if(!r)continue;const o=t.closest(`[${n}]`);o&&o.getAttribute(n)===r.getAttribute(n)||t.setAttribute(n,r.getAttribute(n))}}var Gc=Object.freeze({__proto__:null,name:Fc,run:function(){const e=[...document.querySelectorAll("a[href^='#']:not(.self-link):not([href$='the-empty-string'])")].filter((e=>""===e.textContent.trim()));for(const t of e){const e=t.getAttribute("href").slice(1),n=document.getElementById(e);if(n){switch(n.localName){case"h6":case"h5":case"h4":case"h3":case"h2":Vc(n,t);break;case"section":Wc(n,e,t);break;case"figure":Hc(n,e,t);break;case"table":Bc(n,e,t);break;case"aside":case"div":Uc(n,e,t);break;default:t.textContent=t.getAttribute("href");Lt("ReSpec doesn't support expanding this kind of reference.",Fc,{title:`Can't expand "#${e}".`,elements:[t]})}Yc(n,t),t.normalize()}else{t.textContent=t.getAttribute("href");Lt(`Couldn't expand inline reference. The id "${e}" is not in the document.`,Fc,{title:`No matching id in document: ${e}.`,elements:[t]})}}}});const Qc="rs-changelog",Xc=class extends HTMLElement{constructor(){super(),this.props={from:this.getAttribute("from"),to:this.getAttribute("to")||"HEAD",filter:"function"==typeof window[this.getAttribute("filter")]?window[this.getAttribute("filter")]:()=>!0}}connectedCallback(){const{from:e,to:t,filter:n}=this.props;Ze.bind(this)`
      <ul>
      ${{any:Jc(e,t,n).then((e=>async function(e){const{repoURL:t}=await Un;return e.map((e=>{const[n,r=null]=e.message.split(/\(#(\d+)\)/,2),o=`${t}commit/${e.hash}`,a=r&&Ze` (<a href="${r?`${t}pull/${r}`:null}">#${r}</a>)`;return Ze`<li><a href="${o}">${n.trim()}</a>${a}</li>`}))}(e))).catch((e=>Lt(e.message,Qc,{elements:[this]}))).finally((()=>{this.dispatchEvent(new CustomEvent("done"))})),placeholder:"Loading list of commits..."}}
      </ul>
    `}};async function Jc(e,t,n){let r;try{const o=await Un;if(!o)throw new Error("`respecConfig.github` is not set");const a=new URL("commits",`${o.apiBase}/${o.fullName}/`);a.searchParams.set("from",e),a.searchParams.set("to",t);const i=await fetch(a.href);if(!i.ok)throw new Error(`Request to ${a} failed with status code ${i.status}`);if(r=await i.json(),!r.length)throw new Error(`No commits between ${e}..${t}.`);r=r.filter(n)}catch(e){const t=`Error loading commits from GitHub. ${e.message}`;throw console.error(e),new Error(t)}return r}const Kc=[Object.freeze({__proto__:null,element:Xc,name:Qc})];var Zc=Object.freeze({__proto__:null,name:"core/custom-elements/index",run:async function(){Kc.forEach((e=>{customElements.define(e.name,e.element)}));const e=Kc.map((e=>e.name)).join(", "),t=[...document.querySelectorAll(e)].map((e=>new Promise((t=>e.addEventListener("done",t,{once:!0})))));await Promise.all(t)}});var el=Object.freeze({__proto__:null,name:"1edtech/cleanBody",run:async function(e){if(e.cleanBodyAll||e.cleanBodyScripts){document.body.querySelectorAll("script").forEach((e=>{e.parentNode.removeChild(e)}))}if(e.cleanBodyAll||e.cleanBodyCSS){document.querySelectorAll("*[style]").forEach((e=>{e.removeAttribute("style")}))}}});var tl=Object.freeze({__proto__:null,name:"1edtech/title-attrs",run:async function(e){if(e.noTitleAttrs)return;document.body.querySelectorAll("a[href].internalDFN").forEach((e=>{const t=e.getAttribute("href"),n=document.body.querySelector(t);if(n&&"DFN"===n.tagName){let t="";if(function(e,t){const n=e.closest(t);return null!=n}(n,"dt")){const e=n.closest("dt").nextElementSibling;e&&"DD"===e.tagName&&(t=e.textContent)}else{const e=n.closest("p, td, li, div, aside");e&&(t=e.textContent)}if(t.length>0){t=t.replace(/^(\s*)|(\s*)$/g,"").replace(/\s+/g," ");const n=document.createAttribute("title");n.value=t,e.setAttributeNode(n)}}}))}});var nl=Object.freeze({__proto__:null,name:"1edtech/scripts",run:async function(e){if(e.noSideBarTOC)document.body.className+=" toc-inline";else{let t="https://purl.imsglobal.org/spec/fixup.js";e.overrideFixupLocation&&(t=e.overrideFixupLocation),function(e){const t=document.createElement("script");t.addEventListener("load",(()=>{window.location.hash&&(window.location=window.location)}),{once:!0}),t.src=e,document.body.appendChild(t)}(t)}}});var rl=Object.freeze({__proto__:null,name:"1edtech/comments",run:async function(){const e=document.createNodeIterator(document.documentElement,NodeFilter.SHOW_COMMENT),t=[];let n;for(;n=e.nextNode();)t.push(n);t.forEach((e=>{e.parentElement.removeChild(e)}))}});var ol=Object.freeze({__proto__:null,name:"1edtech/focus-code",run:async function(e){document.body.querySelectorAll("pre code").forEach((e=>{e.tabIndex=0}))}});const al=gt({en:{warranty_1:'is publishing the information contained in this document ("Specification") for purposes of scientific, experimental, and scholarly collaboration only.',warranty_2:"1EdTech makes no warranty or representation regarding the accuracy or completeness of the Specification.",warranty_3:'This material is provided on an "As Is" and "As Available" basis.',warranty_4:"The Specification is at all times subject to change and revision without notice.",warranty_5:"It is your sole responsibility to evaluate the usefulness, accuracy, and completeness of the Specification as it relates to you.",warranty_6:"1EdTech would appreciate receiving your comments and suggestions.",contact_url:"Please contact 1EdTech through our website at",contact_document:"Please refer to Document Name",contact_date:"Date"},es:{warranty_1:'publica la información contenida en este documento ("Especificación") solo con fines de colaboración científica, experimental y académica.',warranty_2:"1EdTech no ofrece ninguna garantía ni representación con respecto a la exactitud o integridad de la Especificación.",warranty_3:"Este material se proporciona tal cual.",warranty_4:"La especificación está sujeta en todo momento a cambios y revisiones sin previo aviso.",warranty_5:"Es su exclusiva responsabilidad evaluar la utilidad, precisión e integridad de la Especificación en lo que respecta a usted.",warranty_6:"1EdTech agradecería recibir sus comentarios y sugerencias.",contact_url:"Póngase en contacto con 1EdTech a través de nuestro sitio web en",contact_document:"Por favor mencione el Nombre del Documento",contact_date:"Fecha"},ca:{warranty_1:'publica la informació continguda en aquest document ("Especificació") només amb finalitats de col·laboració científica, experimental i acadèmica.',warranty_2:"1EdTech no ofereix cap garantia ni representació sobre l'exactitud o integritat de l'especificació.",warranty_3:"Este material se proporciona tal cual.",warranty_4:"L'Especificació està en tot moment subjecta a canvis i revisions sense previ avís.",warranty_5:"És la seva única responsabilitat avaluar la utilitat, exactitud i integritat de l'especificació tal com es relaciona amb vostè.",warranty_6:"1EdTech agrairia rebre els seus comentaris i suggeriments.",contact_url:"Contacteu amb 1EdTech a través de la nostra pàgina web",contact_document:"Si us plau, mencioni el Nom del Document",contact_date:"Data"}});var il=Object.freeze({__proto__:null,name:"1edtech/footers",run:async function(e){const t=(e=>Ze`<footer>
    <div id="endWarranty">
      <p>1EdTech&trade; Consortium, Inc. ("1EdTech") ${al.warranty_1}</p>
      <p>${al.warranty_2}</p>
      <p>${al.warranty_3}</p>
      <p>${al.warranty_4}</p>
      <p>${al.warranty_5}</p>
      <p>${al.warranty_6}</p>
      <p>
        ${al.contact_url} <a href="https://www.1edtech.org">www.1edtech.org</a>
      </p>
      <p>
        ${al.contact_document}: ${e.specTitle.replace("<br/>"," ")}
        ${e.specVersion}
      </p>
      <p>${al.contact_date}: ${e.specDate}</p>
      <div></div>
    </div>
  </footer>`)(e);document.body.appendChild(t)}});const sl="core/linter-rules/check-charset",cl=gt({en:{msg:"Document must only contain one `<meta>` tag with charset set to 'utf-8'",hint:'Add this line in your document `<head>` section - `<meta charset="utf-8">` or set charset to "utf-8" if not set already.'},zh:{msg:"文档只能包含一个 charset 属性为 utf-8 的 `<meta>` 标签",hint:'将此行添加到文档的 `<head>` 部分—— `<meta charset="utf-8">` 或将 charset 设置为 utf-8（如果尚未设置）。'}});var ll=Object.freeze({__proto__:null,name:sl,run:function(e){if(!e.lint?.["check-charset"])return;const t=document.querySelectorAll("meta[charset]"),n=[];for(const e of t)n.push(e.getAttribute("charset").trim().toLowerCase());n.includes("utf-8")&&1===t.length||Ot(cl.msg,sl,{hint:cl.hint,elements:[...t]})}});const dl="core/linter-rules/check-punctuation",ul=[".",":","!","?"],pl=gt({en:{msg:"`p` elements should end with a punctuation mark.",hint:`Please make sure \`p\` elements end with one of: ${ul.map((e=>`"${e}"`)).join(", ")}.`}});var fl=Object.freeze({__proto__:null,name:dl,run:function(e){if(!e.lint?.["check-punctuation"])return;const t=new RegExp(`[${ul.join("")}\\]]$|^ *$`,"m"),n=[...document.querySelectorAll("p:not(#back-to-top,#w3c-state)")].filter((e=>!t.test(e.textContent.trim())));n.length&&Ot(pl.msg,dl,{hint:pl.hint,elements:n})}});const hl="core/linter-rules/check-internal-slots",ml=gt({en:{msg:"Internal slots should be preceded by a '.'",hint:"Add a '.' between the elements mentioned."}});var gl=Object.freeze({__proto__:null,name:hl,run:function(e){if(!e.lint?.["check-internal-slots"])return;const t=[...document.querySelectorAll("var+a")].filter((({previousSibling:{nodeName:e}})=>e&&"VAR"===e));t.length&&Ot(ml.msg,hl,{hint:ml.hint,elements:t})}});const bl="core/linter-rules/local-refs-exist",yl=gt({en:{msg:"Broken local reference found in document.",hint:"Please fix the links mentioned."}});function vl(e){const t=e.getAttribute("href").substring(1),n=e.ownerDocument;return!n.getElementById(t)&&!n.getElementsByName(t).length}var wl=Object.freeze({__proto__:null,name:bl,run:function(e){if(!e.lint?.["local-refs-exist"])return;const t=[...document.querySelectorAll("a[href^='#']")].filter(vl);t.length&&Ot(yl.msg,bl,{hint:yl.hint,elements:t})}});const $l="core/linter-rules/no-headingless-sections",_l=gt({en:{msg:"All sections must start with a `h2-6` element.",hint:"Add a `h2-6` to the offending section or use a `<div>`."},nl:{msg:"Alle secties moeten beginnen met een `h2-6` element.",hint:"Voeg een `h2-6` toe aan de conflicterende sectie of gebruik een `<div>`."},zh:{msg:"所有章节（section）都必须以 `h2-6` 元素开头。",hint:"将 `h2-6` 添加到有问题的章节或使用 `<div>`。"}});var xl=Object.freeze({__proto__:null,name:$l,run:function(e){if(!e.lint?.["no-headingless-sections"])return;const t=[...document.querySelectorAll("section:not(.head,#abstract,#sotd)")].filter((({firstElementChild:e})=>!e||!(e.matches(".header-wrapper")||e instanceof HTMLHeadingElement)));t.length&&Ot(_l.msg,$l,{hint:_l.hint,elements:t})}});const El="core/linter-rules/no-unused-vars",kl=gt({en:{msg:"Variable was defined, but never used.",hint:"Add a `data-ignore-unused` attribute to the `<var>`."}});var Al=Object.freeze({__proto__:null,name:El,run:function(e){if(!e.lint?.["no-unused-vars"])return;const t=[],n=e=>!!e.querySelector(":scope > :not(section) ~ .algorithm, :scope > :not(section) .algorithm");for(const e of document.querySelectorAll("section")){if(!n(e))continue;const r=e.querySelectorAll(":scope > :not(section) var");if(!r.length)continue;const o=new Map;for(const e of r){const t=mt(e.textContent);(o.get(t)||o.set(t,[]).get(t)).push(e)}for(const e of o.values())1!==e.length||e[0].hasAttribute("data-ignore-unused")||t.push(e[0])}t.length&&Ot(kl.msg,El,{hint:kl.hint,elements:t})}});const Sl="core/linter-rules/privsec-section",Tl=gt({en:{msg:"Document must have a 'Privacy and/or Security' Considerations section.",hint:"Add a privacy and/or security considerations section. See the [Self-Review Questionnaire](https://w3ctag.github.io/security-questionnaire/)."}});var Cl=Object.freeze({__proto__:null,name:Sl,run:function(e){var t;e.lint?.["privsec-section"]&&e.isRecTrack&&(t=document,!Array.from(t.querySelectorAll("h2, h3, h4, h5, h6")).some((({textContent:e})=>{const t=/(privacy|security)/im.test(e),n=/(considerations)/im.test(e);return t&&n||t})))&&Ot(Tl.msg,Sl,{hint:Tl.hint})}});const Il="core/linter-rules/wpt-tests-exist",Rl=gt({en:{msg:"The following test could not be found in Web Platform Tests:",hint:"Check [wpt.live](https://wpt.live) to see if it was deleted or renamed."}});var Nl=Object.freeze({__proto__:null,name:Il,run:async function(e){if(!e.lint?.["wpt-tests-exist"])return;const t=await async function(e,t){let n;try{const t=new URL(e);if(t.pathname.startsWith("/web-platform-tests/wpt/tree/master/")){const e=/web-platform-tests\/wpt\/tree\/master\/(.+)/;n=t.pathname.match(e)[1].replace(/\//g,"")}else n=t.pathname.replace(/\//g,"")}catch(e){return Ot("Failed to parse WPT directory from testSuiteURI",`linter/${Il}`),console.error(e),null}const r=new URL("web-platform-tests/wpt/files",`${t}/`);r.searchParams.set("path",n);const o=await fetch(r);if(!o.ok){return Ot(`Failed to fetch files from WPT repository. Request failed with error: ${await o.text()} (${o.status})`,`linter/${Il}`),null}const{entries:a}=await o.json(),i=a.filter((e=>!e.endsWith("/")));return new Set(i)}(e.testSuiteURI,e.githubAPI);if(!t)return;const n=[...document.querySelectorAll("[data-tests]")].filter((e=>e.dataset.tests));for(const e of n)e.dataset.tests.split(/,/gm).map((e=>e.trim().split("#")[0])).filter((e=>e&&!t.has(e))).map((t=>{Ot(`${Rl.msg} \`${t}\`.`,Il,{hint:Rl.hint,elements:[e]})}))}});const Ll="core/linter-rules/no-http-props",Ol=gt({en:{msg:Mt`Insecure URLs are not allowed in ${"[respecConfig]"}.`,hint:"Please change the following properties to 'https://': "},zh:{msg:Mt`${"[respecConfig]"} 中不允许使用不安全的URL.`,hint:"请将以下属性更改为 https://："}});var Dl=Object.freeze({__proto__:null,name:Ll,run:function(e){if(!e.lint?.["no-http-props"])return;if(!parent.location.href.startsWith("http"))return;const t=Object.getOwnPropertyNames(e).filter((t=>t.endsWith("URI")&&e[t]||"prevED"===t)).filter((t=>new URL(e[t],parent.location.href).href.startsWith("http://")));if(t.length){const e=pt(t,(e=>Mt`${`[${e}]`}`));Ot(Ol.msg,Ll,{hint:Ol.hint+e})}}});const Pl="core/linter-rules/a11y",ql=["color-contrast","landmark-one-main","landmark-unique","region"];function jl(e){const t=[];for(const n of e.split("\n\n")){const[e,...r]=n.split(/^\s{2}/m),o=r.map((e=>`- ${e.trimEnd()}`)).join("\n");t.push(`${e}${o}`)}return t.join("\n\n")}var Ml=Object.freeze({__proto__:null,name:Pl,run:async function(e){if(!e.lint?.a11y&&!e.a11y)return;const t=e.lint?.a11y||e.a11y,n=!0===t?{}:t,r=await async function(e){const{rules:t,...n}=e,r={rules:{...Object.fromEntries(ql.map((e=>[e,{enabled:!1}]))),...t},...n,elementRef:!0,resultTypes:["violations"],reporter:"v1"};let o;try{o=await function(){const e=document.createElement("script");return e.classList.add("remove"),e.src="https://cdn.jsdelivr.net/npm/axe-core@4/axe.min.js",document.head.appendChild(e),new Promise(((t,n)=>{e.onload=()=>t(window.axe),e.onerror=n}))}()}catch(e){return Lt("Failed to load a11y linter.",Pl),console.error(e),[]}try{return(await o.run(document,r)).violations}catch(e){return Lt("Error while looking for a11y issues.",Pl),console.error(e),[]}}(n);for(const e of r){const t=new Map;for(const n of e.nodes){const{failureSummary:e,element:r}=n;(t.get(e)||t.set(e,[]).get(e)).push(r)}const{id:n,help:r,description:o,helpUrl:a}=e,i=`a11y/${n}: ${r}.`;for(const[e,n]of t){const t=jl(e);Ot(i,Pl,{details:`\n\n${o}.\n\n${t}. ([Learn more](${a}))`,elements:n})}}}}),zl=Object.freeze({__proto__:null,default:'// ReSpec Worker v1.0.0\n"use strict";\ntry {\n  importScripts("https://www.w3.org/Tools/respec/respec-highlight");\n} catch (err) {\n  console.error("Network error loading highlighter", err);\n}\n\nself.addEventListener("message", ({ data: originalData }) => {\n  const data = Object.assign({}, originalData);\n  switch (data.action) {\n    case "highlight-load-lang": {\n      const { langURL, propName, lang } = data;\n      importScripts(langURL);\n      self.hljs.registerLanguage(lang, self[propName]);\n      break;\n    }\n    case "highlight": {\n      const { code } = data;\n      const langs = data.languages.length ? data.languages : undefined;\n      try {\n        const { value, language } = self.hljs.highlightAuto(code, langs);\n        Object.assign(data, { value, language });\n      } catch (err) {\n        console.error("Could not transform some code?", err);\n        // Post back the original code\n        Object.assign(data, { value: code, language: "" });\n      }\n      break;\n    }\n  }\n  self.postMessage(data);\n});\n'}),Fl=Object.freeze({__proto__:null,default:'(() => {\n// @ts-check\nif (document.respec) {\n  document.respec.ready.then(setupPanel);\n} else {\n  setupPanel();\n}\n\nfunction setupPanel() {\n  const listener = panelListener();\n  document.body.addEventListener("keydown", listener);\n  document.body.addEventListener("click", listener);\n}\n\nfunction panelListener() {\n  /** @type {HTMLElement} */\n  let panel = null;\n  return event => {\n    const { target, type } = event;\n\n    if (!(target instanceof HTMLElement)) return;\n\n    // For keys, we only care about Enter key to activate the panel\n    // otherwise it\'s activated via a click.\n    if (type === "keydown" && event.key !== "Enter") return;\n\n    const action = deriveAction(event);\n\n    switch (action) {\n      case "show": {\n        hidePanel(panel);\n        /** @type {HTMLElement} */\n        const dfn = target.closest("dfn, .index-term");\n        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);\n        const coords = deriveCoordinates(event);\n        displayPanel(dfn, panel, coords);\n        break;\n      }\n      case "dock": {\n        panel.style.left = null;\n        panel.style.top = null;\n        panel.classList.add("docked");\n        break;\n      }\n      case "hide": {\n        hidePanel(panel);\n        panel = null;\n        break;\n      }\n    }\n  };\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent} event\n */\nfunction deriveCoordinates(event) {\n  const target = /** @type HTMLElement */ (event.target);\n\n  // We prevent synthetic AT clicks from putting\n  // the dialog in a weird place. The AT events sometimes\n  // lack coordinates, so they have clientX/Y = 0\n  const rect = target.getBoundingClientRect();\n  if (\n    event instanceof MouseEvent &&\n    event.clientX >= rect.left &&\n    event.clientY >= rect.top\n  ) {\n    // The event probably happened inside the bounding rect...\n    return { x: event.clientX, y: event.clientY };\n  }\n\n  // Offset to the middle of the element\n  const x = rect.x + rect.width / 2;\n  // Placed at the bottom of the element\n  const y = rect.y + rect.height;\n  return { x, y };\n}\n\n/**\n * @param {Event} event\n */\nfunction deriveAction(event) {\n  const target = /** @type {HTMLElement} */ (event.target);\n  const hitALink = !!target.closest("a");\n  if (target.closest("dfn:not([data-cite]), .index-term")) {\n    return hitALink ? "none" : "show";\n  }\n  if (target.closest(".dfn-panel")) {\n    if (hitALink) {\n      return target.classList.contains("self-link") ? "hide" : "dock";\n    }\n    const panel = target.closest(".dfn-panel");\n    return panel.classList.contains("docked") ? "hide" : "none";\n  }\n  if (document.querySelector(".dfn-panel:not([hidden])")) {\n    return "hide";\n  }\n  return "none";\n}\n\n/**\n * @param {HTMLElement} dfn\n * @param {HTMLElement} panel\n * @param {{ x: number, y: number }} clickPosition\n */\nfunction displayPanel(dfn, panel, { x, y }) {\n  panel.hidden = false;\n  // distance (px) between edge of panel and the pointing triangle (caret)\n  const MARGIN = 20;\n\n  const dfnRects = dfn.getClientRects();\n  // Find the `top` offset when the `dfn` can be spread across multiple lines\n  let closestTop = 0;\n  let minDiff = Infinity;\n  for (const rect of dfnRects) {\n    const { top, bottom } = rect;\n    const diffFromClickY = Math.abs((top + bottom) / 2 - y);\n    if (diffFromClickY < minDiff) {\n      minDiff = diffFromClickY;\n      closestTop = top;\n    }\n  }\n\n  const top = window.scrollY + closestTop + dfnRects[0].height;\n  const left = x - MARGIN;\n  panel.style.left = `${left}px`;\n  panel.style.top = `${top}px`;\n\n  // Find if the panel is flowing out of the window\n  const panelRect = panel.getBoundingClientRect();\n  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);\n  if (panelRect.right > SCREEN_WIDTH) {\n    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);\n    const newCaretOffset = left - newLeft;\n    panel.style.left = `${newLeft}px`;\n    /** @type {HTMLElement} */\n    const caret = panel.querySelector(".caret");\n    caret.style.left = `${newCaretOffset}px`;\n  }\n\n  // As it\'s a dialog, we trap focus.\n  // TODO: when <dialog> becomes a implemented, we should really\n  // use that.\n  trapFocus(panel, dfn);\n}\n\n/**\n * @param {HTMLElement} panel\n * @param {HTMLElement} dfn\n * @returns\n */\nfunction trapFocus(panel, dfn) {\n  /** @type NodeListOf<HTMLAnchorElement> elements */\n  const anchors = panel.querySelectorAll("a[href]");\n  // No need to trap focus\n  if (!anchors.length) return;\n\n  // Move focus to first anchor element\n  const first = anchors.item(0);\n  first.focus();\n\n  const trapListener = createTrapListener(anchors, panel, dfn);\n  panel.addEventListener("keydown", trapListener);\n\n  // Hiding the panel releases the trap\n  const mo = new MutationObserver(records => {\n    const [record] = records;\n    const target = /** @type HTMLElement */ (record.target);\n    if (target.hidden) {\n      panel.removeEventListener("keydown", trapListener);\n      mo.disconnect();\n    }\n  });\n  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });\n}\n\n/**\n *\n * @param {NodeListOf<HTMLAnchorElement>} anchors\n * @param {HTMLElement} panel\n * @param {HTMLElement} dfn\n * @returns\n */\nfunction createTrapListener(anchors, panel, dfn) {\n  const lastIndex = anchors.length - 1;\n  let currentIndex = 0;\n  return event => {\n    switch (event.key) {\n      // Hitting "Tab" traps us in a nice loop around elements.\n      case "Tab": {\n        event.preventDefault();\n        currentIndex += event.shiftKey ? -1 : +1;\n        if (currentIndex < 0) {\n          currentIndex = lastIndex;\n        } else if (currentIndex > lastIndex) {\n          currentIndex = 0;\n        }\n        anchors.item(currentIndex).focus();\n        break;\n      }\n\n      // Hitting "Enter" on an anchor releases the trap.\n      case "Enter":\n        hidePanel(panel);\n        break;\n\n      // Hitting "Escape" returns focus to dfn.\n      case "Escape":\n        hidePanel(panel);\n        dfn.focus();\n        return;\n    }\n  };\n}\n\n/** @param {HTMLElement} panel */\nfunction hidePanel(panel) {\n  if (!panel) return;\n  panel.hidden = true;\n  panel.classList.remove("docked");\n}\n})()'})}();
//# sourceMappingURL=respec-1edtech.js.map
