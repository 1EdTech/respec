window.respecVersion="26.16.1",function(){"use strict";const e=!!window.require;if(!e){const e=function(e,t){const n=e.map((e=>{if(!(e in window.require.modules))throw new Error(`Unsupported dependency name: ${e}`);return window.require.modules[e]}));Promise.all(n).then((e=>t(...e)))};e.modules={},window.require=e}function t(t,n){e||(window.require.modules[t]=n)}const n=document.documentElement;n&&!n.hasAttribute("lang")&&(n.lang="en",n.hasAttribute("dir")||(n.dir="ltr"));const r={},o=n.lang;var i=Object.freeze({__proto__:null,name:"core/l10n",l10n:r,lang:o,run:function(e){e.l10n=r[o]||r.en}});let s,a;const c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(b(this),t),g(c.get(this))}:function(...t){return g(e.apply(b(this),t))}:function(t,...n){const r=e.call(b(this),t,...n);return d.set(r,t.sort?t.sort():[t]),g(r)}}function m(e){return"function"==typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));l.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,f):e);var t}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(g(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),p.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=m(e);return t!==e&&(u.set(e,t),p.set(t,e)),t}const b=e=>p.get(e);const y=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],v=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(v.get(t))return v.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!y.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let s=i.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),o&&i.done]))[0]};return v.set(t,i),i}f=(e=>({...e,get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(f);var $=Object.freeze({__proto__:null,deleteDB:function(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),g(n).then((()=>{}))},openDB:function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=g(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(g(s.result),e.oldVersion,e.newVersion,g(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),a},unwrap:b,wrap:g});const k=/^[!#$%&'*+-.^`|~\w]+$/,S=/[\u000A\u000D\u0009\u0020]/u,_=/^[\u0009\u{0020}-\{u0073}\u{0080}-\u{00FF}]+$/u;function E(e,t,n){(t&&""!==t&&!e.has(t)&&_.test(n)||null===n)&&e.set(t.toLowerCase(),n)}var C={exports:{}},A={exports:{}};function T(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}A.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:T,changeDefaults:function(e){A.exports.defaults=e}};const L=/[&<>"']/,N=/[&<>"']/g,I=/[<>"']|&(?!#?\w+;)/,R=/[<>"']|&(?!#?\w+;)/g,O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j=e=>O[e];const P=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function z(e){return e.replace(P,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const M=/(^|[^\[])\^/g;const D=/[^\w:]/g,q=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const F={},U=/^[^:]+:\/*[^/]*$/,B=/^([^:]+:)[\s\S]*$/,W=/^([^:]+:\/*[^/]*)[\s\S]*$/;function H(e,t){F[" "+e]||(U.test(e)?F[" "+e]=e+"/":F[" "+e]=V(e,"/",!0));const n=-1===(e=F[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(B,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(W,"$1")+t:e+t}function V(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.substr(0,r-o)}var Y={escape:function(e,t){if(t){if(L.test(e))return e.replace(N,j)}else if(I.test(e))return e.replace(R,j);return e},unescape:z,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(M,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(z(n)).replace(D,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!q.test(n)&&(n=H(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:H,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:V,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},repeatString:function(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}};const{defaults:G}=A.exports,{rtrim:K,splitCells:Z,escape:X,findClosingBracket:J}=Y;function Q(e,t,n,r){const o=t.href,i=t.title?X(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:i,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:i,text:X(s)}}var ee=class{constructor(e){this.options=e||G}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:K(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=K(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,o,i,s,a,c,l,d,u,p=t[1].trim();const f=p.length>1,h={type:"list",raw:"",ordered:f,start:f?+p.slice(0,-1):"",loose:!1,items:[]};p=f?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=f?p:"[*+-]");const m=new RegExp(`^( {0,3}${p})((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))`);for(;e&&!this.rules.block.hr.test(e)&&(t=m.exec(e));){d=t[2].split("\n"),this.options.pedantic?(i=2,u=d[0].trimLeft()):(i=t[2].search(/[^ ]/),i=t[1].length+(i>4?1:i),u=d[0].slice(i-t[1].length)),a=!1,n=t[0],!d[0]&&/^ *$/.test(d[1])&&(n=t[1]+d.slice(0,2).join("\n")+"\n",h.loose=!0,d=[]);const p=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(s=1;s<d.length;s++){if(l=d[s],this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),p.test(l)){n=t[1]+d.slice(0,s).join("\n")+"\n";break}if(a){if(!(l.search(/[^ ]/)>=i)&&l.trim()){n=t[1]+d.slice(0,s).join("\n")+"\n";break}u+="\n"+l.slice(i)}else l.trim()||(a=!0),l.search(/[^ ]/)>=i?u+="\n"+l.slice(i):u+="\n"+l}h.loose||(c?h.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(u),r&&(o="[ ] "!==r[0],u=u.replace(/^\[[ xX]\] +/,""))),h.items.push({type:"list_item",raw:n,task:!!r,checked:o,loose:!1,text:u}),h.raw+=n,e=e.slice(n.length)}h.items[h.items.length-1].raw=n.trimRight(),h.items[h.items.length-1].text=u.trimRight(),h.raw=h.raw.trimRight();const g=h.items.length;for(s=0;s<g;s++)this.lexer.state.top=!1,h.items[s].tokens=this.lexer.blockTokens(h.items[s].text,[]),h.items[s].tokens.some((e=>"space"===e.type))&&(h.loose=!0,h.items[s].loose=!0);return h}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):X(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:Z(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,o,i,s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(s=e.rows.length,n=0;n<s;n++)e.rows[n]=Z(e.rows[n],e.header.length).map((e=>({text:e})));for(s=e.header.length,r=0;r<s;r++)e.header[r].tokens=[],this.lexer.inlineTokens(e.header[r].text,e.header[r].tokens);for(s=e.rows.length,r=0;r<s;r++)for(i=e.rows[r],o=0;o<i.length;o++)i[o].tokens=[],this.lexer.inlineTokens(i[o].text,i[o].tokens);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:X(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):X(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=K(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=J(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Q(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Q(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const o=r[1]||r[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let o,i,s=n,a=0;const c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=c.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=o.length,r[3]||r[4]){s+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){a+=i;continue}if(s-=i,s>0)continue;if(i=Math.min(i,i+s+a),Math.min(n,i)%2){const t=e.slice(1,n+r.index+i);return{type:"em",raw:e.slice(0,n+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,n+r.index+i-1);return{type:"strong",raw:e.slice(0,n+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=X(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=X(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=X(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=X(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=X(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):X(n[0]):n[0]:X(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}};const{noopTest:te,edit:ne,merge:re}=Y,oe={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:te,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};oe.def=ne(oe.def).replace("label",oe._label).replace("title",oe._title).getRegex(),oe.bullet=/(?:[*+-]|\d{1,9}[.)])/,oe.listItemStart=ne(/^( *)(bull) */).replace("bull",oe.bullet).getRegex(),oe.list=ne(oe.list).replace(/bull/g,oe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+oe.def.source+")").getRegex(),oe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",oe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,oe.html=ne(oe.html,"i").replace("comment",oe._comment).replace("tag",oe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oe.paragraph=ne(oe._paragraph).replace("hr",oe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe._tag).getRegex(),oe.blockquote=ne(oe.blockquote).replace("paragraph",oe.paragraph).getRegex(),oe.normal=re({},oe),oe.gfm=re({},oe.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),oe.gfm.table=ne(oe.gfm.table).replace("hr",oe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe._tag).getRegex(),oe.pedantic=re({},oe.normal,{html:ne("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",oe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:te,paragraph:ne(oe.normal._paragraph).replace("hr",oe.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",oe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ie={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:te,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:te,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};ie.punctuation=ne(ie.punctuation).replace(/punctuation/g,ie._punctuation).getRegex(),ie.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ie.escapedEmSt=/\\\*|\\_/g,ie._comment=ne(oe._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ie.emStrong.lDelim=ne(ie.emStrong.lDelim).replace(/punct/g,ie._punctuation).getRegex(),ie.emStrong.rDelimAst=ne(ie.emStrong.rDelimAst,"g").replace(/punct/g,ie._punctuation).getRegex(),ie.emStrong.rDelimUnd=ne(ie.emStrong.rDelimUnd,"g").replace(/punct/g,ie._punctuation).getRegex(),ie._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ie._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ie._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ie.autolink=ne(ie.autolink).replace("scheme",ie._scheme).replace("email",ie._email).getRegex(),ie._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ie.tag=ne(ie.tag).replace("comment",ie._comment).replace("attribute",ie._attribute).getRegex(),ie._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ie._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ie._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ie.link=ne(ie.link).replace("label",ie._label).replace("href",ie._href).replace("title",ie._title).getRegex(),ie.reflink=ne(ie.reflink).replace("label",ie._label).getRegex(),ie.reflinkSearch=ne(ie.reflinkSearch,"g").replace("reflink",ie.reflink).replace("nolink",ie.nolink).getRegex(),ie.normal=re({},ie),ie.pedantic=re({},ie.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",ie._label).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ie._label).getRegex()}),ie.gfm=re({},ie.normal,{escape:ne(ie.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ie.gfm.url=ne(ie.gfm.url,"i").replace("email",ie.gfm._extended_email).getRegex(),ie.breaks=re({},ie.gfm,{br:ne(ie.br).replace("{2,}","*").getRegex(),text:ne(ie.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var se={block:oe,inline:ie};const ae=ee,{defaults:ce}=A.exports,{block:le,inline:de}=se,{repeatString:ue}=Y;function pe(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function fe(e){let t,n,r="";const o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var he=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ce,this.options.tokenizer=this.options.tokenizer||new ae,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:le.normal,inline:de.normal};this.options.pedantic?(t.block=le.pedantic,t.inline=de.pedantic):this.options.gfm&&(t.block=le.gfm,this.options.breaks?t.inline=de.breaks:t.inline=de.gfm),this.tokenizer.rules=t}static get rules(){return{block:le,inline:de}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,o,i;for(this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),n.type&&t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],i&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,r,o,i,s,a,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+ue("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+"["+ue("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,i.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,fe))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,fe))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o,pe))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}};const{defaults:me}=A.exports,{cleanUrl:ge,escape:be}=Y;var ye=class{constructor(e){this.options=e||me}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+be(r,!0)+'">'+(n?e:be(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:be(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=ge(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+be(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=ge(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}},we=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},ve=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}};const xe=ye,$e=we,ke=ve,{defaults:Se}=A.exports,{unescape:_e}=Y;var Ee=class e{constructor(e){this.options=e||Se,this.options.renderer=this.options.renderer||new xe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $e,this.slugger=new ke}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n,r,o,i,s,a,c,l,d,u,p,f,h,m,g,b,y,w,v,x="";const $=e.length;for(n=0;n<$;n++)if(u=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(v=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==v||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))x+=v||"";else switch(u.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(u.tokens),u.depth,_e(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(l="",c="",i=u.header.length,r=0;r<i;r++)c+=this.renderer.tablecell(this.parseInline(u.header[r].tokens),{header:!0,align:u.align[r]});for(l+=this.renderer.tablerow(c),d="",i=u.rows.length,r=0;r<i;r++){for(a=u.rows[r],c="",s=a.length,o=0;o<s;o++)c+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:u.align[o]});d+=this.renderer.tablerow(c)}x+=this.renderer.table(l,d);continue;case"blockquote":d=this.parse(u.tokens),x+=this.renderer.blockquote(d);continue;case"list":for(p=u.ordered,f=u.start,h=u.loose,i=u.items.length,d="",r=0;r<i;r++)g=u.items[r],b=g.checked,y=g.task,m="",g.task&&(w=this.renderer.checkbox(b),h?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=w+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=w+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(g.tokens,h),d+=this.renderer.listitem(m,y,b);x+=this.renderer.list(d,p,f);continue;case"html":x+=this.renderer.html(u.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;n+1<$&&"text"===e[n+1].type;)u=e[++n],d+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);x+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,r,o,i="";const s=e.length;for(n=0;n<s;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(o=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))i+=o||"";else switch(r.type){case"escape":case"text":i+=t.text(r.text);break;case"html":i+=t.html(r.text);break;case"link":i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":i+=t.image(r.href,r.title,r.text);break;case"strong":i+=t.strong(this.parseInline(r.tokens,t));break;case"em":i+=t.em(this.parseInline(r.tokens,t));break;case"codespan":i+=t.codespan(r.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return i}};const Ce=he,Ae=Ee,Te=ee,Le=ye,Ne=we,Ie=ve,{merge:Re,checkSanitizeDeprecation:Oe,escape:je}=Y,{getDefaults:Pe,changeDefaults:ze,defaults:Me}=A.exports;function De(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=Re({},De.defaults,t||{}),Oe(t),n){const r=t.highlight;let o;try{o=Ce.lex(e,t)}catch(e){return n(e)}const i=function(e){let i;if(!e)try{t.walkTokens&&De.walkTokens(o,t.walkTokens),i=Ae.parse(o,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,i)};if(!r||r.length<3)return i();if(delete t.highlight,!o.length)return i();let s=0;return De.walkTokens(o,(function(e){"code"===e.type&&(s++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return i(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&i()}))}),0))})),void(0===s&&i())}try{const n=Ce.lex(e,t);return t.walkTokens&&De.walkTokens(n,t.walkTokens),Ae.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+je(e.message+"",!0)+"</pre>";throw e}}De.options=De.setOptions=function(e){return Re(De.defaults,e),ze(De.defaults),De},De.getDefaults=Pe,De.defaults=Me,De.use=function(...e){const t=Re({},...e),n=De.defaults.extensions||{renderers:{},childTokens:{}};let r;e.forEach((e=>{if(e.extensions&&(r=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=n.renderers?n.renderers[e.name]:null;n.renderers[e.name]=t?function(...n){let r=e.renderer.apply(this,n);return!1===r&&(r=t.apply(this,n)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");n[e.level]?n[e.level].unshift(e.tokenizer):n[e.level]=[e.tokenizer],e.start&&("block"===e.level?n.startBlock?n.startBlock.push(e.start):n.startBlock=[e.start]:"inline"===e.level&&(n.startInline?n.startInline.push(e.start):n.startInline=[e.start]))}e.childTokens&&(n.childTokens[e.name]=e.childTokens)}))),e.renderer){const n=De.defaults.renderer||new Le;for(const t in e.renderer){const r=n[t];n[t]=(...o)=>{let i=e.renderer[t].apply(n,o);return!1===i&&(i=r.apply(n,o)),i}}t.renderer=n}if(e.tokenizer){const n=De.defaults.tokenizer||new Te;for(const t in e.tokenizer){const r=n[t];n[t]=(...o)=>{let i=e.tokenizer[t].apply(n,o);return!1===i&&(i=r.apply(n,o)),i}}t.tokenizer=n}if(e.walkTokens){const n=De.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens.call(this,t),n&&n.call(this,t)}}r&&(t.extensions=n),De.setOptions(t)}))},De.walkTokens=function(e,t){for(const n of e)switch(t.call(De,n),n.type){case"table":for(const e of n.header)De.walkTokens(e.tokens,t);for(const e of n.rows)for(const n of e)De.walkTokens(n.tokens,t);break;case"list":De.walkTokens(n.items,t);break;default:De.defaults.extensions&&De.defaults.extensions.childTokens&&De.defaults.extensions.childTokens[n.type]?De.defaults.extensions.childTokens[n.type].forEach((function(e){De.walkTokens(n[e],t)})):n.tokens&&De.walkTokens(n.tokens,t)}},De.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Re({},De.defaults,t||{}),Oe(t);try{const n=Ce.lexInline(e,t);return t.walkTokens&&De.walkTokens(n,t.walkTokens),Ae.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+je(e.message+"",!0)+"</pre>";throw e}},De.Parser=Ae,De.parser=Ae.parse,De.Renderer=Le,De.TextRenderer=Ne,De.Lexer=Ce,De.lexer=Ce.lex,De.Tokenizer=Te,De.Slugger=Ie,De.parse=De;const qe=De,Fe=he,Ue=Ee,Be=ee,We=ye,He=we,Ve=ve;C.exports=qe,C.exports.parse=qe,C.exports.Parser=Ue,C.exports.parser=Ue.parse,C.exports.Renderer=We,C.exports.TextRenderer=He,C.exports.Lexer=Fe,C.exports.lexer=Fe.lex,C.exports.Tokenizer=Be,C.exports.Slugger=Ve;var Ye=C.exports;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ge,Ke={exports:{}};Ge=Ke,function(e,t){Ge.exports=t()}(0,(function(){var e=[],t=[],n={},r={},o={};function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function a(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function c(e,t){return e.replace(t[0],(function(n,r){var o=a(t[1],arguments);return s(""===n?e[r-1]:n,o)}))}function l(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var o=r.length;o--;){var i=r[o];if(i[0].test(t))return c(t,i)}return t}function d(e,t,n){return function(r){var o=r.toLowerCase();return t.hasOwnProperty(o)?s(r,o):e.hasOwnProperty(o)?s(r,e[o]):l(o,r,n)}}function u(e,t,n,r){return function(r){var o=r.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&l(o,o,n)===o}}function p(e,t,n){return(n?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=d(o,r,e),p.isPlural=u(o,r,e),p.singular=d(r,o,t),p.isSingular=u(r,o,t),p.addPluralRule=function(t,n){e.push([i(t),n])},p.addSingularRule=function(e,n){t.push([i(e),n])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}));var Ze=Ke.exports,Xe=function(e){var t={};try{t.WeakMap=WeakMap}catch(d){t.WeakMap=function(e,t){var n=t.defineProperty,r=t.hasOwnProperty,o=i.prototype;return o.delete=function(e){return this.has(e)&&delete e[this._]},o.get=function(e){return this.has(e)?e[this._]:void 0},o.has=function(e){return r.call(e,this._)},o.set=function(e,t){return n(e,this._,{configurable:!0,value:t}),this},i;function i(t){n(this,"_",{value:"_@ungap/weakmap"+e++}),t&&t.forEach(s,this)}function s(e){this.set(e[0],e[1])}}(Math.random(),Object)}var n=t.WeakMap,r={};try{r.WeakSet=WeakSet}catch(d){!function(e,t){var n=o.prototype;function o(){t(this,"_",{value:"_@ungap/weakmap"+e++})}n.add=function(e){return this.has(e)||t(e,this._,{value:!0,configurable:!0}),this},n.has=function(e){return this.hasOwnProperty.call(e,this._)},n.delete=function(e){return this.has(e)&&delete e[this._]},r.WeakSet=o}(Math.random(),Object.defineProperty)}function o(e,t,n,r,o,i){for(var s=("selectedIndex"in t),a=s;r<o;){var c,l=e(n[r],1);t.insertBefore(l,i),s&&a&&l.selected&&(a=!a,c=t.selectedIndex,t.selectedIndex=c<0?r:u.call(t.querySelectorAll("option"),l)),r++}}function i(e,t){return e==t}function s(e){return e}function a(e,t,n,r,o,i,s){var a=i-o;if(a<1)return-1;for(;a<=n-t;){for(var c=t,l=o;c<n&&l<i&&s(e[c],r[l]);)c++,l++;if(l===i)return t;t=c+1}return-1}function c(e,t,n,r,o){return n<r?e(t[n],0):0<n?e(t[n-1],-0).nextSibling:o}function l(e,t,n,r){for(;n<r;)f(e(t[n++],-1))}var d=r.WeakSet,u=[].indexOf,p=function(e,t,n){for(var r=1,o=t;r<o;){var i=(r+o)/2>>>0;n<e[i]?o=i:r=1+i}return r},f=function(e){return(e.remove||function(){var e=this.parentNode;e&&e.removeChild(this)}).call(e)};function h(e,t,n,r){for(var d=(r=r||{}).compare||i,u=r.node||s,f=null==r.before?null:u(r.before,0),h=t.length,m=h,g=0,b=n.length,y=0;g<m&&y<b&&d(t[g],n[y]);)g++,y++;for(;g<m&&y<b&&d(t[m-1],n[b-1]);)m--,b--;var w=g===m,v=y===b;if(w&&v)return n;if(w&&y<b)return o(u,e,n,y,b,c(u,t,g,h,f)),n;if(v&&g<m)return l(u,t,g,m),n;var x=m-g,$=b-y,k=-1;if(x<$){if(-1<(k=a(n,y,b,t,g,m,d)))return o(u,e,n,y,k,u(t[g],0)),o(u,e,n,k+x,b,c(u,t,m,h,f)),n}else if($<x&&-1<(k=a(t,g,m,n,y,b,d)))return l(u,t,g,k),l(u,t,k+$,m),n;return x<2||$<2?(o(u,e,n,y,b,u(t[g],0)),l(u,t,g,m)):x==$&&function(e,t,n,r,o,i){for(;r<o&&i(n[r],e[t-1]);)r++,t--;return 0===t}(n,b,t,g,m,d)?o(u,e,n,y,b,c(u,t,m,h,f)):function(e,t,n,r,i,s,a,c,d,u,f,h,m){!function(e,t,n,r,i,s,a,c,d){for(var u=[],p=e.length,f=a,h=0;h<p;)switch(e[h++]){case 0:i++,f++;break;case 1:u.push(r[i]),o(t,n,r,i++,i,f<c?t(s[f],0):d);break;case-1:f++}for(h=0;h<p;)switch(e[h++]){case 0:a++;break;case-1:-1<u.indexOf(s[a])?a++:l(t,s,a++,a)}}(function(e,t,n,r,o,i,s){var a,c,l,d,u,p,f=n+i,h=[];e:for(b=0;b<=f;b++){if(50<b)return null;for(p=b-1,d=b?h[b-1]:[0,0],u=h[b]=[],a=-b;a<=b;a+=2){for(c=(l=a===-b||a!==b&&d[p+a-1]<d[p+a+1]?d[p+a+1]:d[p+a-1]+1)-a;l<i&&c<n&&s(r[o+l],e[t+c]);)l++,c++;if(l===i&&c===n)break e;u[b+a]=l}}for(var m=Array(b/2+f/2),g=m.length-1,b=h.length-1;0<=b;b--){for(;0<l&&0<c&&s(r[o+l-1],e[t+c-1]);)m[g--]=0,l--,c--;if(!b)break;p=b-1,d=b?h[b-1]:[0,0],(a=l-c)==-b||a!==b&&d[p+a-1]<d[p+a+1]?(c--,m[g--]=1):(l--,m[g--]=-1)}return m}(n,r,s,a,c,u,h)||function(e,t,n,r,o,i,s,a){var c=0,l=r<a?r:a,d=Array(l++),u=Array(l);u[0]=-1;for(var f=1;f<l;f++)u[f]=s;for(var h=o.slice(i,s),m=t;m<n;m++){var g,b=h.indexOf(e[m]);-1<b&&-1<(c=p(u,l,g=b+i))&&(u[c]=g,d[c]={newi:m,oldi:g,prev:d[c-1]})}for(c=--l,--s;u[c]>s;)--c;l=a+r-c;var y=Array(l),w=d[c];for(--n;w;){for(var v=w.newi,x=w.oldi;v<n;)y[--l]=1,--n;for(;x<s;)y[--l]=-1,--s;y[--l]=0,--n,--s,w=w.prev}for(;t<=n;)y[--l]=1,--n;for(;i<=s;)y[--l]=-1,--s;return y}(n,r,i,s,a,c,d,u),e,t,n,r,a,c,f,m)}(u,e,n,y,b,$,t,g,m,x,h,d,f),n}var m={};function g(t,n){n=n||{};var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,!!n.bubbles,!!n.cancelable,n.detail),r}m.CustomEvent="function"==typeof CustomEvent?CustomEvent:(g["prototype"]=new g("").constructor.prototype,g);var b=m.CustomEvent,y={};try{y.Map=Map}catch(d){y.Map=function(){var e=0,t=[],n=[];return{delete:function(o){var i=r(o);return i&&(t.splice(e,1),n.splice(e,1)),i},forEach:function(e,r){t.forEach((function(t,o){e.call(r,n[o],t,this)}),this)},get:function(t){return r(t)?n[e]:void 0},has:r,set:function(o,i){return n[r(o)?e:t.push(o)-1]=i,this}};function r(n){return-1<(e=t.indexOf(n))}}}var w=y.Map;function v(){return this}function x(e,t){var n="_"+e+"$";return{get:function(){return this[n]||$(this,n,t.call(this,e))},set:function(e){$(this,n,e)}}}var $=function(e,t,n){return Object.defineProperty(e,t,{configurable:!0,value:"function"==typeof n?function(){return e._wire$=n.apply(this,arguments)}:n})[t]};Object.defineProperties(v.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});var k,S,_,E,C,A,T={},L={},N=[],I=L.hasOwnProperty,R=0,O={attributes:T,define:function(e,t){e.indexOf("-")<0?(e in L||(R=N.push(e)),L[e]=t):T[e]=t},invoke:function(e,t){for(var n=0;n<R;n++){var r=N[n];if(I.call(e,r))return L[r](e[r],t)}}},j=Array.isArray||(S=(k={}.toString).call([]),function(e){return k.call(e)===S}),P=(_=e,E="fragment",A="content"in M(C="template")?function(e){var t=M(C);return t.innerHTML=e,t.content}:function(e){var t,n=M(E),r=M(C);return z(n,/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)?(t=RegExp.$1,r.innerHTML="<table>"+e+"</table>",r.querySelectorAll(t)):(r.innerHTML=e,r.childNodes)),n},function(e,t){return("svg"===t?function(e){var t=M(E),n=M("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",z(t,n.firstChild.childNodes),t}:A)(e)});function z(e,t){for(var n=t.length;n--;)e.appendChild(t[0])}function M(e){return e===E?_.createDocumentFragment():_.createElementNS("http://www.w3.org/1999/xhtml",e)}var D,q,F,U,B,W,H,V,Y,G=(q="appendChild",F="cloneNode",U="createTextNode",W=(B="importNode")in(D=e),(H=D.createDocumentFragment())[q](D[U]("g")),H[q](D[U]("")),(W?D[B](H,!0):H[F](!0)).childNodes.length<2?function e(t,n){for(var r=t[F](),o=t.childNodes||[],i=o.length,s=0;n&&s<i;s++)r[q](e(o[s],n));return r}:W?D[B]:function(e,t){return e[F](!!t)}),K="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},Z="-"+Math.random().toFixed(6)+"%",X=!1;try{V=e.createElement("template"),Y="tabindex","content"in V&&(V.innerHTML="<p "+Y+'="'+Z+'"></p>',V.content.childNodes[0].getAttribute(Y)==Z)||(Z="_dt: "+Z.slice(1,-1)+";",X=!0)}catch(d){}var J="\x3c!--"+Z+"--\x3e",Q=/^(?:style|textarea)$/i,ee=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,te=" \\f\\n\\r\\t",ne="[^"+te+"\\/>\"'=]+",re="["+te+"]+"+ne,oe="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",ie="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+ne.replace("\\/","")+"))?)",se=new RegExp(oe+re+ie+"+)(["+te+"]*/?>)","g"),ae=new RegExp(oe+re+ie+"*)(["+te+"]*/>)","g"),ce=new RegExp("("+re+"\\s*=\\s*)(['\"]?)"+J+"\\2","gi");function le(e,t,n,r){return"<"+t+n.replace(ce,de)+r}function de(e,t,n){return t+(n||'"')+Z+(n||'"')}function ue(e,t,n){return ee.test(t)?e:"<"+t+n+"></"+t+">"}var pe=X?function(e,t){var n=t.join(" ");return t.slice.call(e,0).sort((function(e,t){return n.indexOf(e.name)<=n.indexOf(t.name)?-1:1}))}:function(e,t){return t.slice.call(e,0)};function fe(t,n,r,o){for(var i=t.childNodes,s=i.length,a=0;a<s;){var c=i[a];switch(c.nodeType){case 1:var l=o.concat(a);!function(t,n,r,o){for(var i,s=t.attributes,a=[],c=[],l=pe(s,r),d=l.length,u=0;u<d;){var p=l[u++],f=p.value===Z;if(f||1<(i=p.value.split(J)).length){var h=p.name;if(a.indexOf(h)<0){a.push(h);var m=r.shift().replace(f?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+h+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),g=s[m]||s[m.toLowerCase()];if(f)n.push(he(g,o,m,null));else{for(var b=i.length-2;b--;)r.shift();n.push(he(g,o,m,i))}}c.push(p)}}for(var y=((u=0)<(d=c.length)&&X&&!("ownerSVGElement"in t));u<d;){var w=c[u++];y&&(w.value=""),t.removeAttribute(w.name)}var v=t.nodeName;if(/^script$/i.test(v)){var x=e.createElement(v);for(d=s.length,u=0;u<d;)x.setAttributeNode(s[u++].cloneNode(!0));x.textContent=t.textContent,t.parentNode.replaceChild(x,t)}}(c,n,r,l),fe(c,n,r,l);break;case 8:var d=c.textContent;if(d===Z)r.shift(),n.push(Q.test(t.nodeName)?me(t,o):{type:"any",node:c,path:o.concat(a)});else switch(d.slice(0,2)){case"/*":if("*/"!==d.slice(-2))break;case"👻":t.removeChild(c),a--,s--}break;case 3:Q.test(t.nodeName)&&K.call(c.textContent)===J&&(r.shift(),n.push(me(t,o)))}a++}}function he(e,t,n,r){return{type:"attr",node:e,path:t,name:n,sparse:r}}function me(e,t){return{type:"text",node:e,path:t}}var ge,be=(ge=new n,{get:function(e){return ge.get(e)},set:function(e,t){return ge.set(e,t),t}});function ye(e,t){var n=(e.convert||function(e){return e.join(J).replace(ae,ue).replace(se,le)})(t),r=e.transform;r&&(n=r(n));var o=P(n,e.type);ve(o);var i=[];return fe(o,i,t.slice(0),[]),{content:o,updates:function(n){for(var r=[],o=i.length,s=0,a=0;s<o;){var c=i[s++],l=function(e,t){for(var n=t.length,r=0;r<n;)e=e.childNodes[t[r++]];return e}(n,c.path);switch(c.type){case"any":r.push({fn:e.any(l,[]),sparse:!1});break;case"attr":var d=c.sparse,u=e.attribute(l,c.name,c.node);null===d?r.push({fn:u,sparse:!1}):(a+=d.length-2,r.push({fn:u,sparse:!0,values:d}));break;case"text":r.push({fn:e.text(l),sparse:!1}),l.textContent=""}}return o+=a,function(){var e=arguments.length;if(o!==e-1)throw new Error(e-1+" values instead of "+o+"\n"+t.join("${value}"));for(var i=1,s=1;i<e;){var a=r[i-s];if(a.sparse){var c=a.values,l=c[0],d=1,u=c.length;for(s+=u-2;d<u;)l+=arguments[i++]+c[d++];a.fn(l)}else a.fn(arguments[i++])}return n}}}}var we=[];function ve(e){for(var t=e.childNodes,n=t.length;n--;){var r=t[n];1!==r.nodeType&&0===K.call(r.textContent).length&&e.removeChild(r)}}var xe,$e,ke=(xe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,$e=/([^A-Z])([A-Z]+)/g,function(e,t){return"ownerSVGElement"in e?function(e,t){var n;return(n=t?t.cloneNode(!0):(e.setAttribute("style","--hyper:style;"),e.getAttributeNode("style"))).value="",e.setAttributeNode(n),_e(n,!0)}(e,t):_e(e.style,!1)});function Se(e,t,n){return t+"-"+n.toLowerCase()}function _e(e,t){var n,r;return function(o){var i,s,a,c;switch(typeof o){case"object":if(o){if("object"===n){if(!t&&r!==o)for(s in r)s in o||(e[s]="")}else t?e.value="":e.cssText="";for(s in i=t?{}:e,o)a="number"!=typeof(c=o[s])||xe.test(s)?c:c+"px",!t&&/^--/.test(s)?i.setProperty(s,a):i[s]=a;n="object",t?e.value=function(e){var t,n=[];for(t in e)n.push(t.replace($e,Se),":",e[t],";");return n.join("")}(r=i):r=o;break}default:r!=o&&(n="string",r=o,t?e.value=o||"":e.cssText=o||"")}}}var Ee,Ce,Ae=(Ee=[].slice,(Ce=Te.prototype).ELEMENT_NODE=1,Ce.nodeType=111,Ce.remove=function(e){var t,n=this.childNodes,r=this.firstChild,o=this.lastChild;return this._=null,e&&2===n.length?o.parentNode.removeChild(o):((t=this.ownerDocument.createRange()).setStartBefore(e?n[1]:r),t.setEndAfter(o),t.deleteContents()),r},Ce.valueOf=function(e){var t=this._,n=null==t;if(n&&(t=this._=this.ownerDocument.createDocumentFragment()),n||e)for(var r=this.childNodes,o=0,i=r.length;o<i;o++)t.appendChild(r[o]);return t},Te);function Te(e){var t=this.childNodes=Ee.call(e,0);this.firstChild=t[0],this.lastChild=t[t.length-1],this.ownerDocument=t[0].ownerDocument,this._=null}function Le(e){return{html:e}}function Ne(e,t){switch(e.nodeType){case Fe:return 1/t<0?t?e.remove(!0):e.lastChild:t?e.valueOf(!0):e.firstChild;case qe:return Ne(e.render(),t);default:return e}}function Ie(e,t){t(e.placeholder),"text"in e?Promise.resolve(e.text).then(String).then(t):"any"in e?Promise.resolve(e.any).then(t):"html"in e?Promise.resolve(e.html).then(Le).then(t):Promise.resolve(O.invoke(e,t)).then(t)}function Re(e){return null!=e&&"then"in e}var Oe,je,Pe,ze,Me,De="ownerSVGElement",qe=v.prototype.nodeType,Fe=Ae.prototype.nodeType,Ue=(je=(Oe={Event:b,WeakSet:d}).Event,Pe=Oe.WeakSet,ze=!0,Me=null,function(e){return ze&&(ze=!ze,Me=new Pe,function(e){var t=new Pe,n=new Pe;try{new MutationObserver(s).observe(e,{subtree:!0,childList:!0})}catch(t){var r=0,o=[],i=function(e){o.push(e),clearTimeout(r),r=setTimeout((function(){s(o.splice(r=0,o.length))}),0)};e.addEventListener("DOMNodeRemoved",(function(e){i({addedNodes:[],removedNodes:[e.target]})}),!0),e.addEventListener("DOMNodeInserted",(function(e){i({addedNodes:[e.target],removedNodes:[]})}),!0)}function s(e){for(var r,o=e.length,i=0;i<o;i++)a((r=e[i]).removedNodes,"disconnected",n,t),a(r.addedNodes,"connected",t,n)}function a(e,t,n,r){for(var o,i=new je(t),s=e.length,a=0;a<s;1===(o=e[a++]).nodeType&&function e(t,n,r,o,i){Me.has(t)&&!o.has(t)&&(i.delete(t),o.add(t),t.dispatchEvent(n));for(var s=t.children||[],a=s.length,c=0;c<a;e(s[c++],n,r,o,i));}(o,i,t,n,r));}}(e.ownerDocument)),Me.add(e),e}),Be=/^(?:form|list)$/i,We=[].slice;function He(t){return this.type=t,function(t){var n=we,r=ve;return function(o){var i,s,a;return n!==o&&(i=t,s=n=o,a=be.get(s)||be.set(s,ye(i,s)),r=a.updates(G.call(e,a.content,!0))),r.apply(null,arguments)}}(this)}var Ve=!(He.prototype={attribute:function(e,t,n){var r,o=De in e;if("style"===t)return ke(e,n,o);if("."===t.slice(0,1))return l=e,d=t.slice(1),o?function(e){try{l[d]=e}catch(t){l.setAttribute(d,e)}}:function(e){l[d]=e};if("?"===t.slice(0,1))return s=e,a=t.slice(1),function(e){c!==!!e&&((c=!!e)?s.setAttribute(a,""):s.removeAttribute(a))};if(/^on/.test(t)){var i=t.slice(2);return"connected"===i||"disconnected"===i?Ue(e):t.toLowerCase()in e&&(i=i.toLowerCase()),function(t){r!==t&&(r&&e.removeEventListener(i,r,!1),(r=t)&&e.addEventListener(i,t,!1))}}if("data"===t||!o&&t in e&&!Be.test(t))return function(n){r!==n&&(r=n,e[t]!==n&&null==n?(e[t]="",e.removeAttribute(t)):e[t]=n)};if(t in O.attributes)return function(n){var o=O.attributes[t](e,n);r!==o&&(null==(r=o)?e.removeAttribute(t):e.setAttribute(t,o))};var s,a,c,l,d,u=!1,p=n.cloneNode(!0);return function(t){r!==t&&(r=t,p.value!==t&&(null==t?(u&&(u=!1,e.removeAttributeNode(p)),p.value=t):(p.value=t,u||(u=!0,e.setAttributeNode(p)))))}},any:function(e,t){var n,r={node:Ne,before:e},o=De in e?"svg":"html",i=!1;return function s(a){switch(typeof a){case"string":case"number":case"boolean":i?n!==a&&(n=a,t[0].textContent=a):(i=!0,n=a,t=h(e.parentNode,t,[(c=a,e.ownerDocument.createTextNode(c))],r));break;case"function":s(a(e));break;case"object":case"undefined":if(null==a){i=!1,t=h(e.parentNode,t,[],r);break}default:if(i=!1,j(n=a))if(0===a.length)t.length&&(t=h(e.parentNode,t,[],r));else switch(typeof a[0]){case"string":case"number":case"boolean":s({html:a});break;case"object":if(j(a[0])&&(a=a.concat.apply([],a)),Re(a[0])){Promise.all(a).then(s);break}default:t=h(e.parentNode,t,a,r)}else"ELEMENT_NODE"in a?t=h(e.parentNode,t,11===a.nodeType?We.call(a.childNodes):[a],r):Re(a)?a.then(s):"placeholder"in a?Ie(a,s):"text"in a?s(String(a.text)):"any"in a?s(a.any):"html"in a?t=h(e.parentNode,t,We.call(P([].concat(a.html).join(""),o).childNodes),r):s("length"in a?We.call(a):O.invoke(a,s))}var c}},text:function(e){var t;return function n(r){var o;t!==r&&("object"==(o=typeof(t=r))&&r?Re(r)?r.then(n):"placeholder"in r?Ie(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?We.call(r).join(""):O.invoke(r,n)):"function"==o?n(r(e)):e.textContent=null==r?"":r)}}}),Ye=function(t){var r,o,i,s,a=(r=(e.defaultView.navigator||{}).userAgent,/(Firefox|Safari)\/(\d+)/.test(r)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(r)),c=!("raw"in t)||t.propertyIsEnumerable("raw")||!Object.isFrozen(t.raw);return a||c?(o={},i=function(e){for(var t=".",n=0;n<e.length;n++)t+=e[n].length+"."+e[n];return o[t]||(o[t]=e)},Ye=c?i:(s=new n,function(e){return s.get(e)||(n=i(t=e),s.set(t,n),n);var t,n})):Ve=!0,Ge(t)};function Ge(e){return Ve?e:Ye(e)}function Ke(e){for(var t=arguments.length,n=[Ge(e)],r=1;r<t;)n.push(arguments[r++]);return n}var Ze=new n,Xe=function(e){var t,n,r;return function(){var o=Ke.apply(null,arguments);return r!==o[0]?(r=o[0],n=new He(e),t=Qe(n.apply(n,o))):n.apply(n,o),t}},Je=function(e,t){var n=t.indexOf(":"),r=Ze.get(e),o=t;return-1<n&&(o=t.slice(n+1),t=t.slice(0,n)||"html"),r||Ze.set(e,r={}),r[o]||(r[o]=Xe(t))},Qe=function(e){var t=e.childNodes,n=t.length;return 1===n?t[0]:n?new Ae(t):e},et=new n;function tt(){var e=et.get(this),t=Ke.apply(null,arguments);return e&&e.template===t[0]?e.tagger.apply(null,t):function(e){var t=new He(De in this?"svg":"html");et.set(this,{tagger:t,template:e}),this.textContent="",this.appendChild(t.apply(null,arguments))}.apply(this,t),this}var nt,rt,ot,it,st=O.define,at=He.prototype;function ct(e){return arguments.length<2?null==e?Xe("html"):"string"==typeof e?ct.wire(null,e):"raw"in e?Xe("html")(e):"nodeType"in e?ct.bind(e):Je(e,"html"):("raw"in e?Xe("html"):ct.wire).apply(null,arguments)}return ct.Component=v,ct.bind=function(e){return tt.bind(e)},ct.define=st,ct.diff=h,(ct.hyper=ct).observe=Ue,ct.tagger=at,ct.wire=function(e,t){return null==e?Xe(t||"html"):Je(e,t||"html")},ct._={WeakMap:n,WeakSet:d},nt=Xe,rt=new n,ot=Object.create,it=function(e,t){var n={w:null,p:null};return t.set(e,n),n},Object.defineProperties(v,{for:{configurable:!0,value:function(e,t){return function(e,t,r,o){var i,s,a,c=t.get(e)||it(e,t);switch(typeof o){case"object":case"function":var l=c.w||(c.w=new n);return l.get(o)||(i=l,s=o,a=new e(r),i.set(s,a),a);default:var d=c.p||(c.p=ot(null));return d[o]||(d[o]=new e(r))}}(this,rt.get(e)||(r=e,o=new w,rt.set(r,o),o),e,null==t?"default":t);var r,o}}}),Object.defineProperties(v.prototype,{handleEvent:{value:function(e){var t=e.currentTarget;this["getAttribute"in t&&t.getAttribute("data-call")||"on"+e.type](e)}},html:x("html",nt),svg:x("svg",nt),state:x("state",(function(){return this.defaultState})),defaultState:{get:function(){return{}}},dispatch:{value:function(e,t){var n=this._wire$;if(n){var r=new b(e,{bubbles:!0,cancelable:!0,detail:t});return r.component=this,(n.dispatchEvent?n:n.firstChild).dispatchEvent(r)}return!1}},setState:{value:function(e,t){var n=this.state,r="function"==typeof e?e.call(this,n):e;for(var o in r)n[o]=r[o];return!1!==t&&this.render(),this}}}),ct}(document);
/*! (c) Andrea Giammarchi (ISC) */const Je=$,Qe=Xe,et=Ye,tt=Ze,nt=class{constructor(e){const{type:t,subtype:n,params:r}=function(e){if(!(e=e.trim()))throw new TypeError("Invalid input.");let t="",n="",r="",o=null,i=new Map,s="type",a=Array.from(e);for(let e=0;e<a.length;e++){const c=a[e];switch(s){case"type":if("/"===c){s="subtype";continue}t+=c;break;case"subtype":if(";"===c){s="param-start";continue}n+=c;break;case"param-start":if(S.test(c)||";"===c)continue;r+=c,s="param-name";break;case"param-name":if("="===c||";"===c){if("="===c){s="param-value",o=null;continue}i.set(r.toLowerCase(),null),r="";continue}r+=c;break;case"param-value":if('"'==c){s="collect-quoted-string";continue}if(";"===c){o=o.trimEnd(),s="param-start",E(i,r,o),r="";continue}o="string"==typeof o?o+c:c;break;case"collect-quoted-string":if('"'===c){E(i,r,o),s="ignore-input-until-next-param",r="",o=null;continue}if("\\"===c)continue;o="string"==typeof o?o+c:c;break;case"ignore-input-until-next-param":if(";"!==c)continue;s="param-start";break;default:throw new Error(`State machine error - unknown parser mode: ${s} `)}}r&&E(i,r,o);if(""===t.trim()||!k.test(t))throw new TypeError("Invalid type");if(""===n.trim()||!k.test(n))throw new TypeError("Invalid subtype");return{type:t,subtype:n,params:Object.fromEntries(i.entries())}}(e);this.type=t.trim().toLowerCase(),this.subtype=n.trimEnd().toLowerCase(),this.parameters=new Map(Object.entries(r))}get essence(){return`${this.type}/${this.subtype}`}toString(){return function(e){const{parameters:t,essence:n}=e;if(!t.size)return n;let r=";";for(const[e,n]of t.entries())r+=e,null!==n?k.test(n)?r+=`=${n}`:r+=`="${n}"`:r+='=""',r+=";";return e.essence+r.slice(0,-1)}(this)}},rt=/-/g,ot=new Intl.DateTimeFormat(["en-ca-iso8601"],{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"}),it=".informative, .note, .issue, .example, .ednote, .practice, .introductory";function st(e){const t=new URL(e.href,document.baseURI),n=document.createElement("link");let{href:r}=t;switch(n.rel=e.hint,n.rel){case"dns-prefetch":case"preconnect":r=t.origin,(e.corsMode||t.origin!==document.location.origin)&&(n.crossOrigin=e.corsMode||"anonymous");break;case"preload":"as"in e&&n.setAttribute("as",e.as)}return n.href=r,e.dontRemove||n.classList.add("removeOnSave"),n}function at(e){e.querySelectorAll(".remove, script[data-requiremodule]").forEach((e=>{e.remove()}))}function ct(e,t="long"){const n=new Intl.ListFormat(o,{style:t,type:e});return(e,t)=>{let r=0;return n.formatToParts(e).map((({type:n,value:o})=>"element"===n&&t?t(o,r++,e):o))}}const lt=ct("conjunction"),dt=ct("disjunction");function ut(e,t){return lt(e,t).join("")}function pt(e,t){return dt(e,t).join("")}function ft(e){return e.trim().replace(/\s+/g," ")}function ht(e,t=o){return t=function(e){return{"zh-hans":"zh","zh-cn":"zh"}[e]||e}(t.toLowerCase()),new Proxy(e,{get(e,n){const r=e[t]&&e[t][n]||e.en[n];if(!r)throw new Error(`No l10n data for key: "${n}"`);return r}})}function mt(e,t){const n=[].concat(t).map((t=>{const n=e.createElement("link");return n.rel="stylesheet",n.href=t,n})).reduce(((e,t)=>(e.appendChild(t),e)),e.createDocumentFragment());e.head.appendChild(n)}function gt(e,t,...n){const r=[this,e,...n];if(t){const n=t.split(/\s+/);for(const t of n){const n=window[t];if(n)try{e=n.apply(this,r)}catch(e){Nt(`call to \`${t}()\` failed with: ${e}.`,"utils/runTransforms",{hint:"See developer console for stack trace."}),console.error(e)}}}return e}function bt(e,t=(e=>e)){const n=e.map(t),r=n.slice(0,-1).map((e=>Qe`${e}, `));return Qe`${r}${n[n.length-1]}`}function yt(e,t="",n="",r=!1){if(e.id)return e.id;n||(n=(e.title?e.title:e.textContent).trim());let o=r?n:n.toLowerCase();if(o=o.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\W+/gim,"-").replace(/^-+/,"").replace(/-+$/,""),o?!/\.$/.test(o)&&/^[a-z]/i.test(t||o)||(o=`x${o}`):o="generatedID",t&&(o=`${t}-${o}`),e.ownerDocument.getElementById(o)){let t=0,n=`${o}-${t}`;for(;e.ownerDocument.getElementById(n);)t+=1,n=`${o}-${t}`;o=n}return e.id=o,o}function wt(e){const t=new Set,n="ltNodefault"in e.dataset?"":ft(e.textContent),r=e.children[0];if(e.dataset.lt?e.dataset.lt.split("|").map((e=>ft(e))).forEach((e=>t.add(e))):1===e.childNodes.length&&1===e.getElementsByTagName("abbr").length&&r.title?t.add(r.title):'""'===e.textContent&&t.add("the-empty-string"),t.add(n),t.delete(""),e.dataset.localLt){e.dataset.localLt.split("|").forEach((e=>t.add(ft(e))))}return[...t]}function vt(e,t,n={copyAttributes:!0}){if(e.localName===t)return e;const r=e.ownerDocument.createElement(t);if(n.copyAttributes)for(const{name:t,value:n}of e.attributes)r.setAttribute(t,n);return r.append(...e.childNodes),e.replaceWith(r),r}function xt(e,t){const n=t.closest(it);let r=!1;if(n&&(r=!t.closest(".normative")||!n.querySelector(".normative")),e.startsWith("!")){if(r)return{type:"informative",illegal:!0};r=!1}else e.startsWith("?")&&(r=!0);return{type:r?"informative":"normative",illegal:!1}}function $t(e,t){return t.append(...e.childNodes),e.appendChild(t),e}function kt(e){const{previousSibling:t}=e;if(!t||t.nodeType!==Node.TEXT_NODE)return"";const n=t.textContent.lastIndexOf("\n");if(-1===n)return"";const r=t.textContent.slice(n+1);return/\S/.test(r)?"":r}class St extends Set{constructor(e=[]){super();for(const t of e)this.add(t)}add(e){return this.has(e)||this.getCanonicalKey(e)?this:super.add(e)}has(e){return super.has(e)||[...this.keys()].some((t=>t.toLowerCase()===e.toLowerCase()))}delete(e){return super.has(e)?super.delete(e):super.delete(this.getCanonicalKey(e))}getCanonicalKey(e){return super.has(e)?e:[...this.keys()].find((t=>t.toLowerCase()===e.toLowerCase()))}}function _t(e){const t=e.cloneNode(!0);return t.querySelectorAll("[id]").forEach((e=>e.removeAttribute("id"))),t.querySelectorAll("dfn").forEach((e=>{vt(e,"span",{copyAttributes:!1})})),t.hasAttribute("id")&&t.removeAttribute("id"),Et(t),t}function Et(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT);for(const e of[...Ct(t)])e.remove()}function*Ct(e){for(;e.nextNode();)yield e.currentNode}class At extends Map{constructor(e=[]){return super(),e.forEach((([e,t])=>{this.set(e,t)})),this}set(e,t){return super.set(e.toLowerCase(),t),this}get(e){return super.get(e.toLowerCase())}has(e){return super.has(e.toLowerCase())}delete(e){return super.delete(e.toLowerCase())}}class Tt extends Error{constructor(e,t,n){super(e);const r=n.isWarning?"ReSpecWarning":"ReSpecError";Object.assign(this,{message:e,plugin:t,name:r,...n}),n.elements&&n.elements.forEach((t=>function(e,t,n){e.classList.add("respec-offending-element"),e.hasAttribute("title")||e.setAttribute("title",n||t),e.id||yt(e,"respec-offender")}(t,e,n.title)))}toJSON(){const{message:e,name:t,stack:n}=this,{plugin:r,hint:o,elements:i,title:s,details:a}=this;return{message:e,name:t,plugin:r,hint:o,elements:i,title:s,details:a,stack:n}}}function Lt(e,t,n={}){const r={...n,isWarning:!1};Mt("error",new Tt(e,t,r))}function Nt(e,t,n={}){const r={...n,isWarning:!0};Mt("warn",new Tt(e,t,r))}function It(e){return e?`\`${e}\``:""}function Rt(e,{quotes:t}={quotes:!1}){return ut(e,t?e=>It(Ot(e)):It)}function Ot(e){return String(e)?`"${e}"`:""}function jt(e,...t){return e.map(((e,n)=>{const r=t[n];if(!r)return e;if(!r.startsWith("[")&&!r.endsWith("]"))return e+r;const[o,i]=r.slice(1,-1).split("|");if(i){return`${e}[${o}](${new URL(i,"https://respec.org/docs/")})`}return`${e}[\`${o}\`](https://respec.org/docs/#${o})`})).join("")}const Pt="core/pubsubhub",zt=new Map;function Mt(e,...t){if(!zt.has(e))return;if(Array.from(zt.get(e)).forEach((e=>{try{e(...t)}catch(t){Lt(`Error when calling function ${e.name}.`,Pt,{hint:"See developer console."}),console.error(t)}})),window.parent===window.self)return;const n=t.map((e=>String(JSON.stringify(e.stack||e))));window.parent.postMessage({topic:e,args:n},window.parent.location.origin)}function Dt(e,t,n={once:!1}){return n.once?Dt(e,(function n(...r){!function({topic:e,cb:t}){const n=zt.get(e);if(!n||!n.has(t))return console.warn("Already unsubscribed:",e,t),!1;n.delete(t)}({topic:e,cb:n}),t(...r)})):(zt.has(e)?zt.get(e).add(t):zt.set(e,new Set([t])),{topic:e,cb:t})}t(Pt,{sub:Dt});const qt=["githubToken","githubUser"];const Ft=new Map([["text/html","html"],["application/xml","xml"]]);function Ut(e,t=document){const n=Ft.get(e);if(!n){const t=[...Ft.values()].join(", ");throw new TypeError(`Invalid format: ${e}. Expected one of: ${t}.`)}const r=Bt(n,t);return`data:${e};charset=utf-8,${encodeURIComponent(r)}`}function Bt(e,t){const n=t.cloneNode(!0);!function(e){const{head:t,body:n,documentElement:r}=e;Et(e),e.querySelectorAll(".removeOnSave, #toc-nav").forEach((e=>e.remove())),n.classList.remove("toc-sidebar"),at(r);const o=e.createDocumentFragment(),i=e.querySelector("meta[name='viewport']");i&&t.firstChild!==i&&o.appendChild(i);let s=e.querySelector("meta[charset], meta[content*='charset=']");s||(s=Qe`<meta charset="utf-8" />`);o.appendChild(s);const a=`ReSpec ${window.respecVersion||"Developer Channel"}`,c=Qe`
    <meta name="generator" content="${a}" />
  `;o.appendChild(c),t.prepend(o),Mt("beforesave",r)}(n);let r="";if("xml"===e)r=(new XMLSerializer).serializeToString(n);else!function(e){e.querySelectorAll("style").forEach((e=>{e.innerHTML=`\n${e.innerHTML}\n`})),e.querySelectorAll("head > *").forEach((e=>{e.outerHTML=`\n${e.outerHTML}`}))}(n),n.doctype&&(r+=(new XMLSerializer).serializeToString(n.doctype)),r+=n.documentElement.outerHTML;return r}t("core/exporter",{rsDocToDataURL:Ut});class Wt{constructor(){this._respecDonePromise=new Promise((e=>{Dt("end-all",e,{once:!0})})),this.errors=[],this.warnings=[],Dt("error",(e=>{console.error(e,e.toJSON()),this.errors.push(e)})),Dt("warn",(e=>{console.warn(e,e.toJSON()),this.warnings.push(e)}))}get version(){return window.respecVersion}get ready(){return this._respecDonePromise}async toHTML(){return Bt("html",document)}}const Ht="core/post-process";const Vt="core/pre-process";const Yt="core/base-runner";async function Gt(e){!function(){const e=new Wt;Object.defineProperty(document,"respec",{value:e});let t=!1;Object.defineProperty(document,"respecIsReady",{get:()=>(t||(Nt("`document.respecIsReady` is deprecated and will be removed in a future release.","core/respec-global",{hint:"Use `document.respec.ready` instead."}),t=!0),document.respec.ready)})}(),Mt("start-all",respecConfig),function(e){const t={},n=e=>Object.assign(t,e);n(e),Dt("amend-user-config",n),Dt("end-all",(()=>{const e=document.createElement("script");e.id="initialUserConfig",e.type="application/json";for(const e of qt)e in t&&delete t[e];e.innerHTML=JSON.stringify(t,null,2),document.head.appendChild(e)}))}(respecConfig),function(e){const t=new URLSearchParams(document.location.search),n=Array.from(t).filter((([e,t])=>!!e&&!!t)).map((([e,t])=>{const n=decodeURIComponent(e),r=decodeURIComponent(t.replace(/%3D/g,"="));let o;try{o=JSON.parse(r)}catch{o=r}return[n,o]})),r=Object.fromEntries(n);Object.assign(e,r),Mt("amend-user-config",r)}(respecConfig),performance.mark(`${Yt}-start`),await async function(e){if(Array.isArray(e.preProcess)){const t=e.preProcess.filter((e=>{const t="function"==typeof e;return t||Lt("Every item in `preProcess` must be a JS function.",Vt),t})).map((async t=>{try{return await t(e,document)}catch(e){Lt(`Function ${t.name} threw an error during \`preProcess\`.`,Vt,{hint:"See developer console."}),console.error(e)}}));await Promise.all(t)}}(respecConfig);const t=e.filter((e=>{return(t=e)&&(t.run||t.Plugin);var t}));t.forEach((e=>!e.name&&console.warn("Plugin lacks name:",e))),respecConfig.state={},await async function(e,t){for(const n of e.filter((e=>e.prepare)))try{await n.prepare(t)}catch(e){console.error(e)}}(t,respecConfig),await async function(e,t){for(const n of e){const e=n.name||"";try{await new Promise((async(r,o)=>{const i=setTimeout((()=>{const t=`Plugin ${e} took too long.`;console.error(t,n),o(new Error(t))}),15e3);performance.mark(`${e}-start`);try{n.Plugin?(await new n.Plugin(t).run(),r()):n.run&&(await n.run(t),r())}catch(e){o(e)}finally{clearTimeout(i),performance.mark(`${e}-end`),performance.measure(e,`${e}-start`,`${e}-end`)}}))}catch(e){console.error(e)}}}(t,respecConfig),respecConfig.state={},Mt("plugins-done",respecConfig),await async function(e){if(Array.isArray(e.postProcess)){const t=e.postProcess.filter((e=>{const t="function"==typeof e;return t||Lt("Every item in `postProcess` must be a JS function.",Ht),t})).map((async t=>{try{return await t(e,document)}catch(e){Lt(`Function ${t.name} threw an error during \`postProcess\`.`,Ht,{hint:"See developer console."}),console.error(e)}}));await Promise.all(t)}"function"==typeof e.afterEnd&&await e.afterEnd(e,document)}(respecConfig),Mt("end-all"),at(document),performance.mark(`${Yt}-end`),performance.measure(Yt,`${Yt}-start`,`${Yt}-end`)}var Kt=String.raw`.respec-modal .close-button{position:absolute;z-index:inherit;padding:.2em;font-weight:700;cursor:pointer;margin-left:5px;border:none;background:0 0}
#respec-ui{position:fixed;display:flex;flex-direction:row-reverse;top:20px;right:20px;width:202px;text-align:right;z-index:9000}
#respec-pill,.respec-info-button{background:#fff;height:2.5em;color:#787878;border:1px solid #ccc;box-shadow:1px 1px 8px 0 rgba(100,100,100,.5)}
.respec-info-button{border:none;opacity:.75;border-radius:2em;margin-right:1em;min-width:3.5em}
.respec-info-button:focus,.respec-info-button:hover{opacity:1;transition:opacity .2s}
#respec-pill:disabled{font-size:2.8px;text-indent:-9999em;border-top:1.1em solid rgba(40,40,40,.2);border-right:1.1em solid rgba(40,40,40,.2);border-bottom:1.1em solid rgba(40,40,40,.2);border-left:1.1em solid #fff;transform:translateZ(0);animation:respec-spin .5s infinite linear;box-shadow:none}
#respec-pill:disabled,#respec-pill:disabled:after{border-radius:50%;width:10em;height:10em}
@keyframes respec-spin{
0%{transform:rotate(0)}
100%{transform:rotate(360deg)}
}
.respec-hidden{visibility:hidden;opacity:0;transition:visibility 0s .2s,opacity .2s linear}
.respec-visible{visibility:visible;opacity:1;transition:opacity .2s linear}
#respec-pill:focus,#respec-pill:hover{color:#000;background-color:#f5f5f5;transition:color .2s}
#respec-menu{position:absolute;margin:0;padding:0;font-family:sans-serif;background:#fff;box-shadow:1px 1px 8px 0 rgba(100,100,100,.5);width:200px;display:none;text-align:left;margin-top:32px;font-size:.8em}
#respec-menu:not([hidden]){display:block}
#respec-menu li{list-style-type:none;margin:0;padding:0}
.respec-save-buttons{display:grid;grid-template-columns:repeat(auto-fill,minmax(47%,2fr));grid-gap:.5cm;padding:.5cm}
.respec-save-button:link{padding-top:16px;color:#f0f0f0;background:#2a5aa8;justify-self:stretch;height:1cm;text-decoration:none;text-align:center;font-size:inherit;border:none;border-radius:.2cm}
.respec-save-button:link:hover{color:#fff;background:#2a5aa8;padding:0;margin:0;border:0;padding-top:16px}
.respec-save-button:link:focus{background:#193766}
#respec-pill:focus,#respec-ui button:focus,.respec-option:focus{outline:0;outline-style:none}
#respec-pill-error{background-color:red;color:#fff}
#respec-pill-warning{background-color:orange;color:#fff}
.respec-error-list,.respec-warning-list{margin:0;padding:0;list-style:none;font-family:sans-serif;background-color:#fffbe6;font-size:.85em}
.respec-error-list>li,.respec-warning-list>li{padding:.4em .7em}
.respec-warning-list>li::before{content:"⚠️";padding-right:.5em}
.respec-error-list p,.respec-warning-list p{padding:0;margin:0}
.respec-warning-list li{color:#5c3b00;border-bottom:thin solid #fff5c2}
.respec-error-list,.respec-error-list li{background-color:#fff0f0}
.respec-error-list li::before{content:"💥";padding-right:.5em}
.respec-error-list li{padding:.4em .7em;color:#5c3b00;border-bottom:thin solid #ffd7d7}
.respec-error-list li>p{margin:0;padding:0;display:inline-block}
.respec-error-list li>p:first-child,.respec-warning-list li>p:first-child{display:inline}
.respec-error-list>li li,.respec-warning-list>li li{margin:0;list-style:disc}
#respec-overlay{display:block;position:fixed;z-index:10000;top:0;left:0;height:100%;width:100%;background:#000}
.respec-show-overlay{transition:opacity .2s linear;opacity:.5}
.respec-hide-overlay{transition:opacity .2s linear;opacity:0}
.respec-modal{display:block;position:fixed;z-index:11000;margin:auto;top:10%;background:#fff;border:5px solid #666;min-width:20%;width:79%;padding:0;max-height:80%;overflow-y:auto;margin:0 -.5cm}
@media screen and (min-width:78em){
.respec-modal{width:62%}
}
.respec-modal h3{margin:0;padding:.2em;text-align:center;color:#000;background:linear-gradient(to bottom,#eee 0,#eee 50%,#ccc 100%);font-size:1em}
.respec-modal .inside div p{padding-left:1cm}
#respec-menu button.respec-option{background:#fff;padding:0 .2cm;border:none;width:100%;text-align:left;font-size:inherit;padding:1.2em 1.2em}
#respec-menu button.respec-option:hover,#respec-menu button:focus{background-color:#eee}
.respec-cmd-icon{padding-right:.5em}
#respec-ui button.respec-option:last-child{border:none;border-radius:inherit}
.respec-button-copy-paste{position:absolute;height:28px;width:40px;cursor:pointer;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #90b8de;border-left:0;border-radius:0 0 3px 0;-webkit-user-select:none;user-select:none;-webkit-appearance:none;top:0;left:127px}
@media print{
#respec-ui{display:none}
}
.respec-iframe{width:100%;min-height:550px;height:100%;overflow:hidden;padding:0;margin:0;border:0}
.respec-iframe:not(.ready){background:url(https://respec.org/xref/loader.gif) no-repeat center}
.respec-iframe+a[href]{font-size:.9rem;float:right;margin:0 .5em .5em;border-bottom-width:1px}`;function Zt(e){if(!e)return e;const t=e.trimEnd().split("\n");for(;t.length&&!t[0].trim();)t.shift();const n=t.filter((e=>e.trim())).map((e=>e.search(/[^\s]/))),r=Math.min(...n);return t.map((e=>e.slice(r))).join("\n")}var Xt=Object.freeze({__proto__:null,name:"core/reindent",reindent:Zt,run:function(){for(const e of document.getElementsByTagName("pre"))e.innerHTML=Zt(e.innerHTML)}});const Jt=/&gt;/gm,Qt=/&amp;/gm;class en extends et.Renderer{code(e,t,n){const{language:r,...o}=en.parseInfoString(t);if(/(^webidl$)/i.test(r))return`<pre class="idl">${e}</pre>`;const i=super.code(e,r,n),{example:s,illegalExample:a}=o;if(!s&&!a)return i;const c=s||a,l=`${r} ${s?"example":"illegal-example"}`;return i.replace("<pre>",`<pre title="${c}" class="${l}">`)}static parseInfoString(e){const t=e.search(/\s/);if(-1===t)return{language:e};const n=e.slice(0,t),r=e.slice(t+1);let o;if(r)try{o=JSON.parse(`{ ${r} }`)}catch(e){console.error(e)}return{language:n,...o}}heading(e,t,n,r){const o=/(.+)\s+{#([\w-]+)}$/;if(o.test(e)){const[,n,r]=e.match(o);return`<h${t} id="${r}">${n}</h${t}>`}return super.heading(e,t,n,r)}}function tn(e){const t=Zt(e).replace(Jt,">").replace(Qt,"&");return et(t,{sanitize:!1,gfm:!0,headerIds:!1,langPrefix:"",renderer:new en})}function nn(e){for(const t of e.getElementsByTagName("pre"))t.prepend("\n");e.innerHTML=tn(e.innerHTML)}class rn{constructor(e){this.doc=e,this.root=e.createDocumentFragment(),this.stack=[this.root],this.current=this.root}findPosition(e){return parseInt(e.tagName.charAt(1),10)}findParent(e){let t;for(;e>0;)if(e--,t=this.stack[e],t)return t}findHeader({firstChild:e}){for(;e;){if(/H[1-6]/.test(e.tagName))return e;e=e.nextSibling}return null}addHeader(e){const t=this.doc.createElement("section"),n=this.findPosition(e);t.appendChild(e),this.findParent(n).appendChild(t),this.stack[n]=t,this.stack.length=n+1,this.current=t}addSection(e,t){const n=this.findHeader(e),r=n?this.findPosition(n):1,o=this.findParent(r);n&&e.removeChild(n),e.appendChild(t(e)),n&&e.prepend(n),o.appendChild(e),this.current=o}addElement(e){this.current.appendChild(e)}}function on(e,t){return function e(n){const r=new rn(t);for(;n.firstChild;){const t=n.firstChild;if(t.nodeType===Node.ELEMENT_NODE)switch(t.localName){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":r.addHeader(t);break;case"section":r.addSection(t,e);break;default:r.addElement(t)}else n.removeChild(t)}return r.root}(e)}function sn(e){const t=on(e,e.ownerDocument);if("section"===t.firstElementChild.localName&&"section"===e.localName){const n=t.firstElementChild;n.remove(),e.append(...n.childNodes)}else e.textContent="";e.appendChild(t)}const an=(cn="[data-format='markdown']:not(body)",e=>{const t=e.querySelectorAll(cn);return t.forEach(nn),Array.from(t)});var cn;var ln=Object.freeze({__proto__:null,name:"core/markdown",markdownToHtml:tn,restructure:sn,run:function(e){const t=!!document.querySelector("[data-format=markdown]:not(body)"),n="markdown"===e.format;if(!n&&!t)return;if(!n){for(const e of an(document.body))sn(e);return}const r=document.getElementById("respec-ui");r.remove();const o=document.body.cloneNode(!0);var i;!function(e,t){const n=e.querySelectorAll(t);for(const e of n){const{innerHTML:t}=e;if(/^<\w/.test(t.trimStart()))continue;const n=t.split("\n"),r=n.slice(0,2).join("\n"),o=n.slice(-2).join("\n");if(r.trim()&&e.prepend("\n\n"),o.trim()){const t=kt(e);e.append(`\n\n${t}`)}}}(o,"[data-format=markdown], section, div, address, article, aside, figure, header, main"),nn(o),i=o.querySelectorAll(".nolinks a[href]"),Array.from(i).forEach((e=>{e.replaceWith(e.textContent)}));const s=on(o,document);o.append(r,s),document.body.replaceWith(o)}});function dn(e,t){e&&Array.from(t).forEach((([t,n])=>{e.setAttribute(`aria-${t}`,n)}))}!function(){const e=document.createElement("style");e.id="respec-ui-styles",e.textContent=Kt,e.classList.add("removeOnSave"),document.head.appendChild(e)}();const un=Qe`<div id="respec-ui" class="removeOnSave" hidden></div>`,pn=Qe`<ul
  id="respec-menu"
  role="menu"
  aria-labelledby="respec-pill"
  hidden
></ul>`,fn=Qe`<button
  class="close-button"
  onclick=${()=>Sn.closeModal()}
  title="Close"
>
  ❌
</button>`;let hn,mn;window.addEventListener("load",(()=>xn(pn)));const gn=[],bn=[],yn={};Dt("start-all",(()=>document.body.prepend(un)),{once:!0}),Dt("end-all",(()=>document.body.prepend(un)),{once:!0});const wn=Qe`<button id="respec-pill" disabled>ReSpec</button>`;function vn(){pn.classList.toggle("respec-hidden"),pn.classList.toggle("respec-visible"),pn.hidden=!pn.hidden}function xn(e){const t=e.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled])"),n=t[0],r=t[t.length-1];n&&n.focus(),e.addEventListener("keydown",(e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(r.focus(),e.preventDefault()):document.activeElement===r&&(n.focus(),e.preventDefault()))}))}un.appendChild(wn),wn.addEventListener("click",(e=>{e.stopPropagation(),wn.setAttribute("aria-expanded",String(pn.hidden)),vn(),pn.querySelector("li:first-child button").focus()})),document.documentElement.addEventListener("click",(()=>{pn.hidden||vn()})),un.appendChild(pn),pn.addEventListener("keydown",(e=>{"Escape"!==e.key||pn.hidden||(wn.setAttribute("aria-expanded",String(pn.hidden)),vn(),wn.focus())}));const $n=new Map([["controls","respec-menu"],["expanded","false"],["haspopup","true"],["label","ReSpec Menu"]]);function kn(e,t,n,r){t.push(e),yn.hasOwnProperty(n)||(yn[n]=function(e,t,n){const r=Qe`<button
    id="${`respec-pill-${e}`}"
    class="respec-info-button"
  ></button>`;r.addEventListener("click",(()=>{r.setAttribute("aria-expanded","true");const o=Qe`<ol class="${`respec-${e}-list`}"></ol>`;for(const e of t){const t=document.createRange().createContextualFragment(_n(e)),n=document.createElement("li");t.firstElementChild===t.lastElementChild?n.append(...t.firstElementChild.childNodes):n.appendChild(t),o.appendChild(n)}Sn.freshModal(n,o,r)}));const o=new Map([["expanded","false"],["haspopup","true"],["controls",`respec-pill-${e}-modal`]]);return dn(r,o),r}(n,t,r),un.appendChild(yn[n]));const o=yn[n];o.textContent=t.length;const i=1===t.length?tt.singular(r):r;dn(o,new Map([["label",`${t.length} ${i}`]]))}dn(wn,$n);const Sn={show(){try{un.hidden=!1}catch(e){console.error(e)}},hide(){un.hidden=!0},enable(){wn.removeAttribute("disabled")},addCommand(e,t,n,r){r=r||"";const o=`respec-button-${e.toLowerCase().replace(/\s+/,"-")}`,i=Qe`<button id="${o}" class="respec-option">
      <span class="respec-cmd-icon" aria-hidden="true">${r}</span> ${e}…
    </button>`,s=Qe`<li role="menuitem">${i}</li>`;return s.addEventListener("click",t),pn.appendChild(s),i},error(e){kn(e,gn,"error","ReSpec Errors")},warning(e){kn(e,bn,"warning","ReSpec Warnings")},closeModal(e){mn&&(mn.classList.remove("respec-show-overlay"),mn.classList.add("respec-hide-overlay"),mn.addEventListener("transitionend",(()=>{mn.remove(),mn=null}))),e&&e.setAttribute("aria-expanded","false"),hn&&(hn.remove(),hn=null,wn.focus())},freshModal(e,t,n){hn&&hn.remove(),mn&&mn.remove(),mn=Qe`<div id="respec-overlay" class="removeOnSave"></div>`;const r=`${n.id}-modal`,o=`${r}-heading`;hn=Qe`<div
      id="${r}"
      class="respec-modal removeOnSave"
      role="dialog"
      aria-labelledby="${o}"
    >
      ${fn}
      <h3 id="${o}">${e}</h3>
      <div class="inside">${t}</div>
    </div>`;const i=new Map([["labelledby",o]]);dn(hn,i),document.body.append(mn,hn),mn.addEventListener("click",(()=>this.closeModal(n))),mn.classList.toggle("respec-show-overlay"),hn.hidden=!1,xn(hn)}};function _n(e){if("string"==typeof e)return e;const t=e.plugin?` <small>(Plugin: "${e.plugin}")</small>.`:"",n=e.hint?` ${e.hint}`:"",r=Array.isArray(e.elements)?` Occurred at: ${ut(e.elements.map(En))}.`:"",o=e.details?`\n\n<details>\n${e.details}\n</details>\n`:"";return tn(`${e.message}${n}${r}${t}${o}`)}function En(e,t){return`[${t+1}](#${e.id})`}async function Cn(e){try{Sn.show(),await async function(){"loading"===document.readyState&&await new Promise((e=>document.addEventListener("DOMContentLoaded",e)))}(),await Gt(e)}finally{Sn.enable()}}document.addEventListener("keydown",(e=>{"Escape"===e.key&&Sn.closeModal()})),window.respecUI=Sn,Dt("error",(e=>Sn.error(e))),Dt("warn",(e=>Sn.warning(e))),window.addEventListener("error",(e=>{console.error(e.error,e.message,e)}));const An=[Promise.resolve().then((function(){return Tn})),Promise.resolve().then((function(){return i})),Promise.resolve().then((function(){return In})),Promise.resolve().then((function(){return jn})),Promise.resolve().then((function(){return zn})),Promise.resolve().then((function(){return qn})),Promise.resolve().then((function(){return Fn})),Promise.resolve().then((function(){return Wn})),Promise.resolve().then((function(){return Yn})),Promise.resolve().then((function(){return sr})),Promise.resolve().then((function(){return ln})),Promise.resolve().then((function(){return ar})),Promise.resolve().then((function(){return Xt})),Promise.resolve().then((function(){return hr})),Promise.resolve().then((function(){return mr})),Promise.resolve().then((function(){return br})),Promise.resolve().then((function(){return yr})),Promise.resolve().then((function(){return xr})),Promise.resolve().then((function(){return kr})),Promise.resolve().then((function(){return Ro})),Promise.resolve().then((function(){return Po})),Promise.resolve().then((function(){return Yo})),Promise.resolve().then((function(){return Go})),Promise.resolve().then((function(){return Jo})),Promise.resolve().then((function(){return Qo})),Promise.resolve().then((function(){return oi})),Promise.resolve().then((function(){return ai})),Promise.resolve().then((function(){return ci})),Promise.resolve().then((function(){return Qr})),Promise.resolve().then((function(){return Ci})),Promise.resolve().then((function(){return Fi})),Promise.resolve().then((function(){return yi})),Promise.resolve().then((function(){return uo})),Promise.resolve().then((function(){return es})),Promise.resolve().then((function(){return ts})),Promise.resolve().then((function(){return ns})),Promise.resolve().then((function(){return ds})),Promise.resolve().then((function(){return ps})),Promise.resolve().then((function(){return mr})),Promise.resolve().then((function(){return bs})),Promise.resolve().then((function(){return _s})),Promise.resolve().then((function(){return Is})),Promise.resolve().then((function(){return Ps})),Promise.resolve().then((function(){return Fs})),Promise.resolve().then((function(){return Ys})),Promise.resolve().then((function(){return Gs})),Promise.resolve().then((function(){return Ks})),Promise.resolve().then((function(){return na})),Promise.resolve().then((function(){return la})),Promise.resolve().then((function(){return ha})),Promise.resolve().then((function(){return va})),Promise.resolve().then((function(){return ka})),Promise.resolve().then((function(){return _a})),Promise.resolve().then((function(){return Ca})),Promise.resolve().then((function(){return Oa})),Promise.resolve().then((function(){return qa})),Promise.resolve().then((function(){return Fa})),Promise.resolve().then((function(){return Ua})),Promise.resolve().then((function(){return Ba})),Promise.resolve().then((function(){return Wa})),Promise.resolve().then((function(){return Ha})),Promise.resolve().then((function(){return Ga})),Promise.resolve().then((function(){return Ja})),Promise.resolve().then((function(){return tc})),Promise.resolve().then((function(){return ic})),Promise.resolve().then((function(){return lc})),Promise.resolve().then((function(){return pc})),Promise.resolve().then((function(){return mc})),Promise.resolve().then((function(){return yc})),Promise.resolve().then((function(){return xc})),Promise.resolve().then((function(){return _c}))];Promise.all(An).then((e=>Cn(e))).catch((e=>console.error(e)));var Tn=Object.freeze({__proto__:null,name:"core/location-hash",run:function(){location.hash&&document.respec.ready.then((()=>{let e=decodeURIComponent(location.hash).substr(1);const t=document.getElementById(e),n=/\W/.test(e);if(!t&&n){const t=e.replace(/[\W]+/gim,"-").replace(/^-+/,"").replace(/-+$/,"");document.getElementById(t)&&(e=t)}location.hash=`#${e}`}))}});const Ln={lint:{"no-headingless-sections":!0,"no-http-props":!0,"no-unused-vars":!1,"check-punctuation":!1,"local-refs-exist":!0,"check-internal-slots":!1,"check-charset":!1,"privsec-section":!1},pluralize:!0,specStatus:"base",highlightVars:!0,addSectionLinks:!0},Nn={};var In=Object.freeze({__proto__:null,name:"ims/defaults",run:function(e){const t=!1!==e.lint&&{...Ln.lint,...Nn.lint,...e.lint};Object.assign(e,{...Ln,...Nn,...e,lint:t})}});var Rn=String.raw`@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
.hljs{background:0 0!important}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
h2,h3,h4,h5,h6{position:relative}
aside.example .marker>a.self-link{color:inherit}
:is(h2,h3,h4,h5,h6)>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}
:is(h2,h3,h4,h5,h6)>a.self-link::before{content:"§";display:block}
@media (max-width:767px){
dd{margin-left:0}
:is(h2,h3,h4,h5,h6)>a.self-link{left:auto;top:auto}
}
@media print{
.removeOnSave{display:none}
}`;const On=function(){const e=document.createElement("style");return e.id="respec-mainstyle",e.textContent=Rn,document.head.appendChild(e),e}();var jn=Object.freeze({__proto__:null,name:"core/style",run:function(e){e.noReSpecCSS&&On.remove()}});function Pn(){const e=document.createElement("meta");e.name="viewport";e.content=function(e,t=", ",n="="){return Array.from(Object.entries(e)).map((([e,t])=>`${e}${n}${JSON.stringify(t)}`)).join(t)}({width:"device-width","initial-scale":"1","shrink-to-fit":"no"}).replace(/"/g,""),document.head.insertBefore(e,document.head.firstChild)}var zn=Object.freeze({__proto__:null,name:"ims/style",run:async function(e){Pn(),mt(document,"https://www.w3.org/StyleSheets/TR/2016/base.css");let t="https://purl.imsglobal.org/spec/ims-base.css";e.overrideCSSLocation&&(t=e.overrideCSSLocation),mt(document,t)}});const Mn="ims/config";function Dn(e){return null!=e&&e.trim().length>0}var qn=Object.freeze({__proto__:null,name:Mn,run:async function(e){var t;if(Dn(e.specTitle)||(Lt("head config must have the <code>specTitle</code> property set: title of the document, excluding version",Mn),e.specTitle="@@@FIXME (conf.specTitle)"),Dn(e.docVersion)||(Lt("head config must have the <code>docVersion</code> property set, e.g. 'June 28, 2019'",Mn),e.docVersion="@@@FIXME (conf.docVersion)"),Dn(e.specDate)||("IMS Base Document"===e.specStatus?e.specDate=(t=new Date,ot.format(t)):(Lt("head config must have the <code>specDate</code> property set, e.g. 'June 28, 2019'",Mn),e.specDate="@@@FIXME(conf.specDate)")),Dn(e.specNature)||(Lt("head config must have the <code>specNature</code> property set: one of 'normative' or 'informative'",Mn),e.specNature="informative"),Dn(e.specType)||(Lt("head config must have the <code>specType</code> property set: One of 'spec', 'cert', 'impl', 'errata', 'doc' ",Mn),e.specType="spec"),"doc"===e.specType||"proposal"===e.specType)return;Dn(e.shortName)||(Lt("head config must have the <code>shortName</code> property set: list at urls-names.md#shortnames",Mn),e.shortName="FIXME"),Dn(e.specStatus)||(Lt("head config must have the <code>specStatus</code> property set to one of 'IMS Base Document', 'IMS Candidate Final', IMS Candidate Final Public', or 'IMS Final Release'",Mn),e.specStatus="@@@FIXME(conf.specStatus)"),-1==["IMS Base Document","IMS Candidate Final","IMS Candidate Final Public","IMS Final Release","Proposal"].indexOf(e.specStatus)&&Lt("head config must have the <code>specStatus</code> property set to one of 'IMS Base Document', 'IMS Candidate Final', 'IMS Candidate Final Public', 'IMS Final Release', or 'Proposal'",Mn),Dn(e.specVersion)||(Lt("head config must have the <code>specVersion</code> property set, e.g. '1.1'",Mn),e.specVersion="@@@FIXME(conf.specVersion)")}});var Fn=Object.freeze({__proto__:null,name:"ims/compute",run:async function(e){const t=`https://www.imsglobal.org/spec/${e.shortName}/`;e.versionURL=`v${e.specVersion}`.replace(".","p"),e.thisURL=`${t}${e.versionURL}/`,e.errataURL=`${e.thisURL}errata/`,"spec"!==e.specType&&(e.thisURL=`${e.thisURL}${e.specType}/`),e.latestURI=`${t}latest/`,"spec"!==e.specType&&(e.latestURI=`${e.latestURI}${e.specType}/`),e.mainSpecURL=`${t}${e.versionURL}/`}});function Un(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes}function Bn(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]}var Wn=Object.freeze({__proto__:null,name:"ims/transclude",run:async function(){let e=document.querySelector("script.transclude");for(;null!==e;){if(!e.hasAttribute("data-id")){Mt("error","transclude script element without data-id attribute");break}const t=window[e.getAttribute("data-id")];if(void 0===t||"string"!=typeof t){Mt("error",`no transclude variable named '${t}' found in global scope`);break}const n=Un(t);for(let t=0;t<n.length;t++){const r=n[t].cloneNode(!0);e.parentNode.insertBefore(r,e)}e.parentNode.removeChild(e),e=document.querySelector("script.transclude")}}});const Hn="core/data-include";function Vn(e,t,n){const r=document.querySelector(`[data-include-id=${t}]`),o=gt(e,r.dataset.oninclude,n),i="string"==typeof r.dataset.includeReplace;!function(e,t,{replace:n}){const{includeFormat:r}=e.dataset;let o=t;"markdown"===r&&(o=tn(o)),"text"===r?e.textContent=o:e.innerHTML=o,"markdown"===r&&sn(e),n&&e.replaceWith(...e.childNodes)}(r,o,{replace:i}),i||function(e){["data-include","data-include-format","data-include-replace","data-include-id","oninclude"].forEach((t=>e.removeAttribute(t)))}(r)}var Yn=Object.freeze({__proto__:null,name:Hn,run:async function(){const e=document.querySelectorAll("[data-include]"),t=Array.from(e).map((async e=>{const t=e.dataset.include;if(!t)return;const n=`include-${String(Math.random()).substr(2)}`;e.dataset.includeId=n;try{const e=await fetch(t);Vn(await e.text(),n,t)}catch(n){const r=`\`data-include\` failed: \`${t}\` (${n.message}).`;console.error(r,e,n),Lt(r,Hn,{elements:[e]})}}));await Promise.all(t)}});function Gn(e){return Number.isInteger(e)&&e<=2147483647&&e>=-2147483648}function Kn(e){return Number.isInteger(e)}function Zn(){return!0}var Xn=e=>{if(e&&e.properties)return Qe`<h3>${e.name}</h3>
      <p>${e.documentation.description}</p>
      <table>
        <thead>
          <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          ${e.properties.map(Jn)}
        </tbody>
      </table>`};function Jn(e){return"extensions"!==e.name?Qe` <tr>
      <td>${e.name}</td>
      <td>${function(e){let t=e.type.name;e.cardinality.value.includes("MANY")&&(t+="[]");return t=Qe`<a href="#${e.type.id}">${t}</a>`,t}(e)}</td>
      <td>${e.documentation.description}</td>
      <td>${function(e){return e.cardinality.value.includes("ZERO")?"Optional":"Required"}(e)}</td>
    </tr>`:Qe` <tr>
      <td colspan="4">This class can be extended.</td>
    </tr>`}var Qn=e=>{if(e)return Qe`<h2>${e.name} Data Model</h2>
      <p>${e.documentation.description}</p>`};const er="ims/cdm";function tr(e){if(e.cdm.apiKey)return e.cdm.apiKey;throw"No CDM API KEY found"}function nr(e){if(e.cdm.serverUrl)return e.cdm.serverUrl;throw"No CDM server URL found"}async function rr(e,t){const n=document.querySelector(`section[data-model="${t}"]`),r=await async function(e,t){const n=JSON.stringify({query:`\n    {\n      modelByID(id: "${t}", source: ${e.cdm.source??"CORE"}) {\n        id\n        name\n        documentation {\n          description\n        }\n        classes {\n          id\n          name\n          stereoType\n          documentation {\n            description\n          }\n          properties {\n            name\n            type {\n              name\n              id\n            }\n            cardinality {\n              value\n            }\n            documentation {\n              description\n            }\n          }\n        }\n      }\n    }\n    `});try{const r=await fetch(`${nr(e)}/graphql`,{method:"POST",headers:{"Content-Type":"application/json","X-Api-Key":tr(e)},body:n});if(!r.ok)return Lt(`Could not get CDM model for ${t}. Please see the developer console for details.`,er),null;return(await r.json()).data.modelByID||(Lt(`Unknown model ${t} at ${nr(e)}, source: ${e.cdm.source??"CORE"}`,er),null)}catch(e){return Lt(`Could not get CDM model for ${t}: ${e}`,er),null}}(e,t);if(r){const o=n.getAttribute("id")??t;n.setAttribute("id",o),"function"!=typeof e.cdm.dataModelTemplate&&(e.cdm.dataModelTemplate=Qn);const i=e.cdm.dataModelTemplate(r);if(i){n.removeAttribute("data-model");let e=null;Array.from(i.childNodes).forEach((t=>{let r=t;"#text"===t.nodeName&&(r=document.createElement("text"),r.innerHTML=t.nodeValue),e?e.insertAdjacentElement("afterend",r):n.insertAdjacentElement("afterbegin",r),e=r}))}Array.from(r.classes).map((async t=>{!async function(e,t){const n=document.querySelector(`section[data-class="${t.id}"]`);if("PrimitiveType"!==t.stereoType)if("DerivedType"!==t.stereoType)if(n){n.removeAttribute("data-class");const r=n.getAttribute("id")??t.id;n.setAttribute("id",r),"function"!=typeof e.cdm.dataClassTemplate&&(e.cdm.dataClassTemplate=Xn);const o=e.cdm.dataClassTemplate(t);if(o){let e=null;Array.from(o.childNodes).forEach((t=>{let r=t;"#text"===t.nodeName&&(r=document.createElement("text"),r.innerHTML=t.nodeValue),e?e.insertAdjacentElement("afterend",r):n.insertAdjacentElement("afterbegin",r),e=r}))}}else Lt(`Class ${t.id} is defined in the data model, but does not appear in the document`,er);else n&&(Nt(`Ignoring derived class ${t.id}`,er),n.remove());else n&&(Nt(`Ignoring primitive class ${t.id}`,er),n.remove())}(e,t)})),function(e){if(!e)return;const t=Array.from(e.classes).filter((e=>"DerivedType"===e.stereoType));if(0===t.length)return;const n=Qe`<section class="appendix">
    <h1>${e.name} Derived Types</h1>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        ${t.map((e=>Qe`<tr>
            <td id="${e.id}">${e.name}</td>
            <td>${e.documentation.description}</td>
          </tr>`))}
      </tbody>
    </table>
  </section>`;document.body.append(n)}(r),function(e){if(!e)return;const t=Array.from(e.classes).filter((e=>"PrimitiveType"===e.stereoType));if(0===t.length)return;const n=Qe`<section class="appendix">
    <h1>${e.name} Primitive Types</h1>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        ${t.map((e=>Qe`<tr>
            <td id="${e.id}">${e.name}</td>
            <td>${e.documentation.description}</td>
          </tr>`))}
      </tbody>
    </table>
  </section>`;document.body.append(n)}(r)}else n.insertAdjacentElement("afterbegin",Qe`<h3>${t}</h3>`)}async function or(e,t){const n=t.getAttribute("data-sample");if(""===n)return void Lt("Example is missing a schema id",er);const r=t.getAttribute("id")??`example-${n}`;t.setAttribute("id",r),t.removeAttribute("data-sample");const o=t.getAttribute("data-include-optional-fields")??"false",i=await async function(e,t,n=!1){try{const r=await fetch(`${nr(e)}/sample/${t}?includeOptionalFields=${n}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":tr(e)}});return r.ok?await r.json():(Lt(`Could not get sampledata for ${t}: ${r.status}`,er),null)}catch(e){return Lt(`Could not get sample data for ${t}: ${e}`,er),null}}(e,n,o);if(i){const e=Qe`
<pre class="nohighlight">
${JSON.stringify(i,null,2)}
</pre>`;t.append(e)}else t.append(Qe`<p>Could not get sample data. See developer console for details.</p>`)}async function ir(e,t,n){const r=n.getAttribute("data-schema");if(""===r)return void Lt("Example is missing a schema id",er);const o=await async function(e,t){try{const n=await fetch(`${nr(e)}/jsonschema/${t}`,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":tr(e)}});return n.ok?await n.json():(Lt(`Could not get the schema for ${t}: ${n.status}`,er),null)}catch(e){return Lt(`Could not get the schema for ${t}: ${e}`,er),null}}(e,r);if(null!==o)try{const e=JSON.parse(n.innerText),i=t.compile(o);i(e)||(console.error(`Schema validation errors for ${r}:`,i.errors),n.insertAdjacentElement("beforebegin",Qe`<div class="admonition warning">
          <p>NOTE: This example contains invalid JSON for ${r}.</p>
          <ul>
            ${i.errors.map((e=>{""===e.instancePath&&(e.instancePath="class");let t=`${e.instancePath}: ${e.message}`;if("additionalProperties"===e.keyword)t+=` (additional property: "${e.params.additionalProperty})"`;return`<li>${t}</li>`}))}
          </ul>
        </div>`),Lt(`Invalid example JSON for ${r}. See console for details`,er))}catch(e){return void Lt(`Cannot parse example JSON for ${r}: ${e}`,er)}}var sr=Object.freeze({__proto__:null,name:er,run:async function(e){const t=document.querySelectorAll("section[data-model]"),n=new Array;t&&n.push(...Array.from(t).map((async t=>{const n=t.getAttribute("data-model");try{await rr(e,n)}catch(e){Lt(`Cannot process model ${n}: ${e}`,er)}})));const r=document.querySelectorAll("[data-sample]");if(r&&n.push(...Array.from(r).map((async t=>{const n=t.getAttribute("data-sample");try{await or(e,t)}catch(e){Lt(`Cannot generate sample ${n}: ${e}`,er)}}))),"function"==typeof window.ajv2019){const t=new window.ajv2019({allErrors:!0});!function(e){e.addFormat("byte",Gn),e.addFormat("double",Zn),e.addFormat("float",Zn),e.addFormat("int32",Gn),e.addFormat("int64",Kn),e.addFormat("date",/^\d\d\d\d-[0-1]\d-[0-3]\d$/),e.addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i),e.addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i)}(t);const r=document.querySelectorAll("pre[data-schema]");r&&n.push(...Array.from(r).map((async n=>{const r=n.getAttribute("data-schema");try{await ir(e,t,n)}catch(e){Lt(`Cannot validate example ${r}: ${e}`,er)}})))}await Promise.all(n),Dt("end-all",(()=>{const e=document.getElementById("initialUserConfig"),t=JSON.parse(e.innerHTML);"cdm"in t&&(delete t.cdm,e.innerHTML=JSON.stringify(t,null,2))}))}});var ar=Object.freeze({__proto__:null,name:"ims/post-markdown",run:async function(e){if("markdown"!==e.format)return;const t=document.body.querySelectorAll("md-only");for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}});function cr(e){if(e.specStatusString)return e.specStatusString;if("doc"===e.specType)return"This is an informative IMS Global document that may be revised at any time.";if("proposal"===e.specType)return"This is a proposal that may be revised at any time.";switch(e.specStatus){case"Proposal":case"IMS Base Document":return"This document is for review and comment by IMS Contributing Members.";case"IMS Candidate Final":case"IMS Candidate Final Public":return"This document is for review and adoption by the IMS membership.";case"IMS Final Release":return"This document is made available for adoption by the public community at large.";default:return`Unknown <code>specStatus: "${e.specStatus}"</code>`}}function lr(e){if(e.key)return Qe`
    <tr class="${e.class?e.class:null}">
      <td>${e.key}:</td>
      ${e.data?e.data.map(dr):dr(e)}
    </tr>
  `;Nt("Found a link without `key` attribute in the configuration. See dev console.","ims/templates/headers")}function dr(e){return Qe` <td class="${e.class?e.class:null}">
    ${e.href?Qe`<a href="${e.href}">${e.value||e.href}</a>`:e.value}
  </td>`}function ur(e){return Qe`<div id="ipr">
      <h2>IPR and Distribution Notice</h2>
      <p>
        Recipients of this document are requested to submit, with their
        comments, notification of any relevant patent claims or other
        intellectual property rights of which they may be aware that might be
        infringed by any implementation of the specification set forth in this
        document, and to provide supporting documentation.
      </p>
      <p>
        IMS takes no position regarding the validity or scope of any
        intellectual property or other rights that might be claimed to pertain
        implementation or use of the technology described in this document or
        the extent to which any license under such rights might or might not be
        available; neither does it represent that it has made any effort to
        identify any such rights. Information on IMS's procedures with respect
        to rights in IMS specifications can be found at the IMS Intellectual
        Property Rights webpage:
        <a href="http://www.imsglobal.org/ipr/imsipr_policyFinal.pdf">
          http://www.imsglobal.org/ipr/imsipr_policyFinal.pdf </a
        >.
      </p>
    </div>
    ${function(e){if(e.iprs)return Qe`<p>
        The following participating organizations have made explicit license
        commitments to this specification:
      </p>
      <table>
      <thead>
        <tr>
          <th>Org name</th>
          <th>Date election made</th>
          <th>Necessary claims</th>
          <th>Type</th>
        </th>
      </thead>
      <tbody>
      ${e.iprs.map(pr)}
      </tbody>
      </table>`}(e)}`}function pr(e){return Qe`<tr>
    <td>${e.company}</td>
    <td>${e.electionDate}</td>
    <td>${e.necessaryClaims}</td>
    <td>${e.type}</td>
  </tr>`}var fr=e=>Qe`<header>
    <div class="header-top">
      <h1 class="title" id="title">${e.specTitle}</h1>
      <a href="https://www.imsglobal.org" id="ims-logo">
        <img
          src="https://www.imsglobal.org/sites/default/files/IMSglobalreg2_2.png"
          alt="IMS logo"
        />
      </a>
    </div>
    ${function(e){if("doc"!==e.specType&&"proposal"!==e.specType)return Qe`<div class="subtitle">
        ${e.specStatus}<br />Spec Version ${e.specVersion}
      </div>`}(e)} ${function(e){if("doc"!==e.specType&&"proposal"!==e.specType)return Qe`<span
      class="statusPD${"IMS Final Release"===e.specStatus?" final":""}"
      data-content="${e.specStatus}"
      >${e.specStatus}</span
    >`}(e)}
    ${function(e){return"doc"!==e.specType&&"proposal"!==e.specType?Qe`<table
  id="version-table"
  title="Version/Release Details"
  summary="Details about the version and release.">
    <tbody>
      <tr>
        <td>Document Version:</td>
        <td>${e.docVersion}</td>
      </tr>
      <tr>
        <td>Date Issued:</td>
        <td>${e.specDate}</td>
      </tr>
      <tr>
        <td>Status:</td>
        <td>${cr(e)}</td>
      </tr>
      <tr>
        <td>This version:</td>
        <td><a href='${e.thisURL}'>${e.thisURL}</a></td>
      </tr>
      ${"normative"===e.specNature?Qe`<tr>
                <td>Latest version:</td>
                <td><a href="${e.latestURI}">${e.latestURI}</a></td>
              </tr>
              <tr>
                <td>Errata:</td>
                <td><a href="${e.errataURL}">${e.errataURL}</a></td>
              </tr>`:null}
      ${e.otherLinks?e.otherLinks.map(lr):""}
    </tbody>
  </table>`:Qe`<table
      id="version-table"
      title="Version/Release Details"
      summary="Details about the version and release.">
      <tbody>
        <tr>
          <td>Date Issued:</td>
          <td>${e.specDate}</td>
        </tr>
        <tr>
          <td>Status:</td>
          <td>${cr(e)}</td>
        </tr>
      </tbody>
    </table>`}(e)} ${ur(e)} ${function(e){return"proposal"===e.specType?Qe`<div id="disclosure">
      <h2>Proposals</h2>
      <p>
        Proposals are made available for the purposes of Project Group / Task
        Force only and should not be distributed outside of the IMS Contributing
        Membership without the express written consent of IMS GLC. Provision of
        any work documents outside of the project group/ task force will revoke
        all privileges as an Invited Guest. Any documents provided
        non-participants will be done by IMS GLC only on the IMS GLC public
        website when the documents become publicly available.
      </p>
    </div>`:Qe`<div id="disclosure">
      <p>
        Use of this specification to develop products or services is governed by
        the license with IMS found on the IMS website:
        <a href="http://www.imsglobal.org/speclicense.html">
          http://www.imsglobal.org/speclicense.html</a
        >.
      </p>
      <p>
        Permission is granted to all parties to use excerpts from this document
        as needed in producing requests for proposals.
      </p>
      <p>
        The limited permissions granted above are perpetual and will not be
        revoked by IMS or its successors or assigns.
      </p>
      <p>
        THIS SPECIFICATION IS BEING OFFERED WITHOUT ANY WARRANTY WHATSOEVER, AND
        IN PARTICULAR, ANY WARRANTY OF NONINFRINGEMENT IS EXPRESSLY DISCLAIMED.
        ANY USE OF THIS SPECIFICATION SHALL BE MADE ENTIRELY AT THE
        IMPLEMENTER'S OWN RISK, AND NEITHER THE CONSORTIUM, NOR ANY OF ITS
        MEMBERS OR SUBMITTERS, SHALL HAVE ANY LIABILITY WHATSOEVER TO ANY
        IMPLEMENTER OR THIRD PARTY FOR ANY DAMAGES OF ANY NATURE WHATSOEVER,
        DIRECTLY OR INDIRECTLY, ARISING FROM THE USE OF THIS SPECIFICATION.
      </p>
      <p>
        Public contributions, comments and questions can be posted here:
        <a href="http://www.imsglobal.org/forums/ims-glc-public-forums-and-resources">
          http://www.imsglobal.org/forums/ims-glc-public-forums-and-resources
        </a>.
      </p>
    </div>`}(e)}
    ${Qe`<div id="cpr">
    <p>
      © ${(new Date).getFullYear()} IMS Global Learning Consortium, Inc. All
      Rights Reserved.
    </p>
    <p>
      Trademark information:
      <a href="http://www.imsglobal.org/copyright.html"
        >http://www.imsglobal.org/copyright.html
      </a>
    </p>
  </div>`}
  </header>`;var hr=Object.freeze({__proto__:null,name:"ims/headers",run:async function(e){document.title=`${e.specTitle} ${e.specVersion??""} \n    ${e.specStatus??""}`;const t=document.body,n=fr(e);t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}});var mr=Object.freeze({__proto__:null,name:"core/id-headers",run:function(e){const t=document.querySelectorAll("section:not(.head):not(.introductory) h2, h3, h4, h5, h6");for(const n of t){let t=n.id;t||(yt(n),t=n.parentElement.id||n.id),e.addSectionLinks&&n.appendChild(Qe`
      <a href="${`#${t}`}" class="self-link" aria-label="§"></a>
    `)}}});const gr="ims/abstract";var br=Object.freeze({__proto__:null,name:gr,run:async function(){let e=document.getElementById("abstract");if(!e){Nt('Document should have one element with `id="abstract"',gr);const e=Bn("<section id='abstract' class='introductory remove'><h2>To be removed</h2></section>");document.body.prepend(e)}e.tagName.startsWith("H")&&(e.removeAttribute("id"),e=e.parentElement,e.id="abstract"),"SECTION"===e.tagName&&(e.classList.contains("introductory")||e.classList.add("introductory"));let t=document.querySelector("#abstract>h2");t||(t=document.createElement("h2"),t.textContent="Abstract",e.prepend(t))}});var yr=Object.freeze({__proto__:null,name:"core/data-transform",run:function(){document.querySelectorAll("[data-transform]").forEach((e=>{e.innerHTML=gt(e.innerHTML,e.dataset.transform),e.removeAttribute("data-transform")}))}});const wr="core/dfn-abbr";function vr(e){const t=(n=e).dataset.abbr?n.dataset.abbr:n.textContent.match(/\b([a-z])/gi).join("").toUpperCase();var n;const r=e.textContent.replace(/\s\s+/g," ").trim();e.insertAdjacentHTML("afterend",` (<abbr title="${r}">${t}</abbr>)`);const o=e.dataset.lt||"";e.dataset.lt=o.split("|").filter((e=>e.trim())).concat(t).join("|")}var xr=Object.freeze({__proto__:null,name:wr,run:function(){const e=document.querySelectorAll("[data-abbr]");for(const t of e){const{localName:e}=t;if("dfn"===e)vr(t);else{Lt(`\`data-abbr\` attribute not supported on \`${e}\` elements.`,wr,{elements:[t],title:"Error: unsupported."})}}}});function $r(e){const t=e.querySelectorAll(":scope > section");for(const e of t){if(!e.children.length)continue;if(!e.id){const t=e.children[0].textContent;if("conformance"==t.toLowerCase()||"conformance statements"==t.toLowerCase())return yt(e,null,"conformance"),e}const t=$r(e);if(t)return t}return null}var kr=Object.freeze({__proto__:null,name:"ims/inlines",run:async function(e){if("errata"==e.specType)return;let t=document.querySelector("section#conformance");t||(t=$r(document.body))}});const Sr=/^[a-z]+(\s+[a-z]+)+\??$/,_r=/\B"([^"]*)"\B/,Er=/(\w+)\((.*)\)$/,Cr=/\[\[(\w+(?: +\w+)*)\]\](\([^)]*\))?$/,Ar=/^((?:\[\[)?(?:\w+(?: +\w+)*)(?:\]\])?)$/,Tr=/^(?:\w+)\??$/,Lr=/^(\w+)\["([\w- ]*)"\]$/,Nr=/\.?(\w+\(.*\)$)/,Ir=/\/(.+)/,Rr=/\[\[.+\]\]/;function Or(e){const{identifier:t,renderParent:n,nullable:r}=e;if(n)return Qe`<a
      data-xref-type="_IDL_"
      data-link-type="idl"
      data-lt="${t}"
      ><code>${t+(r?"?":"")}</code></a
    >`}function jr(e){const{identifier:t,parent:n,slotType:r,renderParent:o,args:i}=e,{identifier:s}=n||{},a="method"===r,c=a?Qe`(${bt(i,Pr)})`:null,l=a?`(${i.join(", ")})`:"";return Qe`${n&&o?".":""}<a
      data-xref-type="${r}"
      data-link-for="${s}"
      data-xref-for="${s}"
      data-lt="${`[[${t}]]${l}`}"
      ><code>[[${t}]]${c}</code></a
    >`}function Pr(e,t,n){if(t<n.length-1)return Qe`<var>${e}</var>`;const r=e.split(/(^\.{3})(.+)/),o=r.length>1,i=o?r[2]:r[0];return Qe`${o?"...":null}<var>${i}</var>`}function zr(e){const{parent:t,identifier:n,renderParent:r}=e,{identifier:o}=t||{};return Qe`${r?".":""}<a
      data-link-type="idl"
      data-xref-type="attribute|dict-member|const"
      data-link-for="${o}"
      data-xref-for="${o}"
      ><code>${n}</code></a
    >`}function Mr(e){const{args:t,identifier:n,type:r,parent:o,renderParent:i}=e,{identifier:s}=o||{},a=bt(t,Pr),c=`${n}(${t.join(", ")})`;return Qe`${o&&i?".":""}<a
      data-link-type="idl"
      data-xref-type="${r}"
      data-link-for="${s}"
      data-xref-for="${s}"
      data-lt="${c}"
      ><code>${n}</code></a
    ><code>(${a})</code>`}function Dr(e){const{identifier:t,enumValue:n,parent:r}=e,o=r?r.identifier:t;return Qe`"<a
      data-link-type="idl"
      data-xref-type="enum-value"
      data-link-for="${o}"
      data-xref-for="${o}"
      data-lt="${n?null:"the-empty-string"}"
      ><code>${n}</code></a
    >"`}function qr(e){const{identifier:t}=e;return Qe`"<a
      data-link-type="idl"
      data-cite="WebIDL"
      data-xref-type="exception"
      ><code>${t}</code></a
    >"`}function Fr(e){const{identifier:t,nullable:n}=e;return Qe`<a
    data-link-type="idl"
    data-cite="WebIDL"
    data-xref-type="interface"
    data-lt="${t}"
    ><code>${t+(n?"?":"")}</code></a
  >`}function Ur(e){let t;try{t=function(e){const t=Rr.test(e),n=t?Ir:Nr,[r,o]=e.split(n);if(t&&r&&!o)throw new SyntaxError(`Internal slot missing "for" part. Expected \`{{ InterfaceName/${r}}}\` }.`);const i=r.split(/[./]/).concat(o).filter((e=>e&&e.trim())).map((e=>e.trim())),s=!e.includes("/"),a=[];for(;i.length;){const t=i.pop();if(Er.test(t)){const[,e,n]=t.match(Er),r=n.split(/,\s*/).filter((e=>e));a.push({type:"method",identifier:e,args:r,renderParent:s})}else if(Lr.test(t)){const[,e,n]=t.match(Lr);a.push({type:"enum",identifier:e,enumValue:n,renderParent:s})}else if(_r.test(t)){const[,e]=t.match(_r);s?a.push({type:"exception",identifier:e}):a.push({type:"enum",enumValue:e,renderParent:s})}else if(Cr.test(t)){const[,e,n]=t.match(Cr),r=n?"method":"attribute",o=n?.slice(1,-1).split(/,\s*/).filter((e=>e));a.push({type:"internal-slot",slotType:r,identifier:e,args:o,renderParent:s})}else if(Ar.test(t)&&i.length){const[,e]=t.match(Ar);a.push({type:"attribute",identifier:e,renderParent:s})}else if(Sr.test(t)){const e=t.endsWith("?"),n=e?t.slice(0,-1):t;a.push({type:"idl-primitive",identifier:n,renderParent:s,nullable:e})}else{if(!Tr.test(t)||0!==i.length)throw new SyntaxError(`IDL micro-syntax parsing error in \`{{ ${e} }}\``);{const e=t.endsWith("?"),n=e?t.slice(0,-1):t;a.push({type:"base",identifier:n,renderParent:s,nullable:e})}}}return a.forEach(((e,t,n)=>{e.parent=n[t+1]||null})),a.reverse()}(e)}catch(t){const n=Qe`<span>{{ ${e} }}</span>`,r="Error: Invalid inline IDL string.";return Lt(t.message,"core/inlines",{title:r,elements:[n]}),n}const n=Qe(document.createDocumentFragment()),r=[];for(const e of t)switch(e.type){case"base":{const t=Or(e);t&&r.push(t);break}case"attribute":r.push(zr(e));break;case"internal-slot":r.push(jr(e));break;case"method":r.push(Mr(e));break;case"enum":r.push(Dr(e));break;case"exception":r.push(qr(e));break;case"idl-primitive":r.push(Fr(e));break;default:throw new Error("Unknown type.")}return n`${r}`}const Br=new Set(["alias","reference"]),Wr=async function(){const e=await Je.openDB("respec-biblio2",12,{upgrade(e){Array.from(e.objectStoreNames).map((t=>e.deleteObjectStore(t)));e.createObjectStore("alias",{keyPath:"id"}).createIndex("aliasOf","aliasOf",{unique:!1}),e.createObjectStore("reference",{keyPath:"id"})}}),t=Date.now();for(const n of[...Br]){const r=e.transaction(n,"readwrite").store,o=IDBKeyRange.lowerBound(t);let i=await r.openCursor(o);for(;i?.value;){const e=i.value;(void 0===e.expires||e.expires<t)&&await r.delete(e.id),i=await i.continue()}}return e}();const Hr={get ready(){return Wr},async find(e){return await this.isAlias(e)&&(e=await this.resolveAlias(e)),await this.get("reference",e)},async has(e,t){if(!Br.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t);return!!await n.openCursor(r)},async isAlias(e){return await this.has("alias",e)},async resolveAlias(e){if(!e)throw new TypeError("id is required");const t=(await this.ready).transaction("alias","readonly").store,n=IDBKeyRange.only(e),r=await t.openCursor(n);return r?r.value.aliasOf:r},async get(e,t){if(!Br.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t),o=await n.openCursor(r);return o?o.value:o},async addAll(e,t){if(!e)return;const n={alias:[],reference:[]};for(const r of Object.keys(e)){const o={id:r,...e[r],expires:t};o.aliasOf?n.alias.push(o):n.reference.push(o)}const r=[...Br].flatMap((e=>n[e].map((t=>this.add(e,t)))));await Promise.all(r)},async add(e,t){if(!Br.has(e))throw new TypeError(`Invalid type: ${e}`);if("object"!=typeof t)throw new TypeError("details should be an object");if("alias"===e&&!t.hasOwnProperty("aliasOf"))throw new TypeError("Invalid alias object.");const n=await this.ready;let r=await this.has(e,t.id);if(r){if((await this.get(e,t.id))?.expires<Date.now()){const{store:o}=n.transaction(e,"readwrite");await o.delete(t.id),r=!1}}const{store:o}=n.transaction(e,"readwrite");return r?await o.put(t):await o.add(t)},async close(){(await this.ready).close()},async clear(){const e=await this.ready,t=[...Br],n=e.transaction(t,"readwrite"),r=t.map((e=>n.objectStore(e).clear()));await Promise.all(r)}},Vr={},Yr=new URL("https://api.specref.org/bibrefs?refs="),Gr=st({hint:"dns-prefetch",href:Yr.origin});let Kr;document.head.appendChild(Gr);const Zr=new Promise((e=>{Kr=e}));async function Xr(e,t={forceUpdate:!1}){const n=[...new Set(e)].filter((e=>e.trim()));if(!n.length||!1===navigator.onLine)return null;let r;try{r=await fetch(Yr.href+n.join(","))}catch(e){return console.error(e),null}if(!t.forceUpdate&&!r.ok||200!==r.status)return null;const o=await r.json(),i=Date.now()+36e5;try{const e=r.headers.has("Expires")?Math.min(Date.parse(r.headers.get("Expires")),i):i;await Hr.addAll(o,e)}catch(e){console.error(e)}return o}async function Jr(e){const t=await Zr;if(!t.hasOwnProperty(e))return null;const n=t[e];return n.aliasOf?await Jr(n.aliasOf):n}var Qr=Object.freeze({__proto__:null,biblio:Vr,name:"core/biblio",updateFromNetwork:Xr,resolveRef:Jr,Plugin:class{constructor(e){this.conf=e}normalizeReferences(){const e=new Set([...this.conf.normativeReferences].map((e=>e.toLowerCase())));Array.from(this.conf.informativeReferences).filter((t=>e.has(t.toLowerCase()))).forEach((e=>this.conf.informativeReferences.delete(e)))}getRefKeys(){return{informativeReferences:Array.from(this.conf.informativeReferences),normativeReferences:Array.from(this.conf.normativeReferences)}}async run(){this.conf.localBiblio||(this.conf.localBiblio={}),this.conf.biblio=Vr;const e=Object.keys(this.conf.localBiblio).filter((e=>this.conf.localBiblio[e].hasOwnProperty("aliasOf"))).map((e=>this.conf.localBiblio[e].aliasOf)).filter((e=>!this.conf.localBiblio.hasOwnProperty(e)));this.normalizeReferences();const t=this.getRefKeys(),n=Array.from(new Set(t.normativeReferences.concat(t.informativeReferences).filter((e=>!this.conf.localBiblio.hasOwnProperty(e))).concat(e).sort())),r=n.length?await async function(e){const t=[];try{await Hr.ready;const n=e.map((async e=>({id:e,data:await Hr.find(e)})));t.push(...await Promise.all(n))}catch(n){t.push(...e.map((e=>({id:e,data:null})))),console.warn(n)}return t}(n):[],o={hasData:[],noData:[]};r.forEach((e=>{(e.data?o.hasData:o.noData).push(e)})),o.hasData.forEach((e=>{Vr[e.id]=e.data}));const i=o.noData.map((e=>e.id));if(i.length){const e=await Xr(i,{forceUpdate:!0});Object.assign(Vr,e)}Object.assign(Vr,this.conf.localBiblio),(()=>{Kr(this.conf.biblio)})()}}});const eo="core/render-biblio",to=ht({en:{info_references:"Informative references",norm_references:"Normative references",references:"References"},ko:{references:"참조"},nl:{info_references:"Informatieve referenties",norm_references:"Normatieve referenties",references:"Referenties"},es:{info_references:"Referencias informativas",norm_references:"Referencias normativas",references:"Referencias"},ja:{info_references:"参照用参考文献",norm_references:"規範的参考文献",references:"参考文献"},de:{info_references:"Weiterführende Informationen",norm_references:"Normen und Spezifikationen",references:"Referenzen"},zh:{info_references:"非规范性引用",norm_references:"规范性引用",references:"参考文献"}}),no=new Map([["CR","W3C Candidate Recommendation"],["ED","W3C Editor's Draft"],["FPWD","W3C First Public Working Draft"],["LCWD","W3C Last Call Working Draft"],["NOTE","W3C Note"],["PER","W3C Proposed Edited Recommendation"],["PR","W3C Proposed Recommendation"],["REC","W3C Recommendation"],["WD","W3C Working Draft"],["WG-NOTE","W3C Working Group Note"]]),ro=(oo=".",e=>{const t=e.trim();return!t||t.endsWith(oo)?t:t+oo});var oo;function io(e,t){const{goodRefs:n,badRefs:r}=function(e){const t=[],n=[];for(const r of e)r.refcontent?t.push(r):n.push(r);return{goodRefs:t,badRefs:n}}(e.map(so)),o=function(e){const t=new Map;for(const n of e)t.has(n.refcontent.id)||t.set(n.refcontent.id,n);return[...t.values()]}(n),i=o.concat(r).sort(((e,t)=>e.ref.toLocaleLowerCase().localeCompare(t.ref.toLocaleLowerCase()))),s=Qe`<section>
    <h3>${t}</h3>
    <dl class="bibliography">${i.map(co)}</dl>
  </section>`;yt(s,"",t);const a=function(e){return e.reduce(((e,t)=>{const n=t.refcontent.id;return(e.has(n)?e.get(n):e.set(n,[]).get(n)).push(t.ref),e}),new Map)}(n);return function(e,t){e.map((({ref:e,refcontent:n})=>{const r=`#bib-${e.toLowerCase()}`,o=t.get(n.id).map((e=>`a.bibref[href="#bib-${e.toLowerCase()}"]`)).join(",");return{refUrl:r,elems:document.querySelectorAll(o),refcontent:n}})).forEach((({refUrl:e,elems:t,refcontent:n})=>{t.forEach((t=>{t.setAttribute("href",e),t.setAttribute("title",n.title),t.dataset.linkType="biblio"}))}))}(o,a),function(e){e.forEach((({ref:e})=>{const t=[...document.querySelectorAll(`a.bibref[href="#bib-${e.toLowerCase()}"]`)].filter((({textContent:t})=>t.toLowerCase()===e.toLowerCase()));Lt(`Bad reference: [\`${e}\`] (appears ${t.length} times)`,eo),console.warn("Bad references: ",t)}))}(r),s}function so(e){let t=Vr[e],n=e;const r=new Set([n]);for(;t&&t.aliasOf;)if(r.has(t.aliasOf)){t=null;Lt(`Circular reference in biblio DB between [\`${e}\`] and [\`${n}\`].`,eo)}else n=t.aliasOf,t=Vr[n],r.add(n);return t&&!t.id&&(t.id=e.toLowerCase()),{ref:e,refcontent:t}}function ao(e,t){const n=e.replace(/^(!|\?)/,""),r=`#bib-${n.toLowerCase()}`,o=Qe`<cite
    ><a class="bibref" href="${r}" data-link-type="biblio">${t||n}</a></cite
  >`;return t?o:Qe`[${o}]`}function co({ref:e,refcontent:t}){const n=`bib-${e.toLowerCase()}`;return t?Qe`
      <dt id="${n}">[${e}]</dt>
      <dd>${{html:lo(t)}}</dd>
    `:Qe`
      <dt id="${n}">[${e}]</dt>
      <dd><em class="respec-offending-element">Reference not found.</em></dd>
    `}function lo(e){if("string"==typeof e)return e;let t=`<cite>${e.title}</cite>`;return t=e.href?`<a href="${e.href}">${t}</a>. `:`${t}. `,e.authors&&e.authors.length&&(t+=e.authors.join("; "),e.etAl&&(t+=" et al"),t+=". "),e.publisher&&(t=`${t} ${ro(e.publisher)} `),e.date&&(t+=`${e.date}. `),e.status&&(t+=`${no.get(e.status)||e.status}. `),e.href&&(t+=`URL: <a href="${e.href}">${e.href}</a>`),t}var uo=Object.freeze({__proto__:null,name:eo,run:function(e){const t=Array.from(e.informativeReferences),n=Array.from(e.normativeReferences);if(!t.length&&!n.length)return;const r=document.querySelector("section#references")||Qe`<section id="references"></section>`;if(document.querySelector("section#references > h2")||r.prepend(Qe`<h2>${to.references}</h2>`),r.classList.add("appendix"),n.length){const e=io(n,to.norm_references);r.appendChild(e)}if(t.length){const e=io(t,to.info_references);r.appendChild(e)}document.body.appendChild(r)},renderInlineCitation:ao});const po="core/inlines",fo={},ho=e=>new RegExp(e.map((e=>e.source)).join("|")),mo=ht({en:{rfc2119Keywords:()=>ho([/\bMUST(?:\s+NOT)?\b/,/\bSHOULD(?:\s+NOT)?\b/,/\bSHALL(?:\s+NOT)?\b/,/\bMAY?\b/,/\b(?:NOT\s+)?REQUIRED\b/,/\b(?:NOT\s+)?RECOMMENDED\b/,/\bOPTIONAL\b/])},de:{rfc2119Keywords:()=>ho([/\bMUSS\b/,/\bERFORDERLICH\b/,/\b(?:NICHT\s+)?NÖTIG\b/,/\bDARF(?:\s+NICHT)?\b/,/\bVERBOTEN\b/,/\bSOLL(?:\s+NICHT)?\b/,/\b(?:NICHT\s+)?EMPFOHLEN\b/,/\bKANN\b/,/\bOPTIONAL\b/])}}),go=/(?:`[^`]+`)(?!`)/,bo=/(?:{{[^}]+\?*}})/,yo=/\B\|\w[\w\s]*(?:\s*:[\w\s&;<>]+\??)?\|\B/,wo=/(?:\[\[(?:!|\\|\?)?[\w.-]+(?:|[^\]]+)?\]\])/,vo=/(?:\[\[\[(?:!|\\|\?)?#?[\w-.]+\]\]\])/,xo=/(?:\[=[^=]+=\])/,$o=/(?:\[\^[^^]+\^\])/;function ko(e){const t=e.slice(2,-2).trim(),[n,r,o]=t.split("/",3).map((e=>e&&e.trim())).filter((e=>!!e)),[i,s,a]=t.startsWith("/")?["element-attr",null,n]:o?["attr-value",`${n}/${r}`,o]:r?["element-attr",n,r]:["element",null,n];return Qe`<code
    ><a data-xref-type="${i}" data-xref-for="${s}"
      >${a}</a
    ></code
  >`}function So(e){const t=ft(e),n=Qe`<em class="rfc2119">${t}</em>`;return fo[t]=!0,n}function _o(e){const t=e.slice(3,-3).trim();return t.startsWith("#")?Qe`<a href="${t}"></a>`:Qe`<a data-cite="${t}"></a>`}function Eo(e,t){const n=ft(e.slice(2,-2));if(n.startsWith("\\"))return e.replace("\\","");const r=Ur(n);return!!t.parentElement.closest("dfn")?No(`\`${r.textContent}\``):r}function Co(e,t,n){const r=e.slice(2,-2);if(r.startsWith("\\"))return[`[[${r.slice(1)}]]`];const[o,i]=r.split("|").map(ft),{type:s,illegal:a}=xt(o,t.parentElement),c=ao(o,i),l=o.replace(/^(!|\?)/,"");if(a&&!n.normativeReferences.has(l)){const e=c.childNodes[1]||c;Nt("Normative references in informative sections are not allowed. ",po,{elements:[e],hint:`Remove '!' from the start of the reference \`[[${r}]]\``})}return"informative"!==s||a?n.normativeReferences.add(l):n.informativeReferences.add(l),c.childNodes[1]?c.childNodes:[c]}function Ao(e,t,n){return"ABBR"===t.parentElement.tagName?e:Qe`<abbr title="${n.get(e)}">${e}</abbr>`}function To(e){const t=e.slice(1,-1).split(":",2),[n,r]=t.map((e=>e.trim()));return Qe`<var data-type="${r}">${n}</var>`}function Lo(e){const t=function(e){const t=e=>e.replace("%%","/").split("/").map(ft).join("/"),n=e.replace("\\/","%%"),r=n.lastIndexOf("/");if(-1===r)return[t(n)];const o=n.substring(0,r),i=n.substring(r+1,n.length);return[t(o),t(i)]}(e=e.slice(2,-2)),[n,r]=2===t.length?t:[null,t[0]],[o,i]=r.includes("|")?r.split("|",2).map((e=>e.trim())):[null,r],s=Io(i),a=n?ft(n):null;return Qe`<a
    data-link-type="dfn"
    data-link-for="${a}"
    data-xref-for="${a}"
    data-lt="${o}"
    >${s}</a
  >`}function No(e){const t=e.slice(1,-1);return Qe`<code>${t}</code>`}function Io(e){return go.test(e)?e.split(/(`[^`]+`)(?!`)/).map((e=>e.startsWith("`")?No(e):Io(e))):document.createTextNode(e)}var Ro=Object.freeze({__proto__:null,name:po,rfc2119Usage:fo,run:function(e){const t=new Map;document.normalize(),document.querySelector("section#conformance")||document.body.classList.add("informative"),e.normativeReferences=new St,e.informativeReferences=new St,e.respecRFC2119||(e.respecRFC2119=fo);const n=document.querySelectorAll("abbr[title]:not(.exclude)");for(const{textContent:e,title:r}of n){const n=ft(e),o=ft(r);t.set(n,o)}const r=t.size?new RegExp(`(?:\\b${[...t.keys()].join("\\b)|(?:\\b")}\\b)`):null,o=function(e,t=[],n={wsNodes:!0}){const r=t.join(", "),o=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,(e=>n.wsNodes||e.data.trim()?r&&e.parentElement.closest(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT)),i=[];let s;for(;s=o.nextNode();)i.push(s);return i}(document.body,["#respec-ui",".head","pre"],{wsNodes:!1}),i=mo.rfc2119Keywords(),s=new RegExp(`(${ho([i,bo,yo,wo,vo,xo,go,$o,...r?[r]:[]]).source})`);for(const n of o){const r=n.data.split(s);if(1===r.length)continue;const o=document.createDocumentFragment();let a=!0;for(const s of r)if(a=!a,a)switch(!0){case s.startsWith("{{"):o.append(Eo(s,n));break;case s.startsWith("[[["):o.append(_o(s));break;case s.startsWith("[["):o.append(...Co(s,n,e));break;case s.startsWith("|"):o.append(To(s));break;case s.startsWith("[="):o.append(Lo(s));break;case s.startsWith("`"):o.append(No(s));break;case s.startsWith("[^"):o.append(ko(s));break;case t.has(s):o.append(Ao(s,n,t));break;case i.test(s):o.append(So(s))}else o.append(s);n.replaceWith(o)}}});function Oo(e){fo.MUST=!0,fo["MUST NOT"]=!0,fo.REQUIRED=!0,fo.SHALL=!0,fo["SHALL NOT"]=!0,fo.SHOULD=!0,fo["SHOULD NOT"]=!0,fo.RECOMMENDED=!0,fo.MAY=!0,fo.OPTIONAL=!0;const t=[...Object.keys(fo)],n=(r=t.sort(),[].concat(lt(r,(e=>Qe`<em class="rfc2119">${e}</em>`))).map((e=>"string"==typeof e?Qe`${e}`:e)));var r;const o=t.length>1,i=Qe`<p>
      As well as sections marked as non-normative, all authoring guidelines,
      diagrams, examples, and notes in this specification are non-normative.
      Everything else in this specification is normative.
    </p>
    ${t.length?Qe`
          <p>
            The key word${o?"s":""} ${[n]} in this document
            ${o?"are":"is"} to be interpreted as described in
            ${ao("RFC2119")}.
          </p>
        `:null}
    <p>
      An implementation of this specification that fails to implement a
      MUST/REQUIRED/SHALL requirement or fails to abide by a MUST NOT/SHALL NOT
      prohibition is considered nonconformant. SHOULD/SHOULD NOT/RECOMMENDED
      statements constitute a best practice. Ignoring a best practice does not
      violate conformance but a decision to disregard such guidance should be
      carefully considered. MAY/OPTIONAL statements indicate that implementers
      are entirely free to choose whether or not to implement the option.
    </p>`;return e.skipCertGuideConformanceRef||"cert"==e.specType?i:Qe`${i}
    <p>
      The <a href="#document-set">Conformance and Certification Guide</a>
      for this specification may introduce greater normative constraints than
      those defined here for specific service or implementation categories.
    </p>`}function jo(e,t){let n;t.normativeReferences.add("RFC2119"),"normative"===t.specNature?n=Oo(t):"informative"===t.specNature&&(n=function(e){return e.mainSpecTitle||Nt("warn","No mainSpecTitle property found in config')"),e.mainSpecBiblioKey||Nt("warn","No mainSpecBiblioKey property found in config')"),Qe` <p>
    This document is an informative resource in the Document Set of the
    ${e.mainSpecTitle?e.mainSpecTitle:""} specification
    ${e.mainSpecBiblioKey?ao(e.mainSpecBiblioKey):""}.
    As such, it does not include any normative requirements. Occurrences in this
    document of terms such as MAY, MUST, MUST NOT, SHOULD or RECOMMENDED have no
    impact on the conformance criteria for implementors of this specification.
  </p>`}(t)),"SECTION"===e.tagName?e.prepend(...n.childNodes):e.parentNode.append(...n.childNodes)}var Po=Object.freeze({__proto__:null,name:"ims/conformance",run:function(e){if("errata"===e.specType)return;let t=document.querySelector("section#conformance");if(t||(t=document.querySelector("section#conformance-0")),t){if(e.specNature||Lt("error","Document must have config.specNature set"),"SECTION"===t.tagName){const e=t.querySelector("h1, h2, h3, h4, h5, h6");e?t=e:Nt("warn","No heading found in the conformance section")}jo(t,e)}else Lt("error","No section found with id 'conformance'")}});function zo(e,t,n,r){try{switch(t){case"attribute":return document.createAttribute(e),!0;case"element":return document.createElement(e),!0}}catch(o){Lt(`Invalid ${t} name "${e}": ${o.message}`,r,{hint:`Check that the ${t} name is allowed per the XML's Name production for ${t}.`,elements:[n]})}return!1}function Mo(e,t,n,r){if(/^[a-z]+(-[a-z]+)*$/i.test(e))return!0;return Lt(`Invalid ${t} name "${e}".`,r,{hint:`Check that the ${t} name is allowed per the naming rules for this type.`,elements:[n]}),!1}const Do=new At;function qo(e,t){for(const n of t)Do.has(n)||Do.set(n,new Set),Do.get(n).add(e)}const Fo="core/dfn",Uo=new Map([["abstract-op",{requiresFor:!1}],["attribute",{requiresFor:!1,validator:zo}],["attr-value",{requiresFor:!0,associateWith:"an HTML attribute",validator:Mo}],["element",{requiresFor:!1,validator:zo}],["element-state",{requiresFor:!0,associateWith:"an HTML attribute",validator:Mo}],["event",{requiresFor:!1,validator:Mo}],["http-header",{requiresFor:!1}],["media-type",{requiresFor:!1,validator:function(e,t,n,r){try{const t=new nt(e);if(t.toString()!==e)throw new Error(`Input doesn't match its canonical form: "${t}".`)}catch(o){return Lt(`Invalid ${t} "${e}": ${o.message}.`,r,{hint:"Check that the MIME type has both a type and a sub-type, and that it's in a canonical form (e.g., `text/plain`).",elements:[n]}),!1}return!0}}],["scheme",{requiresFor:!1,validator:Mo}],["permission",{requiresFor:!1,validator:function(e,t,n,r){return e.startsWith('"')&&e.endsWith('"')?Mo(e.slice(1,-1),t,n,r):(Lt(`Invalid ${t} "${e}".`,r,{hint:`Check that the ${t} is quoted with double quotes.`,elements:[n]}),!1)}}]]),Bo=[...Uo.keys()];function Wo(e,t){let n="";switch(!0){case Bo.some((t=>e.classList.contains(t))):n=[...e.classList].find((e=>Uo.has(e))),function(e,t,n){const r=Uo.get(t);if(r.requiresFor&&!n.dataset.dfnFor){const e=jt`Definition of type "\`${t}\`" requires a ${"[data-dfn-for]"} attribute.`,{associateWith:o}=r,i=jt`Use a ${"[data-dfn-for]"} attribute to associate this with ${o}.`;Lt(e,Fo,{hint:i,elements:[n]})}r.validator&&r.validator(e,t,n,Fo)}(t,n,e);break;case Cr.test(t):n=function(e,t){t.dataset.hasOwnProperty("idl")||(t.dataset.idl="");const n=t.closest("[data-dfn-for]");t!==n&&n?.dataset.dfnFor&&(t.dataset.dfnFor=n.dataset.dfnFor);if(!t.dataset.dfnFor){const n=jt`Use a ${"[data-dfn-for]"} attribute to associate this dfn with a WebIDL interface.`;Lt(`Internal slot "${e}" must be associated with a WebIDL interface.`,Fo,{hint:n,elements:[t]})}t.matches(".export, [data-export]")||(t.dataset.noexport="");const r=e.endsWith(")")?"method":"attribute";if(!t.dataset.dfnType)return r;const o=["attribute","method"],{dfnType:i}=t.dataset;if(!o.includes(i)||r!==i){const n=jt`Invalid ${"[data-dfn-type]"} attribute on internal slot.`,i=`The only allowed types are: ${function(e,{quotes:t}={quotes:!1}){return pt(e,t?e=>It(Ot(e)):It)}(o,{quotes:!0})}. The slot "${e}" seems to be a "${It(r)}"?`;return Lt(n,Fo,{hint:i,elements:[t]}),"dfn"}return i}(t,e)}if(!n&&!e.matches("[data-dfn-type]")){n=e.closest("[data-dfn-type]")?.dataset.dfnType}n&&!e.dataset.dfnType&&(e.dataset.dfnType=n)}function Ho(e){switch(!0){case e.matches(".export.no-export"):Lt(jt`Declares both "${"[no-export]"}" and "${"[export]"}" CSS class.`,Fo,{elements:[e],hint:"Please use only one."});break;case e.matches(".no-export, [data-noexport]"):if(e.matches("[data-export]")){Lt(jt`Declares ${"[no-export]"} CSS class, but also has a "${"[data-export]"}" attribute.`,Fo,{elements:[e],hint:"Please chose only one."}),delete e.dataset.export}e.dataset.noexport="";break;case e.matches(":is(.export):not([data-noexport], .no-export)"):e.dataset.export=""}}function Vo(){const e=document.querySelectorAll("dfn:is([data-dfn-type=''],:not([data-dfn-type]))");for(const t of e)t.dataset.dfnType="dfn";const t=document.querySelectorAll("dfn:not([data-noexport], [data-export], [data-dfn-type='dfn'], [data-cite])");for(const e of t)e.dataset.export=""}var Yo=Object.freeze({__proto__:null,name:Fo,run:function(){for(const e of document.querySelectorAll("dfn")){const t=wt(e);if(qo(e,t),e.dataset.cite&&/\b#\b/.test(e.dataset.cite))continue;const[n]=t;Wo(e,n),Ho(e),1===t.length&&n===ft(e.textContent)||(e.dataset.lt=t.join("|"))}Dt("plugins-done",Vo)}});var Go=Object.freeze({__proto__:null,name:"core/pluralize",run:function(e){if(!e.pluralize)return;const t=function(){const e=new Set;document.querySelectorAll("a:not([href])").forEach((t=>{const n=ft(t.textContent).toLowerCase();e.add(n),t.dataset.lt&&e.add(t.dataset.lt)}));const t=new Set;return document.querySelectorAll("dfn:not([data-lt-noDefault])").forEach((e=>{const n=ft(e.textContent).toLowerCase();t.add(n),e.dataset.lt&&e.dataset.lt.split("|").forEach((e=>t.add(e))),e.dataset.localLt&&e.dataset.localLt.split("|").forEach((e=>t.add(e)))})),function(n){const r=ft(n).toLowerCase(),o=tt.isSingular(r)?tt.plural(r):tt.singular(r);return e.has(o)&&!t.has(o)?o:""}}();document.querySelectorAll("dfn:not([data-lt-no-plural]):not([data-lt-noDefault])").forEach((e=>{const n=[e.textContent];e.dataset.lt&&n.push(...e.dataset.lt.split("|")),e.dataset.localLt&&n.push(...e.dataset.localLt.split("|"));const r=new Set(n.map(t).filter((e=>e)));if(r.size){const t=e.dataset.plurals?e.dataset.plurals.split("|"):[],n=[...new Set([...t,...r])];e.dataset.plurals=n.join("|"),qo(e,n)}}))}});var Ko=String.raw`span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
:is(aside,div).example{border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
.example pre{background-color:rgba(0,0,0,.03)}`;const Zo=ht({en:{example:"Example"},nl:{example:"Voorbeeld"},es:{example:"Ejemplo"},ko:{example:"예시"},ja:{example:"例"},de:{example:"Beispiel"},zh:{example:"例"}});function Xo(e,t,n){n.title=e.title,n.title&&e.removeAttribute("title");const r=t>0?` ${t}`:"",o=n.title?Qe`<span class="example-title">: ${n.title}</span>`:"";return Qe`<div class="marker">
    <a class="self-link">${Zo.example}<bdi>${r}</bdi></a
    >${o}
  </div>`}var Jo=Object.freeze({__proto__:null,name:"core/examples",run:function(){const e=document.querySelectorAll("pre.example, pre.illegal-example, aside.example");if(!e.length)return;document.head.insertBefore(Qe`<style>
      ${Ko}
    </style>`,document.querySelector("link"));let t=0;e.forEach((e=>{const n=e.classList.contains("illegal-example"),r={number:t,illegal:n},{title:o}=e;if("aside"===e.localName){++t;const n=Xo(e,t,r);e.prepend(n);const i=yt(e,"example",o||String(t));n.querySelector("a.self-link").href=`#${i}`,Mt("example",r)}else{const n=!!e.closest("aside");n||++t,r.content=e.innerHTML,e.classList.remove("example","illegal-example");const i=e.id?e.id:null;i&&e.removeAttribute("id");const s=Xo(e,n?0:t,r),a=Qe`<div class="example" id="${i}">
        ${s} ${e.cloneNode(!0)}
      </div>`;yt(a,"example",o||String(t));a.querySelector("a.self-link").href=`#${a.id}`,e.replaceWith(a),n||Mt("example",r)}}))}});var Qo=Object.freeze({__proto__:null,name:"ims/issues-notes",run:async function(e){document.body.querySelectorAll("aside.issue, div.aside.issue").length>0&&("IMS Final Release"==e.specStatus?Mt("error","Issue asides must not be present when the status is 'IMS Final Release'"):"IMS Candidate Final"==e.specStatus&&Mt("warn","Issue asides should not be present when the status is 'IMS Candidate Final'")),document.body.querySelectorAll("aside.note, aside.ednote, aside.warning, aside.issue,  div.aside.note, div.aside.ednote div.aside.warning, div.aside.issue").forEach((e=>{const t=function(e){if(e.classList.contains("note"))return"note";if(e.classList.contains("warning"))return"warning";if(e.classList.contains("issue"))return"issue";return"info"}(e);e.setAttribute("role","note"),e.classList.add("admonition"),e.hasAttribute("id")||yt(e);const n=Bn(`<div class='admon-top'>${t}</div>`).parentElement.firstElementChild;n.classList.add(`${t}-title`),e.insertAdjacentElement("afterbegin",n)}))}});const ei="core/best-practices",ti={en:{best_practice:"Best Practice "},ja:{best_practice:"最良実施例 "},de:{best_practice:"Musterbeispiel "},zh:{best_practice:"最佳实践 "}},ni=ht(ti),ri=o in ti?o:"en";var oi=Object.freeze({__proto__:null,name:ei,run:function(){const e=document.querySelectorAll(".practicelab"),t=document.getElementById("bp-summary"),n=t?document.createElement("ul"):null;if([...e].forEach(((e,t)=>{const r=yt(e,"bp"),o=Qe`<a class="marker self-link" href="${`#${r}`}"
      ><bdi lang="${ri}">${ni.best_practice}${t+1}</bdi></a
    >`;if(n){const t=Qe`<li>${o}: ${_t(e)}</li>`;n.appendChild(t)}const i=e.closest("div");if(!i)return void e.classList.add("advisement");i.classList.add("advisement");const s=Qe`${o.cloneNode(!0)}: ${e}`;i.prepend(...s.childNodes)})),e.length)t&&(t.appendChild(Qe`<h2>Best Practices Summary</h2>`),t.appendChild(n));else if(t){Nt("Using best practices summary (#bp-summary) but no best practices found.",ei),t.remove()}}});const ii="core/figures",si=ht({en:{list_of_figures:"List of Figures",fig:"Figure "},ja:{fig:"図 ",list_of_figures:"図のリスト"},ko:{fig:"그림 ",list_of_figures:"그림 목록"},nl:{fig:"Figuur ",list_of_figures:"Lijst met figuren"},es:{fig:"Figura ",list_of_figures:"Lista de Figuras"},zh:{fig:"图 ",list_of_figures:"规范中包含的图"},de:{fig:"Abbildung",list_of_figures:"Abbildungsverzeichnis"}});var ai=Object.freeze({__proto__:null,name:ii,run:function(){document.querySelectorAll(":not(picture)>img:not([width]):not([height]):not([srcset])").forEach((e=>{0!==e.naturalHeight&&0!==e.naturalWidth&&(e.height=e.naturalHeight,e.width=e.naturalWidth)}));const e=function(){const e=[];return document.querySelectorAll("figure").forEach(((t,n)=>{const r=t.querySelector("figcaption");if(r)!function(e,t,n){const r=t.textContent;yt(e,"fig",r),$t(t,Qe`<span class="fig-title"></span>`),t.prepend(si.fig,Qe`<bdi class="figno">${n+1}</bdi>`," ")}(t,r,n),e.push(function(e,t){const n=t.cloneNode(!0);return n.querySelectorAll("a").forEach((e=>{vt(e,"span").removeAttribute("href")})),Qe`<li class="tofline">
    <a class="tocxref" href="${`#${e}`}">${n.childNodes}</a>
  </li>`}(t.id,r));else{Nt("Found a `<figure>` without a `<figcaption>`.",ii,{elements:[t]})}})),e}(),t=document.getElementById("tof");e.length&&t&&(!function(e){if(e.classList.contains("appendix")||e.classList.contains("introductory")||e.closest("section"))return;const t=function(e){const t=[];for(const n of function*(e){let t=e;for(;t.previousElementSibling;)t=t.previousElementSibling,yield t}(e))"section"===n.localName&&t.push(n);return t}(e);t.every((e=>e.classList.contains("introductory")))?e.classList.add("introductory"):t.some((e=>e.classList.contains("appendix")))&&e.classList.add("appendix")}(t),t.append(Qe`<h2>${si.list_of_figures}</h2>`,Qe`<ul class="tof">
        ${e}
      </ul>`))}});var ci=Object.freeze({__proto__:null,name:"ims/biblio",run:async function(e){let t="https://purl.imsglobal.org/spec/ims-biblio.json";e.overrideIMSbiblioLocation&&(t=e.overrideIMSbiblioLocation),e.disableFetchIMSbiblio||fetch(t,{mode:"cors"}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).then((t=>{e.localBiblio=Object.assign(e.localBiblio,t)})).catch((e=>{Mt("warn",e.toString())}))}});const li="core/data-cite",di="__SPEC__";async function ui(e){const{key:t,frag:n,path:r,href:o}=e;let i="",s="";if(t===di)i=document.location.href;else{const e=await Jr(t);if(!e)return null;i=e.href,s=e.title}if(o)i=o;else{if(r){const e=r.startsWith("/")?`.${r}`:r;i=new URL(e,i).href}n&&(i=new URL(n,i).href)}return{href:i,title:s}}function pi(e,t,n){const{href:r,title:o}=t,i=!n.path&&!n.frag;switch(e.localName){case"a":{const t=e;if(""===t.textContent&&"the-empty-string"!==t.dataset.lt&&(t.textContent=o),t.href=r,i){const e=document.createElement("cite");t.replaceWith(e),e.append(t)}break}case"dfn":{const t=document.createElement("a");if(t.href=r,e.textContent?$t(e,t):(t.textContent=o,e.append(t)),i){const n=document.createElement("cite");n.append(t),e.append(n)}if("export"in e.dataset){Lt("Exporting an linked external definition is not allowed.",li,{hint:"Please remove the `data-export` attribute.",elements:[e]}),delete e.dataset.export}e.classList.add("externalDFN"),e.dataset.noExport="";break}}}function fi(e){return t=>{const n=t.search(e);return-1!==n?t.substring(n):""}}const hi=fi("#"),mi=fi("/");function gi(e){const{dataset:t}=e,{cite:n,citeFrag:r,citePath:o,citeHref:i}=t;if(n.startsWith("#")&&!r){const r=e.parentElement.closest('[data-cite]:not([data-cite^="#"])'),{key:o,isNormative:i}=r?gi(r):{key:di,isNormative:!1};return t.cite=i?o:`?${o}`,t.citeFrag=n.replace("#",""),gi(e)}const s=r?`#${r}`:hi(n),a=o||mi(n).split("#")[0],{type:c}=xt(n,e),l="normative"===c,d=/^[?|!]/.test(n);return{key:n.split(/[/|#]/)[0].substring(Number(d)),isNormative:l,frag:s,path:a,href:i}}function bi(e){const t=["data-cite","data-cite-frag","data-cite-path"];e.querySelectorAll("a[data-cite], dfn[data-cite]").forEach((e=>t.forEach((t=>e.removeAttribute(t)))))}var yi=Object.freeze({__proto__:null,name:li,THIS_SPEC:di,toCiteDetails:gi,run:async function(){const e=document.querySelectorAll("dfn[data-cite]:not([data-cite='']), a[data-cite]:not([data-cite=''])");await async function(e){const t=e.map(gi).map((async e=>({entry:e,result:await Jr(e.key)}))),n=(await Promise.all(t)).filter((({result:e})=>null===e)).map((({entry:{key:e}})=>e)),r=await Xr(n);r&&Object.assign(Vr,r)}([...e]);for(const t of e){const e=t.dataset.cite,n=gi(t),r=await ui(n);if(r)pi(t,r,n);else{Nt(`Couldn't find a match for "${e}"`,li,{elements:[t]})}}Dt("beforesave",bi)}});const wi="core/link-to-dfn",vi=[],xi=ht({en:{duplicateMsg:e=>`Duplicate definition(s) of '${e}'`,duplicateTitle:"This is defined more than once in the document."},ja:{duplicateMsg:e=>`'${e}' の重複定義`,duplicateTitle:"この文書内で複数回定義されています．"},de:{duplicateMsg:e=>`Mehrfache Definition von '${e}'`,duplicateTitle:"Das Dokument enthält mehrere Definitionen dieses Eintrags."},zh:{duplicateMsg:e=>`'${e}' 的重复定义`,duplicateTitle:"在文档中有重复的定义。"}});function $i(e){const t=new Map,n=[];for(const r of Do.get(e)){const{dfnFor:o="",dfnType:i="dfn"}=r.dataset;if(t.has(o)&&t.get(o).has(i)){const e=t.get(o).get(i),s="dfn"===e.localName,a="dfn"===r.localName,c=i===(e.dataset.dfnType||"dfn"),l=o===(e.dataset.dfnFor||"");if(s&&a&&c&&l){n.push(r);continue}}const s="idl"in r.dataset||"dfn"!==i?"idl":"dfn";t.has(o)||t.set(o,new Map),t.get(o).set(s,r),yt(r,"dfn",e)}return{result:t,duplicates:n}}function ki(e,t){const n=function(e){const t=e.closest("[data-link-for]"),n=t?t.dataset.linkFor:"";return wt(e).reduce(((e,r)=>{const o=r.split(".");return 2===o.length&&e.push({for:o[0],title:o[1]}),e.push({for:n,title:r}),t||e.push({for:r,title:r}),""!==n&&e.push({for:"",title:r}),e}),[])}(e).find((e=>t.has(e.title)&&t.get(e.title).has(e.for)));if(!n)return;const r=t.get(n.title).get(n.for),{linkType:o}=e.dataset;if(o){const e="dfn"===o?"dfn":"idl";return r.get(e)||r.get("dfn")}{const e=n.for?"idl":"dfn";return r.get(e)||r.get("idl")}}function Si(e,t,n){let r=!1;const{linkFor:o}=e.dataset,{dfnFor:i}=t.dataset;if(t.dataset.cite)e.dataset.cite=t.dataset.cite;else if(o&&!n.get(o)&&o!==i)r=!0;else if(t.classList.contains("externalDFN")){const n=t.dataset.lt?t.dataset.lt.split("|"):[];e.dataset.lt=n[0]||t.textContent,r=!0}else"partial"!==e.dataset.idl?(e.href=`#${t.id}`,e.classList.add("internalDFN")):r=!0;return e.hasAttribute("data-link-type")||(e.dataset.linkType="idl"in t.dataset?"idl":"dfn"),function(e){if(e.closest("code,pre"))return!0;if(1!==e.childNodes.length)return!1;const[t]=e.childNodes;return"code"===t.localName}(t)&&function(e,t){const n=e.textContent.trim(),r=t.dataset.hasOwnProperty("idl"),o=_i(e)&&_i(t,n);r&&!o||$t(e,document.createElement("code"))}(e,t),!r}function _i(e,t=""){if("a"===e.localName){if(!e.querySelector("code"))return!0}else{const{dataset:n}=e;if(e.textContent.trim()===t)return!0;if(n.title===t)return!0;if(n.lt||n.localLt){const e=[];return n.lt&&e.push(...n.lt.split("|")),n.localLt&&e.push(...n.localLt.split("|")),e.includes(t)}}return!1}function Ei(e){e.forEach((e=>{Nt(`Found linkless \`<a>\` element with text "${e.textContent}" but no matching \`<dfn>\``,wi,{title:"Linking error: not matching `<dfn>`",elements:[e]})}))}var Ci=Object.freeze({__proto__:null,name:wi,possibleExternalLinks:vi,run:async function(e){const t=function(){const e=new At;for(const t of Do.keys()){const{result:n,duplicates:r}=$i(t);e.set(t,n),r.length>0&&Lt(xi.duplicateMsg(t),wi,{title:xi.duplicateTitle,elements:r})}return e}(),n=[],r=document.querySelectorAll("a[data-cite=''], a:not([href]):not([data-cite]):not(.logo):not(.externalDFN)");for(const e of r){const r=ki(e,t);if(r){Si(e,r,t)||vi.push(e)}else""===e.dataset.cite?n.push(e):vi.push(e)}Ei(n),function(e){const{shortName:t=""}=e,n=new RegExp(String.raw`^([?!])?${t}\b([^-])`,"i"),r=document.querySelectorAll("dfn[data-cite]:not([data-cite='']), a[data-cite]:not([data-cite=''])");for(const t of r){t.dataset.cite=t.dataset.cite.replace(n,"$1__SPEC__$2");const{key:r,isNormative:o}=gi(t);r!==di&&(o||e.normativeReferences.has(r)?(e.normativeReferences.add(r),e.informativeReferences.delete(r)):e.informativeReferences.add(r))}}(e),e.xref||Ei(vi)}});const Ai="xrefs",Ti=3e5;async function Li(){return await Je.openDB("xref",2,{upgrade(e){[...e.objectStoreNames].forEach((t=>e.deleteObjectStore(t)));e.createObjectStore(Ai,{keyPath:"query.id"}).createIndex("byTerm","query.term",{unique:!1})}})}async function Ni(e){const t=new Map;if(await async function(){const e="XREF:LAST_VERSION_CHECK",t=parseInt(localStorage.getItem(e),10),n=Date.now();if(!t)return localStorage.setItem(e,n.toString()),!1;if(n-t<Ti)return!1;const r=new URL("meta/version",Oi).href,o=await fetch(r);if(!o.ok)return!1;const i=await o.text();return localStorage.setItem(e,n.toString()),parseInt(i,10)>t}())return await async function(){try{await Li().then((e=>e.clear(Ai)))}catch(e){console.error(e)}}(),t;const n=new Set(e.map((e=>e.id)));try{const e=await Li();let r=await e.transaction(Ai).store.openCursor();for(;r;)n.has(r.key)&&t.set(r.key,r.value.result),r=await r.continue()}catch(e){console.error(e)}return t}const Ii="core/xref",Ri={"web-platform":["HTML","INFRA","URL","WEBIDL","DOM","FETCH"]},Oi="https://respec.org/xref/";if(!document.querySelector("link[rel='preconnect'][href='https://respec.org']")){const e=st({hint:"preconnect",href:"https://respec.org"});document.head.appendChild(e)}function ji(e){const t="xrefType"in e.dataset;let n=Pi(e);t||(n=n.toLowerCase());const r=function(e){const t=[];let n=e.closest("[data-cite]");for(;n;){const r=n.dataset.cite.toLowerCase().replace(/[!?]/g,"").split(/\s+/).filter((e=>e));if(r.length&&t.push(r),n===e)break;n=n.parentElement.closest("[data-cite]")}if(n!==e){const n=e.closest("section"),r=[...n?n.querySelectorAll("a.bibref"):[]].map((e=>e.textContent.toLowerCase()));r.length&&t.push(r)}return function(e){const t=[];for(const n of e){const e=t[t.length-1]||[],r=[...new Set(n)].filter((t=>!e.includes(t)));t.push(r.sort())}return t}(t)}(e),o=function(e,t){if(t)return e.dataset.xrefType?e.dataset.xrefType.split("|"):["_IDL_"];return["_CONCEPT_"]}(e,t),i=function(e,t){if(e.dataset.xrefFor)return ft(e.dataset.xrefFor);if(t){const t=e.closest("[data-xref-for]");if(t)return ft(t.dataset.xrefFor)}return null}(e,t);return{id:"",term:n,types:o,...r.length&&{specs:r},..."string"==typeof i&&{for:i}}}function Pi(e){const{lt:t}=e.dataset;let n=t?t.split("|",1)[0]:e.textContent;return n=ft(n),"the-empty-string"===n?"":n}function zi(e,t,n,r){const{term:o,specs:i=[]}=t,{uri:s,shortname:a,spec:c,normative:l,type:d,for:u}=n,p=i.flat().includes(c)?c:a,f=new URL(s,"https://partial"),{pathname:h}=f,m={cite:p,citePath:h,citeFrag:f.hash.slice(1),type:d};u&&(m.linkFor=u[0]),f.origin&&"https://partial"!==f.origin&&(m.citeHref=f.href),Object.assign(e.dataset,m),function(e,t,n,r,o){if(!function(e){const t=e.closest(".normative"),n=e.closest(it);return!n||e===t||t&&n&&n.contains(t)}(e))return void(o.normativeReferences.has(t)||o.informativeReferences.add(t));if(n){const e=o.informativeReferences.has(t)?o.informativeReferences.getCanonicalKey(t):t;return o.normativeReferences.add(e),void o.informativeReferences.delete(e)}Nt(`Normative reference to "${r}" found but term is defined "informatively" in "${t}".`,Ii,{title:"Normative reference to non-normative term.",elements:[e]})}(e,p,l,o,r)}function Mi(e){const t=JSON.stringify(e,Object.keys(e).sort()),n=(new TextEncoder).encode(t);return crypto.subtle.digest("SHA-1",n).then(Di)}function Di(e){return[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}function qi(e){const t=e.querySelectorAll("a[data-xref-for], a[data-xref-type], a[data-link-for]"),n=["data-xref-for","data-xref-type","data-link-for"];t.forEach((e=>{n.forEach((t=>e.removeAttribute(t)))}))}var Fi=Object.freeze({__proto__:null,name:Ii,API_URL:Oi,run:async function(e){if(!e.xref)return;const t=function(e){const t={url:Oi,specs:null},n=Object.assign({},t);switch(Array.isArray(e)?"array":typeof e){case"boolean":break;case"string":e.toLowerCase()in Ri?Object.assign(n,{specs:Ri[e.toLowerCase()]}):r(e);break;case"array":Object.assign(n,{specs:e});break;case"object":if(Object.assign(n,e),e.profile){const t=e.profile.toLowerCase();if(t in Ri){const r=(e.specs??[]).concat(Ri[t]);Object.assign(n,{specs:r})}else r(e.profile)}break;default:Lt(`Invalid value for \`xref\` configuration option. Received: "${e}".`,Ii)}return n;function r(e){Lt(`Invalid profile "${e}" in \`respecConfig.xref\`. Please use one of the supported profiles: ${pt(Object.keys(Ri),(e=>`"${e}"`))}.`,Ii)}}(e.xref);if(t.specs){const e=document.body.dataset.cite?document.body.dataset.cite.split(/\s+/):[];document.body.dataset.cite=e.concat(t.specs).join(" ")}const n=vi.concat(function(){const e=document.querySelectorAll(":is(a,dfn)[data-cite]:not([data-cite=''],[data-cite*='#'])"),t=document.querySelectorAll("dfn.externalDFN");return[...e].filter((e=>{if(""===e.textContent.trim())return!1;const t=e.closest("[data-cite]");return!t||""!==t.dataset.cite})).concat(...t)}());if(!n.length)return;const r=[];for(const e of n){const t=ji(e);t.id=await Mi(t),r.push(t)}const o=await async function(e,t){const n=new Set,r=e.filter((e=>!n.has(e.id)&&(n.add(e.id)&&!0))),o=await Ni(r),i=r.filter((e=>!o.get(e.id))),s=await async function(e,t){if(!e.length)return new Map;const n={keys:e},r={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},o=await fetch(t,r),i=await o.json();return new Map(i.result)}(i,t);s.size&&await async function(e,t){try{const n=(await Li()).transaction(Ai,"readwrite");for(const r of e){const e=t.get(r.id);n.objectStore(Ai).add({query:r,result:e})}await n.done}catch(e){console.error(e)}}(r,s);return new Map([...o,...s])}(r,t.url);!function(e,t,n,r){const o={ambiguous:new Map,notFound:new Map};for(let i=0,s=e.length;i<s;i++){if(e[i].closest("[data-no-xref]"))continue;const s=e[i],a=t[i],{id:c}=a,l=n.get(c);if(1===l.length)zi(s,a,l[0],r);else{const e=o[0===l.length?"notFound":"ambiguous"];e.has(c)||e.set(c,{elems:[],results:l,query:a}),e.get(c).elems.push(s)}}!function({ambiguous:e,notFound:t}){const n=(e,t,n=[])=>{const r=new URL(Oi);return r.searchParams.set("term",e),t.for&&r.searchParams.set("for",t.for),r.searchParams.set("types",t.types.join(",")),n.length&&r.searchParams.set("specs",n.join(",")),r.href},r=(e,t)=>jt`
    [See search matches for "${t}"](${e}) or
    ${"[Learn about this error|#error-term-not-found]"}.`;for(const{query:e,elems:o}of t.values()){const t=e.specs?[...new Set(e.specs.flat())].sort():[],i=Pi(o[0]),s=n(i,e),a=ut(t,(e=>`**[${e}]**`)),c=r(s,i);Lt(`Couldn't find "**${i}**"${e.for?`, for **"${e.for}"**, `:""} in this document or other cited documents: ${a}.`,Ii,{title:"No matching definition found.",elements:o,hint:c})}for(const{query:t,elems:o,results:i}of e.values()){const e=[...new Set(i.map((e=>e.shortname)))].sort(),s=ut(e,(e=>`**[${e}]**`)),a=Pi(o[0]),c=n(a,t,e),l=t.for?`, for **"${t.for}"**, `:"",d=jt`To fix, use the ${"[data-cite]"} attribute to pick the one you mean from the appropriate specification. ${r(c,a)}.`;Lt(`The term "**${a}**"${l} is ambiguous because it's defined in ${s}.`,Ii,{title:"Definition is ambiguous.",elements:o,hint:d})}}(o)}(n,r,o,e),Dt("beforesave",qi)},getTermFromElement:Pi});var Ui=String.raw`ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}`;const Bi=ht({en:{heading:"Index",headingExternal:"Terms defined by reference",headlingLocal:"Terms defined by this specification",dfnOf:"definition of"}}),Wi=new Set(["attribute","callback","dict-member","dictionary","element-attr","element","enum-value","enum","exception","extended-attribute","interface","method","typedef"]);function Hi(e){const t=e.dataset,n=t.dfnType||t.idl||t.linkType||"";switch(n){case"":case"dfn":return"";default:return n}}function Vi(e){const t=e.closest("[data-dfn-for]:not([data-dfn-for=''])");return t?t.dataset.dfnFor:""}function Yi(e,t,n=""){if(n.startsWith("[[")){return`internal slot for <code>${Vi(e)}</code>`}switch(t){case"dict-member":case"method":case"attribute":case"enum-value":return`${"dict-member"===t?"member":t.replace("-"," ")} for <code>${Vi(e)}</code>`;case"interface":case"dictionary":case"enum":return t;case"constructor":return`for <code>${Vi(e)}</code>`;default:return""}}function Gi(){document.querySelectorAll("#index-defined-here li[data-id]").forEach((e=>e.append((e=>{const t=`§${document.getElementById(e).closest("section").querySelector(".secno").textContent.trim()}`;return Qe`<span class="print-only">${t}</span>`})(e.dataset.id))))}function Ki(){const e=new Set,t=new Map,n=document.querySelectorAll("a[data-cite]");for(const r of n){if(!r.dataset.cite)continue;const n=r.href;if(e.has(n))continue;const{type:o,linkFor:i}=r.dataset,s=Pi(r);if(!s)continue;const a=gi(r).key.toUpperCase();(t.get(a)||t.set(a,[]).get(a)).push({term:s,type:o,linkFor:i,elem:r}),e.add(n)}return t}function Zi(e){const{elem:t}=e,n=function(e){const{term:t,type:n,linkFor:r}=e;let o=t;Wi.has(n)&&("extended-attribute"===n&&(o=`[${o}]`),o=`<code>${o}</code>`);const i=Ji.has(t)?"type":Xi.get(n);i&&(o+=` ${i}`);if(r){let e=r;/\s/.test(r)||(e=`<code>${e}</code>`),"element-attr"===n&&(e+=" element"),o+=` (for ${e})`}return o}(e);return Qe`<li>
    <span class="index-term" data-href="${t.href}">${{html:n}}</span>
  </li>`}const Xi=new Map([["attribute","attribute"],["element-attr","attribute"],["element","element"],["enum","enum"],["exception","exception"],["extended-attribute","extended attribute"],["interface","interface"]]),Ji=new Set(["boolean","byte","octet","short","unsigned short","long","unsigned long","long long","unsigned long long","float","unrestricted float","double","unrestricted double","undefined","any","object","symbol"]);function Qi(e){e.querySelectorAll("#index-defined-elsewhere li[data-spec]").forEach((e=>e.removeAttribute("data-spec"))),e.querySelectorAll("#index-defined-here li[data-id]").forEach((e=>e.removeAttribute("data-id")))}var es=Object.freeze({__proto__:null,name:"core/dfn-index",run:function(){const e=document.querySelector("section#index");if(!e)return;const t=document.createElement("style");t.textContent=Ui,document.head.appendChild(t),e.classList.add("appendix"),e.querySelector("h2")||e.prepend(Qe`<h2>${Bi.heading}</h2>`);const n=Qe`<section id="index-defined-here">
    <h3>${Bi.headlingLocal}</h3>
    ${function(){const e=function(){const e=new Map,t=document.querySelectorAll("dfn:not([data-cite])");for(const n of t){if(!n.id)continue;const t=ft(n.textContent);(e.get(t)||e.set(t,[]).get(t)).push(n)}return[...e].sort((([e],[t])=>e.slice(e.search(/\w/)).localeCompare(t.slice(t.search(/\w/)))))}();return Qe`<ul class="index">
    ${e.map((([e,t])=>function(e,t){const n=(e,t,n)=>{const r=`#${e.id}`;return Qe`<li data-id=${e.id}>
      <a class="index-term" href="${r}">${{html:t}}</a> ${n?{html:n}:""}
    </li>`};if(1===t.length){const r=t[0],o=Hi(r),i=function(e,t,n){let r=n;"enum-value"===t&&(r=`"${r}"`);(Wi.has(t)||e.dataset.idl||e.closest("code"))&&(r=`<code>${r}</code>`);return r}(r,o,e),s=Yi(r,o,e);return n(r,i,s)}return Qe`<li>
    ${e}
    <ul>
      ${t.map((t=>{const r=Yi(t,Hi(t),e)||Bi.dfnOf;return n(t,r)}))}
    </ul>
  </li>`}(e,t)))}
  </ul>`}()}
  </section>`;e.append(n);const r=Qe`<section id="index-defined-elsewhere">
    <h3>${Bi.headingExternal}</h3>
    ${function(){const e=[...Ki().entries()].sort((([e],[t])=>e.localeCompare(t)));return Qe`<ul class="index">
    ${e.map((([e,t])=>Qe`<li data-spec="${e}">
        ${ao(e)} defines the following:
        <ul>
          ${t.sort(((e,t)=>e.term.localeCompare(t.term))).map(Zi)}
        </ul>
      </li>`))}
  </ul>`}()}
  </section>`;e.append(r);for(const e of r.querySelectorAll(".index-term"))yt(e,"index-term");Dt("toc",Gi,{once:!0}),Dt("beforesave",Qi)}});var ts=Object.freeze({__proto__:null,name:"ims/contrib",run:async function(e){if(e.contributors&&"errata"!==e.specType){const t=function(e){let t=!1;return e.forEach((e=>{e.role&&e.role.trim().length>0&&(t=!0)})),t}(e.contributors),n=Bn(`<section id='contributors' class="appendix">\n    <h2>List of Contributors</h2>\n    <p>The following individuals contributed to the development of this document:</p>\n    <table class="contributors" title="List of Contributors"\n      summary="The list of contributors to this work.">\n      <thead>\n        <th>Name</th>\n        <th>Organization</th>\n        ${t?"<th>Role</th>":""}\n      </thead>\n      <tbody>\n          ${function(e,t){let n="";return e.forEach((e=>{n+=`<tr><td class='name'>${e.name}</td>`,n+="<td class='co'>",e.company&&(n+=e.company),n+="</td>",t&&(n+="<td class='role'>",e.role&&(n+=e.role),n+="</td>"),n+="</tr>"})),n}(e.contributors,t)}\n      </tbody>\n    </table>\n    </section>`);document.body.appendChild(n)}}});var ns=Object.freeze({__proto__:null,name:"core/fix-headers",run:function(){[...document.querySelectorAll("section:not(.introductory)")].map((e=>e.querySelector("h1, h2, h3, h4, h5, h6"))).filter((e=>e)).forEach((e=>{const t=Math.min(function(e,t){const n=[];for(;e!=e.ownerDocument.body;)e.matches(t)&&n.push(e),e=e.parentElement;return n}(e,"section").length+1,6);vt(e,`h${t}`)}))}});const rs=["h2","h3","h4","h5","h6"],os="core/structure",is=ht({en:{toc:"Table of Contents"},zh:{toc:"内容大纲"},ko:{toc:"목차"},ja:{toc:"目次"},nl:{toc:"Inhoudsopgave"},es:{toc:"Tabla de Contenidos"},de:{toc:"Inhaltsverzeichnis"}});function ss(e,t,{prefix:n=""}={}){let r=!1,o=0,i=1;if(n.length&&!n.endsWith(".")&&(n+="."),0===e.length)return null;const s=Qe`<ol class="toc"></ol>`;for(const a of e){!a.isAppendix||n||r||(o=i,r=!0);let e=a.isIntro?"":r?as(i-o+1):n+i;const c=e.split(".").length;if(1===c&&(e+=".",a.header.before(document.createComment("OddPage"))),a.isIntro||(i+=1,a.header.prepend(Qe`<bdi class="secno">${e} </bdi>`)),c<=t){const n=a.header.id||a.element.id,r=ls(a.header,n),o=ss(a.subsections,t,{prefix:e});o&&r.append(o),s.append(r)}}return s}function as(e){let t="";for(;e>0;)e-=1,t=String.fromCharCode(65+e%26)+t,e=Math.floor(e/26);return t}function cs(e){const t=e.querySelectorAll(":scope > section"),n=[];for(const e of t){const t=e.classList.contains("notoc");if(!e.children.length||t)continue;const r=e.children[0];if(!rs.includes(r.localName))continue;const o=r.textContent;yt(e,null,o),n.push({element:e,header:r,title:o,isIntro:Boolean(e.closest(".introductory")),isAppendix:e.classList.contains("appendix"),subsections:cs(e)})}return n}function ls(e,t){const n=Qe`<a href="${`#${t}`}" class="tocxref" />`;var r;return n.append(...e.cloneNode(!0).childNodes),(r=n).querySelectorAll("a").forEach((e=>{const t=vt(e,"span");t.className="formerLink",t.removeAttribute("href")})),r.querySelectorAll("dfn").forEach((e=>{vt(e,"span").removeAttribute("id")})),Qe`<li class="tocline">${n}</li>`}var ds=Object.freeze({__proto__:null,name:os,run:function(e){if("maxTocLevel"in e==!1&&(e.maxTocLevel=1/0),function(){const e=[...document.querySelectorAll("section:not(.introductory) :is(h1,h2,h3,h4,h5,h6):first-child")].filter((e=>!e.closest("section.introductory")));if(!e.length)return;e.forEach((e=>{const t=Math.min(function(e,t){const n=[];let r=e.parentElement;for(;r;){const e=r.closest(t);if(!e)break;n.push(e),r=e.parentElement}return n}(e,"section").length+1,6),n=`h${t}`;e.localName!==n&&vt(e,n)}))}(),!e.noTOC){!function(){const e=document.querySelectorAll("section[data-max-toc]");for(const t of e){const e=parseInt(t.dataset.maxToc,10);if(e<0||e>6||Number.isNaN(e)){Lt("`data-max-toc` must have a value between 0-6 (inclusive).",os,{elements:[t]});continue}if(0===e){t.classList.add("notoc");continue}const n=t.querySelectorAll(`:scope > ${Array.from({length:e},(()=>"section")).join(" > ")}`);for(const e of n)e.classList.add("notoc")}}();const t=ss(cs(document.body),e.maxTocLevel);t&&function(e){if(!e)return;const t=Qe`<nav id="toc"></nav>`,n=Qe`<h2 class="introductory">${is.toc}</h2>`;yt(n),t.append(n,e);const r=document.getElementById("toc")||document.getElementById("sotd")||document.getElementById("abstract");r&&("toc"===r.id?r.replaceWith(t):r.after(t));const o=Qe`<p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">&uarr;</abbr></a>
  </p>`;document.body.append(o)}(t)}Mt("toc")}});const us=ht({en:{informative:"This section is non-normative."},nl:{informative:"Dit onderdeel is niet normatief."},ko:{informative:"이 부분은 비규범적입니다."},ja:{informative:"この節は仕様には含まれません．"},de:{informative:"Dieser Abschnitt ist nicht normativ."},zh:{informative:"本章节不包含规范性内容。"}});var ps=Object.freeze({__proto__:null,name:"core/informative",run:function(){Array.from(document.querySelectorAll("section.informative")).map((e=>e.querySelector("h2, h3, h4, h5, h6"))).filter((e=>e)).forEach((e=>{e.after(Qe`<p><em>${us.informative}</em></p>`)}))}});var fs=String.raw`.caniuse-stats{display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:baseline}
button.caniuse-cell{margin:1px 1px 0 0;border:none}
.caniuse-browser{position:relative}
@media print{
.caniuse-cell.y::before{content:"✔️";padding:.5em}
.caniuse-cell.n::before{content:"❌";padding:.5em}
.caniuse-cell:is(.a,.d,.p,.x)::before{content:"⚠️";padding:.5em}
}
.caniuse-browser ul{display:none;margin:0;padding:0;list-style:none;position:absolute;left:0;z-index:2;background:#fff;margin-top:1px}
.caniuse-stats a[href]{white-space:nowrap;align-self:center;margin-left:.5em}
.caniuse-cell{display:flex;font-size:90%;height:.8cm;margin-right:1px;margin-top:0;min-width:3cm;overflow:visible;justify-content:center;align-items:center;--supported:#2a8436;--no-support:#c44230;--no-support-alt:#b43b2b;--partial:#807301;--partial-alt:#746c00;color:#fff;background:repeating-linear-gradient(var(--caniuse-angle,45deg),var(--caniuse-bg) 0,var(--caniuse-bg-alt) 1px,var(--caniuse-bg-alt) .4em,var(--caniuse-bg) calc(.25em + 1px),var(--caniuse-bg) .75em)}
li.caniuse-cell{margin-bottom:1px}
.caniuse-cell:focus{outline:0}
.caniuse-cell.y{background:var(--supported)}
.caniuse-cell:is(.n,.d){--caniuse-angle:45deg;--caniuse-bg:var(--no-support);--caniuse-bg-alt:var(--no-support-alt)}
.caniuse-cell.d{--caniuse-angle:180deg}
.caniuse-cell:is(.a,.x,.p){--caniuse-angle:90deg;--caniuse-bg:var(--partial);--caniuse-bg-alt:var(--partial-alt)}
.caniuse-stats .caniuse-browser:hover>ul,.caniuse-stats button:focus+ul{display:block}`;const hs="core/caniuse",ms=new Set(["and_chr","and_ff","and_uc","android","bb","chrome","edge","firefox","ie","ios_saf","op_mini","op_mob","opera","safari","samsung"]);async function gs(e,t){const{feature:n,versions:r,browsers:o}=t,i=new URLSearchParams;i.set("feature",n),i.set("versions",r),Array.isArray(o)&&i.set("browsers",o.join(",")),i.set("format","html");const s=`${e}?${i.toString()}`,a=await fetch(s);if(!a.ok){const{status:e,statusText:t}=a;throw new Error(`Failed to get caniuse data: (${e}) ${t}`)}return await a.text()}var bs=Object.freeze({__proto__:null,name:hs,prepare:function(e){if(!e.caniuse)return;const t=function(e){const t={versions:4,removeOnSave:!1};if("string"==typeof e.caniuse)return{feature:e.caniuse,...t};const n={...t,...e.caniuse},{browsers:r}=n;if(Array.isArray(r)){const e=r.filter((e=>!ms.has(e)));if(e.length){Nt(jt`Invalid browser(s): (${Rt(e,{quotes:!0})}) in the \`browser\` property of ${"[caniuse]"}.`,hs)}}return n}(e);if(e.caniuse=t,!t.feature)return;document.head.appendChild(Qe`<style
    id="caniuse-stylesheet"
    class="${t.removeOnSave?"removeOnSave":""}"
  >
    ${fs}
  </style>`);const n=t.apiURL||"https://respec.org/caniuse/";e.state[hs]={fetchPromise:gs(n,t)}},run:async function(e){const t=e.caniuse;if(!t?.feature)return;const n=new URL(t.feature,"https://caniuse.com/").href,r=document.querySelector(".head dl"),o=(async()=>{try{const t=await e.state[hs].fetchPromise;return Qe`${{html:t}}`}catch(e){const r=jt`Please check the feature key on [caniuse.com](https://caniuse.com) and update ${"[caniuse]"}`;return Lt(`Couldn't find feature "${t.feature}" on caniuse.com.`,hs,{hint:r}),console.error(e),Qe`<a href="${n}">caniuse.com</a>`}})(),i=Qe`<dt class="caniuse-title">
      Browser support (caniuse.com):
    </dt>
    <dd class="caniuse-stats">
      ${{any:o,placeholder:"Fetching data from caniuse.com..."}}
    </dd>`;r.append(...i.childNodes),await o,Mt("amend-user-config",{caniuse:t.feature}),t.removeOnSave&&(r.querySelectorAll(".caniuse-browser").forEach((e=>e.classList.add("removeOnSave"))),Dt("beforesave",(e=>{Qe.bind(e.querySelector(".caniuse-stats"))`
        <a href="${n}">caniuse.com</a>`})))}});var ys=String.raw`.mdn{font-size:.75em;position:absolute;right:.3em;min-width:0;margin-top:3em}
.mdn details{width:100%;margin:1px 0;position:relative;z-index:10;box-sizing:border-box;padding:.4em;padding-top:0}
.mdn details[open]{min-width:25ch;max-width:32ch;background:#fff;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px;z-index:11;margin-bottom:.4em}
.mdn summary{text-align:right;cursor:default;margin-right:-.4em}
.mdn summary span{font-family:zillaslab,Palatino,"Palatino Linotype",serif;color:#fff;background-color:#000;display:inline-block;padding:3px}
.mdn a{display:inline-block;word-break:break-all}
.mdn p{margin:0}
.mdn .engines-all{color:#058b00}
.mdn .engines-some{color:#b00}
.mdn table{width:100%;font-size:.9em}
.mdn td{border:none}
.mdn td:nth-child(2){text-align:right}
.mdn .nosupportdata{font-style:italic;margin:0}
.mdn tr::before{content:"";display:table-cell;width:1.5em;height:1.5em;background:no-repeat center center/contain;font-size:.75em}
.mdn .no,.mdn .unknown{color:#ccc;filter:grayscale(100%)}
.mdn .no::before,.mdn .unknown::before{opacity:.5}
.mdn .chrome::before,.mdn .chrome_android::before{background-image:url(https://resources.whatwg.org/browser-logos/chrome.svg)}
.mdn .edge::before,.mdn .edge_mobile::before{background-image:url(https://resources.whatwg.org/browser-logos/edge.svg)}
.mdn .firefox::before,.mdn .firefox_android::before{background-image:url(https://resources.whatwg.org/browser-logos/firefox.png)}
.mdn .ie::before{background-image:url(https://resources.whatwg.org/browser-logos/ie.png)}
.mdn .opera::before,.mdn .opera_android::before{background-image:url(https://resources.whatwg.org/browser-logos/opera.svg)}
.mdn .safari::before{background-image:url(https://resources.whatwg.org/browser-logos/safari.png)}
.mdn .safari_ios::before{background-image:url(https://resources.whatwg.org/browser-logos/safari-ios.svg)}
.mdn .samsunginternet_android::before{background-image:url(https://resources.whatwg.org/browser-logos/samsung.svg)}
.mdn .webview_android::before{background-image:url(https://resources.whatwg.org/browser-logos/android-webview.png)}`;const ws="core/mdn-annotation",vs="https://w3c.github.io/mdn-spec-links/",xs={chrome:"Chrome",chrome_android:"Chrome Android",edge:"Edge",edge_mobile:"Edge Mobile",firefox:"Firefox",firefox_android:"Firefox Android",ie:"Internet Explorer",opera:"Opera",opera_android:"Opera Android",safari:"Safari",safari_ios:"Safari iOS",samsunginternet_android:"Samsung Internet",webview_android:"WebView Android"},$s=ht({en:{inAllEngines:"This feature is in all major engines.",inSomeEngines:"This feature has limited support."},zh:{inAllEngines:"所有主要引擎均支持此特性。",inSomeEngines:"此功能支持有限。"}});function ks(e){const t=e.closest("section");if(!t)return;const{previousElementSibling:n}=t;if(n&&n.classList.contains("mdn"))return n;const r=Qe`<aside class="mdn"></aside>`;return t.before(r),r}function Ss(e){const{name:t,slug:n,summary:r,support:o,engines:i}=e,s=n.slice(n.indexOf("/")+1),a=`https://developer.mozilla.org/en-US/docs/Web/${n}`,c=`Expand MDN details for ${t}`,l=function(e){if(3===e.length)return Qe`<span title="${$s.inAllEngines}">✅</span>`;if(e.length<2)return Qe`<span title="${$s.inSomeEngines}">🚫</span>`;return Qe`<span>&emsp;</span>`}(i);return Qe`<details>
    <summary aria-label="${c}"><span>MDN</span>${l}</summary>
    <a title="${r}" href="${a}">${s}</a>
    ${function(e){if(3===e.length)return Qe`<p class="engines-all">${$s.inAllEngines}</p>`;if(e.length<2)return Qe`<p class="engines-some">${$s.inSomeEngines}</p>`}(i)}
    ${o?function(e){function t(e,t,n){const r="Unknown"===t?"?":t,o=`${e} ${t.toLowerCase()}`;return Qe`<tr class="${o}">
      <td>${xs[e]}</td>
      <td>${n||r}</td>
    </tr>`}function n(e,n){if(n.version_removed)return t(e,"No","");const r=n.version_added;return"boolean"==typeof r?t(e,r?"Yes":"No",""):r?t(e,"Yes",`${r}+`):t(e,"Unknown","")}return Qe`<table>
    ${Object.keys(xs).map((r=>e[r]?n(r,e[r]):t(r,"Unknown","")))}
  </table>`}(o):Qe`<p class="nosupportdata">No support data.</p>`}
  </details>`}var _s=Object.freeze({__proto__:null,name:ws,run:async function(e){const t=function(e){const{shortName:t,mdn:n}=e;if(!n)return;return"string"==typeof n?n:n.key||t}(e);if(!t)return;const n=await async function(e,t){const{baseJsonPath:n=vs,maxAge:r=864e5}=t,o=new URL(`${e}.json`,n).href,i=await async function(e,t=864e5){const n=new Request(e),r=new URL(n.url);let o,i;if("caches"in window)try{if(o=await caches.open(r.origin),i=await o.match(n),i&&new Date(i.headers.get("Expires"))>new Date)return i}catch(e){console.error("Failed to use Cache API.",e)}const s=await fetch(n);if(!s.ok&&i)return console.warn(`Returning a stale cached response for ${r}`),i;if(o&&s.ok){const e=s.clone(),r=new Headers(s.headers),i=new Date(Date.now()+t);r.set("Expires",i.toISOString());const a=new Response(await e.blob(),{headers:r});await o.put(n,a).catch(console.error)}return s}(o,r);if(404===i.status){return void Lt(`Could not find MDN data associated with key "${e}".`,ws,{hint:"Please add a valid key to `respecConfig.mdn`"})}return await i.json()}(t,e.mdn);if(!n)return;const r=document.createElement("style");r.textContent=ys,document.head.append(r);for(const e of function(e){return[...document.body.querySelectorAll("[id]:not(script)")].filter((({id:t})=>Array.isArray(e[t])))}(n)){const t=n[e.id],r=ks(e);if(r)for(const e of t)r.append(Ss(e))}}});const Es=new Map([["text/html","html"],["application/xml","xml"],["application/cms","cms"]]);function Cs(e,t=document){const n=Es.get(e);if(!n){const t=[...Es.values()].join(", ");throw new TypeError(`Invalid format: ${e}. Expected one of: ${t}.`)}const r=function(e,t){const n=t.cloneNode(!0);!function(e){const{head:t,body:n,documentElement:r}=e;Et(e),e.querySelectorAll(".removeOnSave, #toc-nav").forEach((e=>e.remove())),n.classList.remove("toc-sidebar"),at(r);const o=e.createDocumentFragment(),i=e.querySelector("meta[name='viewport']");i&&t.firstChild!==i&&o.appendChild(i);let s=e.querySelector("meta[charset], meta[content*='charset=']");s||(s=Qe`<meta charset="utf-8" />`);o.appendChild(s);const a=`ReSpec ${window.respecVersion||"Developer Channel"}`,c=Qe`
    <meta name="generator" content="${a}" />
  `;o.appendChild(c),t.prepend(o),Mt("beforesave",r)}(n);let r="";switch(e){case"xml":r=(new XMLSerializer).serializeToString(n);break;case"cms":!function(e){let t=!1,n=!1;e.childNodes.forEach((e=>{t?n?e.remove():"FOOTER"==e.nodeName?n=!0:("SCRIPT"==e.nodeName||"STYLE"==e.nodeName)&&e.remove():"HEADER"!==e.nodeName?e.remove():t=!0}))}(n.body),r+=n.body.innerHTML;break;default:n.doctype&&(r+=(new XMLSerializer).serializeToString(n.doctype)),r+=n.documentElement.outerHTML}return r}(n,t);return`data:${e};charset=utf-8,${encodeURIComponent(r)}`}t("ims/exporter",{rsDocToCmsDataURL:Cs});const As="ui/save-html",Ts=ht({en:{save_snapshot:"Export"},nl:{save_snapshot:"Bewaar Snapshot"},ja:{save_snapshot:"保存する"},de:{save_snapshot:"Exportieren"},zh:{save_snapshot:"导出"}}),Ls=[{id:"respec-save-as-html",ext:"html",title:"HTML",type:"text/html",get href(){return Ut(this.type)}},{id:"respec-save-as-xml",ext:"xhtml",title:"XML",type:"application/xml",get href(){return Ut(this.type)}},{id:"respec-save-as-epub",ext:"epub",title:"EPUB 3",type:"application/epub+zip",get href(){const e=new URL("https://labs.w3.org/r2epub/");return e.searchParams.append("respec","true"),e.searchParams.append("url",document.location.href),e.href}},{id:"respec-save-as-cms-extract",ext:"txt",title:"CMS EXTRACT",type:"application/cms",get href(){return Cs(this.type)}}];function Ns(e,t){const{id:n,href:r,ext:o,title:i,type:s}=e,a=function(e,t=""){return ot.format(e).replace(rt,t)}(t.publishDate||new Date),c=[t.specStatus,t.shortName||"spec",a].join("-");return Qe`<a
    href="${r}"
    id="${n}"
    download="${c}.${o}"
    type="${s}"
    class="respec-save-button"
    onclick=${()=>Sn.closeModal()}
    >${i}</a
  >`}var Is=Object.freeze({__proto__:null,name:As,run:function(e){const t={async show(t){await document.respec.ready;const n=Qe`<div class="respec-save-buttons">
        ${Ls.map((t=>Ns(t,e)))}
      </div>`;Sn.freshModal(Ts.save_snapshot,n,t)}},n="download"in HTMLAnchorElement.prototype;let r;n&&(r=Sn.addCommand(Ts.save_snapshot,(function(){if(!n)return;t.show(r)}),"Ctrl+Shift+Alt+S","💾"))},exportDocument:function(e,t){return Nt("Exporting via ui/save-html module's `exportDocument()` is deprecated and will be removed.",As,{hint:"Use core/exporter `rsDocToDataURL()` instead."}),Ut(t)}});const Rs="https://respec.org/specref/",Os=ht({en:{search_specref:"Search Specref"},nl:{search_specref:"Doorzoek Specref"},ja:{search_specref:"仕様検索"},de:{search_specref:"Spezifikationen durchsuchen"},zh:{search_specref:"搜索 Specref"}}),js=Sn.addCommand(Os.search_specref,(function(){const e=Qe`
    <iframe class="respec-iframe" src="${Rs}" onload=${e=>e.target.classList.add("ready")}></iframe>
    <a href="${Rs}" target="_blank">Open Search UI in a new tab</a>
  `;Sn.freshModal(Os.search_specref,e,js)}),"Ctrl+Shift+Alt+space","🔎");var Ps=Object.freeze({__proto__:null});const zs="https://respec.org/xref/",Ms={en:{title:"Search definitions"},ja:{title:"定義検索"},de:{title:"Definitionen durchsuchen"},zh:{title:"搜索定义"}},Ds=Ms[o in Ms?o:"en"],qs=Sn.addCommand(Ds.title,(function(){const e=Qe`
    <iframe class="respec-iframe" src="${zs}" onload="${e=>e.target.classList.add("ready")}"></iframe>
    <a href="${zs}" target="_blank">Open Search UI in a new tab</a>
  `;Sn.freshModal(Ds.title,e,qs)}),"Ctrl+Shift+Alt+x","📚");var Fs=Object.freeze({__proto__:null});const Us=ht({en:{about_respec:"About"},zh:{about_respec:"关于"},nl:{about_respec:"Over"},ja:{about_respec:"これについて"},de:{about_respec:"Über"}});window.respecVersion=window.respecVersion||"Developer Edition";const Bs=document.createElement("div"),Ws=Qe.bind(Bs),Hs=Sn.addCommand(`${Us.about_respec} ${window.respecVersion}`,(function(){const e=[];"getEntriesByType"in performance&&performance.getEntriesByType("measure").sort(((e,t)=>t.duration-e.duration)).map((({name:e,duration:t})=>({name:e,duration:t>1e3?`${Math.round(t/1e3)} second(s)`:`${t.toFixed(2)} milliseconds`}))).map(Vs).forEach((t=>{e.push(t)}));Ws`
  <p>
    ReSpec is a document production toolchain, with a notable focus on W3C specifications.
  </p>
  <p>
    <a href='https://respec.org/docs'>Documentation</a>,
    <a href='https://github.com/w3c/respec/issues'>Bugs</a>.
  </p>
  <table border="1" width="100%" hidden="${!e.length}">
    <caption>
      Loaded plugins
    </caption>
    <thead>
      <tr>
        <th>
          Plugin Name
        </th>
        <th>
          Processing time
        </th>
      </tr>
    </thead>
    <tbody>${e}</tbody>
  </table>
`,Sn.freshModal(`${Us.about_respec} - ${window.respecVersion}`,Bs,Hs)}),"Ctrl+Shift+Alt+A","ℹ️");function Vs({name:e,duration:t}){return Qe`
    <tr>
      <td><a href="${`https://github.com/w3c/respec/blob/develop/src/${e}.js`}">${e}</a></td>
      <td>${t}</td>
    </tr>
  `}var Ys=Object.freeze({__proto__:null});var Gs=Object.freeze({__proto__:null,name:"core/seo",run:function(){const e=document.querySelector("#abstract p:first-of-type");if(!e)return;const t=e.textContent.replace(/\s+/," ").trim(),n=document.createElement("meta");n.name="description",n.content=t,document.head.appendChild(n)}});var Ks=Object.freeze({__proto__:null,name:"ims/seo",run:async function(e){const t=document.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e.thisURL),document.head.appendChild(t)}});var Zs=String.raw`.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}`;async function Xs(e){const t=await fetch(new URL(`../../${e}`,document.currentScript&&document.currentScript.src||new URL("respec-ims-default.js",document.baseURI).href));return await t.text()}const Js=st({hint:"preload",href:"https://www.w3.org/Tools/respec/respec-highlight",as:"script"});document.head.appendChild(Js);const Qs=async function(){const e=await async function(){try{return(await Promise.resolve().then((function(){return Ec}))).default}catch{return Xs("worker/respec-worker.js")}}(),t=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));return new Worker(t)}();t("core/worker",Qs.then((e=>({worker:e}))));const ea=function(e,t=0){const n=function*(e,t){for(;;)yield`${e}:${t}`,t++}(e,t);return()=>n.next().value}("highlight");async function ta(e){e.setAttribute("aria-busy","true");const t=(n=e.classList,Array.from(n).filter((e=>"highlight"!==e&&"nolinks"!==e)).map((e=>e.toLowerCase())));var n;let r;try{r=await async function(e,t){const n={action:"highlight",code:e,id:ea(),languages:t},r=await Qs;return r.postMessage(n),new Promise(((e,t)=>{const o=setTimeout((()=>{t(new Error("Timed out waiting for highlight."))}),4e3);r.addEventListener("message",(function t(i){const{data:{id:s,language:a,value:c}}=i;s===n.id&&(r.removeEventListener("message",t),clearTimeout(o),e({language:a,value:c}))}))}))}(e.innerText,t)}catch(e){return void console.error(e)}const{language:o,value:i}=r;switch(e.localName){case"pre":e.classList.remove(o),e.innerHTML=`<code class="hljs${o?` ${o}`:""}">${i}</code>`,e.classList.length||e.removeAttribute("class");break;case"code":e.innerHTML=i,e.classList.add("hljs"),o&&e.classList.add(o)}e.setAttribute("aria-busy","false")}var na=Object.freeze({__proto__:null,name:"core/highlight",run:async function(e){if(e.noHighlightCSS)return;const t=[...document.querySelectorAll("\n    pre:not(.idl):not(.nohighlight) > code:not(.nohighlight),\n    pre:not(.idl):not(.nohighlight),\n    code.highlight\n  ")].filter((e=>"pre"!==e.localName||!e.querySelector("code")));if(!t.length)return;const n=t.filter((e=>e.textContent.trim())).map(ta);document.head.appendChild(Qe`<style>
      ${Zs}
    </style>`),await Promise.all(n)}});const ra=ht({en:{missing_test_suite_uri:jt`Found tests in your spec, but missing ${"[testSuiteURI]"} in your ReSpec config.`,tests:"tests",test:"test"},ja:{missing_test_suite_uri:jt`この仕様内にテストの項目を検出しましたが，ReSpec の設定に ${"[testSuiteURI]"} が見つかりません．`,tests:"テスト",test:"テスト"},de:{missing_test_suite_uri:jt`Die Spezifikation enthält Tests, aber in der ReSpec-Konfiguration ist keine ${"[testSuiteURI]"} angegeben.`,tests:"Tests",test:"Test"},zh:{missing_test_suite_uri:jt`本规范中包含测试，但在 ReSpec 配置中缺少 ${"[testSuiteURI]"}。`,tests:"测试",test:"测试"}}),oa="core/data-tests";function ia(e){const t=[],[n]=new URL(e).pathname.split("/").reverse(),r=n.split(".");let[o]=r;if(r.find((e=>"https"===e))){const e=document.createElement("span");e.textContent="🔒",e.setAttribute("aria-label","requires a secure connection"),e.setAttribute("title","Test requires HTTPS"),o=o.replace(".https",""),t.push(e)}if(o.split(".").join("-").split("-").find((e=>"manual"===e))){const e=document.createElement("span");e.textContent="💪",e.setAttribute("aria-label","the test must be run manually"),e.setAttribute("title","Manual test"),o=o.replace("-manual",""),t.push(e)}return Qe`
    <li>
      <a href="${e}">${o}</a>
      ${t}
    </li>
  `}function sa(e,t,n){return e.map((e=>{try{return new URL(e,t).href}catch{Nt(jt`Invalid URL in ${"[data-tests]"} attribute: ${e}.`,oa,{elements:[n]})}})).filter((e=>e))}function aa(e,t){const n=e.filter(((e,t,n)=>n.indexOf(e)!==t));if(n.length){const e=jt`Duplicate tests found in the ${"[data-tests]"} attribute.`,r=jt`To fix, remove duplicates from ${"[data-tests]"}: ${Rt(n,{quotes:!0})}.`;Nt(e,oa,{hint:r,elements:[t]})}}function ca(e){const t=[...new Set(e)];return Qe`
    <details class="respec-tests-details removeOnSave">
      <summary>tests: ${t.length}</summary>
      <ul>
        ${t.map(ia)}
      </ul>
    </details>
  `}var la=Object.freeze({__proto__:null,name:oa,run:function(e){const t=[...document.querySelectorAll("[data-tests]")].filter((e=>e.dataset.tests));if(t.length)if(e.testSuiteURI)for(const n of t){const t=sa(n.dataset.tests.split(/,/gm).map((e=>e.trim())),e.testSuiteURI,n);aa(t,n);const r=ca(t);n.append(r)}else Lt(ra.missing_test_suite_uri,oa)}});const da="core/list-sorter";function ua(e){const t="ascending"===e?1:-1;return({textContent:e},{textContent:n})=>t*e.trim().localeCompare(n.trim())}function pa(e,t){return[...e.querySelectorAll(":scope > li")].sort(ua(t)).reduce(((e,t)=>(e.appendChild(t),e)),document.createDocumentFragment())}function fa(e,t){return[...e.querySelectorAll(":scope > dt")].sort(ua(t)).reduce(((e,t)=>{const{nodeType:n,nodeName:r}=t,o=document.createDocumentFragment();let{nextSibling:i}=t;for(;i&&i.nextSibling;){o.appendChild(i.cloneNode(!0));const{nodeType:e,nodeName:t}=i.nextSibling;if(e===n&&t===r)break;i=i.nextSibling}return o.prepend(t.cloneNode(!0)),e.appendChild(o),e}),document.createDocumentFragment())}var ha=Object.freeze({__proto__:null,name:da,sortListItems:pa,sortDefinitionTerms:fa,run:function(){const e=document.querySelectorAll("[data-sort]");for(const t of e){let e;const n=t.dataset.sort||"ascending";switch(t.localName){case"dl":e=fa(t,n);break;case"ol":case"ul":e=pa(t,n);break;default:Nt(`ReSpec can't sort ${t.localName} elements.`,da,{elements:[t]})}if(e){const n=document.createRange();n.selectNodeContents(t),n.deleteContents(),t.appendChild(e)}}}});var ma=String.raw`var:hover{text-decoration:underline;cursor:pointer}
var.respec-hl{color:var(--color,#000);background-color:var(--bg-color);box-shadow:0 0 0 2px var(--bg-color)}
var.respec-hl-c1{--bg-color:#f4d200}
var.respec-hl-c2{--bg-color:#ff87a2}
var.respec-hl-c3{--bg-color:#96e885}
var.respec-hl-c4{--bg-color:#3eeed2}
var.respec-hl-c5{--bg-color:#eacfb6}
var.respec-hl-c6{--bg-color:#82ddff}
var.respec-hl-c7{--bg-color:#ffbcf2}
@media print{
var.respec-hl{background:0 0;color:#000;box-shadow:unset}
}`;function ga(e){e.stopPropagation();const{target:t}=e,n=function(e){const t=ft(e.textContent),n=e.closest("section"),r=ya(e),o=[...n.querySelectorAll("var")].filter((e=>ft(e.textContent)===t&&e.closest("section")===n)),i=o[0].classList.contains("respec-hl");if(ba.set(r,i),i)return o.forEach((e=>wa(e,r))),[];o.forEach((e=>function(e,t){e.classList.add("respec-hl",t)}(e,r)));return o}(t),r=()=>{const e=ya(t);n.forEach((t=>wa(t,e))),[...ba.keys()].forEach((e=>ba.set(e,!0)))};n.length&&document.body.addEventListener("click",r,{once:!0})}const ba=new Map([["respec-hl-c1",!0],["respec-hl-c2",!0],["respec-hl-c3",!0],["respec-hl-c4",!0],["respec-hl-c5",!0],["respec-hl-c6",!0],["respec-hl-c7",!0]]);function ya(e){const{value:t}=e.classList,n=/respec-hl-\w+/,r=n.test(t)&&t.match(n);return r?r[0]:!0===ba.get("respec-hl-c1")?"respec-hl-c1":[...ba.keys()].find((e=>ba.get(e)))||"respec-hl-c1"}function wa(e,t){e.classList.remove("respec-hl",t),e.classList.length||e.removeAttribute("class")}var va=Object.freeze({__proto__:null,name:"core/highlight-vars",run:function(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=ma,t.classList.add("removeOnSave"),document.head.appendChild(t),document.querySelectorAll("var").forEach((e=>e.addEventListener("click",ga))),Dt("beforesave",(e=>{e.querySelectorAll("var.respec-hl").forEach(wa)}))}});var xa=String.raw`dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font:small Helvetica Neue,sans-serif,Droid Sans Fallback;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}`;function $a(e){const{id:t}=e,n=e.dataset.href||`#${t}`,r=document.querySelectorAll(`a[href="${n}"]:not(.index-term)`),o=`dfn-panel-for-${e.id}`,i=e.getAttribute("aria-label")||ft(e.textContent),s=Qe`
    <div
      class="dfn-panel"
      id="${o}"
      hidden
      role="dialog"
      aria-modal="true"
      aria-label="Links in this document to definition: ${i}"
    >
      <span class="caret"></span>
      <div>
        <a
          class="self-link"
          href="${n}"
          aria-label="Permalink for definition: ${i}. Activate to close this dialog."
          >Permalink</a
        >
        ${function(e){return e.matches("dfn[data-export]")?Qe`<span
    class="marker dfn-exported"
    title="Definition can be referenced by other specifications"
    >exported</span
  >`:null}(e)} ${function(e,t){if(!e.hasAttribute("data-idl"))return null;for(const n of t){if(n.dataset.linkType!==e.dataset.dfnType)continue;const t=n.closest("pre.idl");if(t&&t.id){const e=`#${t.id}`;return Qe`<a
        href="${e}"
        class="marker idl-block"
        title="Jump to IDL declaration"
        >IDL</a
      >`}}return null}(e,r)}
      </div>
      <p><b>Referenced in:</b></p>
      ${function(e,t){if(!t.length)return Qe`<ul>
      <li>Not referenced in this document.</li>
    </ul>`;const n=new Map;t.forEach(((t,r)=>{const o=t.id||`ref-for-${e}-${r+1}`;t.id||(t.id=o);const i=function(e){const t=e.closest("section");if(!t)return null;const n=t.querySelector("h1, h2, h3, h4, h5, h6");return n?`§ ${ft(n.textContent)}`:null}(t);(n.get(i)||n.set(i,[]).get(i)).push(o)}));const r=([e,t])=>[{title:e,id:t[0],text:e}].concat(t.slice(1).map(((e,t)=>({title:`Reference ${t+2}`,text:`(${t+2})`,id:e})))),o=e=>Qe`<li>
    ${r(e).map((e=>Qe`<a href="#${e.id}" title="${e.title}">${e.text}</a>${" "}`))}
  </li>`;return Qe`<ul>
    ${[...n].map(o)}
  </ul>`}(t,r)}
    </div>
  `;return s}var ka=Object.freeze({__proto__:null,name:"core/dfn-panel",run:async function(){document.head.insertBefore(Qe`<style>
      ${xa}
    </style>`,document.querySelector("link"));const e=document.querySelectorAll("dfn[id]:not([data-cite]), #index-defined-elsewhere .index-term"),t=document.createDocumentFragment();for(const n of e)t.append($a(n)),n.tabIndex=0,n.setAttribute("aria-haspopup","dialog");document.body.append(t);const n=document.createElement("script");n.id="respec-dfn-panel",n.textContent=await async function(){try{return(await Promise.resolve().then((function(){return Cc}))).default}catch{return Xs("./src/core/dfn-panel.runtime.js")}}(),document.body.append(n)}});var Sa=String.raw`var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}`;var _a=Object.freeze({__proto__:null,name:"core/data-type",run:function(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=Sa,document.head.appendChild(t);let n=null;const r=new Map,o=document.querySelectorAll("section var");for(const e of o){const t=e.closest("section");if(n!==t&&(n=t,r.clear()),e.dataset.type){r.set(e.textContent.trim(),e.dataset.type);continue}const o=r.get(e.textContent.trim());o&&(e.dataset.type=o)}}});var Ea=String.raw`.assert{background:#eee;border-left:.5em solid #aaa;padding:.3em}`;var Ca=Object.freeze({__proto__:null,name:"core/algorithms",run:function(){if(Array.from(document.querySelectorAll("ol.algorithm li")).filter((e=>e.textContent.trim().startsWith("Assert: "))).forEach((e=>e.classList.add("assert"))),document.querySelector(".assert")){const e=document.createElement("style");e.textContent=Ea,document.head.appendChild(e)}}});const Aa="core/anchor-expander";function Ta(e,t,n){const r=e.querySelector(".marker .self-link");if(!r){n.textContent=n.getAttribute("href");return void Lt(`Found matching element "${t}", but it has no title or marker.`,Aa,{title:"Missing title.",elements:[n]})}const o=_t(r);n.append(...o.childNodes),n.classList.add("box-ref")}function La(e,t,n){const r=e.querySelector("figcaption");if(!r){n.textContent=n.getAttribute("href");return void Lt(`Found matching figure "${t}", but figure is lacking a \`<figcaption>\`.`,Aa,{title:"Missing figcaption in referenced figure.",elements:[n]})}const o=[..._t(r).childNodes].filter((e=>!e.classList||!e.classList.contains("fig-title")));o.pop(),n.append(...o),n.classList.add("fig-ref");const i=r.querySelector(".fig-title");!n.hasAttribute("title")&&i&&(n.title=ft(i.textContent))}function Na(e,t,n){const r=e.querySelector("h6, h5, h4, h3, h2");if(r)Ia(r,n),Ra(r,n);else{n.textContent=n.getAttribute("href");Lt("Found matching section, but the section was lacking a heading element.",Aa,{title:`No matching id in document: "${t}".`,elements:[n]})}}function Ia(e,t){const n=e.querySelector(".self-link"),r=[..._t(e).childNodes].filter((e=>!e.classList||!e.classList.contains("self-link")));t.append(...r),n&&t.prepend("§ "),t.classList.add("sec-ref"),t.lastChild.nodeType===Node.TEXT_NODE&&(t.lastChild.textContent=t.lastChild.textContent.trimEnd()),t.querySelectorAll("a").forEach((e=>{const t=vt(e,"span");for(const e of[...t.attributes])t.removeAttributeNode(e)}))}function Ra(e,t){for(const n of["dir","lang"]){if(t.hasAttribute(n))continue;const r=e.closest(`[${n}]`);if(!r)continue;const o=t.closest(`[${n}]`);o&&o.getAttribute(n)===r.getAttribute(n)||t.setAttribute(n,r.getAttribute(n))}}var Oa=Object.freeze({__proto__:null,name:Aa,run:function(){const e=[...document.querySelectorAll("a[href^='#']:not(.self-link):not([href$='the-empty-string'])")].filter((e=>""===e.textContent.trim()));for(const t of e){const e=t.getAttribute("href").slice(1),n=document.getElementById(e);if(n){switch(n.localName){case"h6":case"h5":case"h4":case"h3":case"h2":Ia(n,t);break;case"section":Na(n,e,t);break;case"figure":La(n,e,t);break;case"aside":case"div":Ta(n,e,t);break;default:t.textContent=t.getAttribute("href");Lt("ReSpec doesn't support expanding this kind of reference.",Aa,{title:`Can't expand "#${e}".`,elements:[t]})}Ra(n,t),t.normalize()}else{t.textContent=t.getAttribute("href");Lt(`Couldn't expand inline reference. The id "${e}" is not in the document.`,Aa,{title:`No matching id in document: ${e}.`,elements:[t]})}}}});const ja=new Promise(((e,t)=>{}));ht({en:{file_a_bug:"File an issue",participate:"Participate:",commit_history:"Commit history"},ko:{participate:"참여"},zh:{file_a_bug:"反馈错误",participate:"参与："},ja:{commit_history:"変更履歴",file_a_bug:"問題報告",participate:"参加方法："},nl:{commit_history:"Revisiehistorie",file_a_bug:"Dien een melding in",participate:"Doe mee:"},es:{commit_history:"Historia de cambios",file_a_bug:"Nota un bug",participate:"Participe:"},de:{commit_history:"Revisionen",file_a_bug:"Fehler melden",participate:"Mitmachen:"}});const Pa="rs-changelog",za=class extends HTMLElement{constructor(){super(),this.props={from:this.getAttribute("from"),to:this.getAttribute("to")||"HEAD",filter:"function"==typeof window[this.getAttribute("filter")]?window[this.getAttribute("filter")]:()=>!0}}connectedCallback(){const{from:e,to:t,filter:n}=this.props;Qe.bind(this)`
      <ul>
      ${{any:Ma(e,t,n).then((e=>async function(e){const{repoURL:t}=await ja;return e.map((e=>{const[n,r=null]=e.message.split(/\(#(\d+)\)/,2),o=`${t}commit/${e.hash}`,i=r&&Qe` (<a href="${r?`${t}pull/${r}`:null}">#${r}</a>)`;return Qe`<li><a href="${o}">${n.trim()}</a>${i}</li>`}))}(e))).catch((e=>Lt(e.message,Pa,{elements:[this]}))).finally((()=>{this.dispatchEvent(new CustomEvent("done"))})),placeholder:"Loading list of commits..."}}
      </ul>
    `}};async function Ma(e,t,n){let r;try{const o=await ja;if(!o)throw new Error("`respecConfig.github` is not set");const i=new URL("commits",`${o.apiBase}/${o.fullName}/`);i.searchParams.set("from",e),i.searchParams.set("to",t);const s=await fetch(i.href);if(!s.ok)throw new Error(`Request to ${i} failed with status code ${s.status}`);if(r=await s.json(),!r.length)throw new Error(`No commits between ${e}..${t}.`);r=r.filter(n)}catch(e){const t=`Error loading commits from GitHub. ${e.message}`;throw console.error(e),new Error(t)}return r}const Da=[Object.freeze({__proto__:null,name:Pa,element:za})];var qa=Object.freeze({__proto__:null,name:"core/custom-elements/index",run:async function(){Da.forEach((e=>{customElements.define(e.name,e.element)}));const e=Da.map((e=>e.name)).join(", "),t=[...document.querySelectorAll(e)].map((e=>new Promise((t=>e.addEventListener("done",t,{once:!0})))));await Promise.all(t)}});var Fa=Object.freeze({__proto__:null,name:"ims/cleanBody",run:async function(e){if(e.cleanBodyAll||e.cleanBodyScripts){document.body.querySelectorAll("script").forEach((e=>{e.parentNode.removeChild(e)}))}if(e.cleanBodyAll||e.cleanBodyCSS){document.querySelectorAll("*[style]").forEach((e=>{e.removeAttribute("style")}))}}});var Ua=Object.freeze({__proto__:null,name:"ims/title-attrs",run:async function(e){if(e.noTitleAttrs)return;document.body.querySelectorAll("a[href].internalDFN").forEach((e=>{const t=e.getAttribute("href"),n=document.body.querySelector(t);if(n&&"DFN"===n.tagName){let t="";if(function(e,t){return null!=e.closest(t)}(n,"dt")){const e=n.closest("dt").nextElementSibling;e&&"DD"===e.tagName&&(t=e.textContent)}else{const e=n.closest("p, td, li, div, aside");e&&(t=e.textContent)}if(t.length>0){t=t.replace(/^(\s*)|(\s*)$/g,"").replace(/\s+/g," ");const n=document.createAttribute("title");n.value=t,e.setAttributeNode(n)}}}))}});var Ba=Object.freeze({__proto__:null,name:"ims/scripts",run:async function(e){if(e.noSideBarTOC)document.body.className+=" toc-inline";else{let t="https://purl.imsglobal.org/spec/fixup.js";e.overrideFixupLocation&&(t=e.overrideFixupLocation),function(e){const t=document.createElement("script");t.type="text/javascript",t.addEventListener("load",(()=>{window.location.hash&&(window.location=window.location)}),{once:!0}),t.src=e,document.body.appendChild(t)}(t)}}});var Wa=Object.freeze({__proto__:null,name:"ims/comments",run:async function(){const e=document.createNodeIterator(document.documentElement,NodeFilter.SHOW_COMMENT),t=[];let n;for(;n=e.nextNode();)t.push(n);t.forEach((e=>{e.parentElement.removeChild(e)}))}});var Ha=Object.freeze({__proto__:null,name:"ims/footers",run:async function(e){const t=(e=>Qe`<footer>
    <div id="endWarranty">
      <p>
        IMS Global Learning Consortium, Inc. ("IMS Global") is publishing the
        information contained in this document ("Specification") for purposes of
        scientific, experimental, and scholarly collaboration only.
      </p>
      <p>
        IMS Global makes no warranty or representation regarding the accuracy or
        completeness of the Specification.
      </p>
      <p>This material is provided on an "As Is" and "As Available" basis.</p>
      <p>
        The Specification is at all times subject to change and revision without
        notice.
      </p>
      <p>
        It is your sole responsibility to evaluate the usefulness, accuracy, and
        completeness of the Specification as it relates to you.
      </p>
      <p>
        IMS Global would appreciate receiving your comments and suggestions.
      </p>
      <p>
        Please contact IMS Global through our website at
        http://www.imsglobal.org.
      </p>
      <p>
        Please refer to Document Name: ${e.specTitle.replace("<br/>"," ")}
        ${e.specVersion}
      </p>
      <p>Date: ${e.specDate}</p>
      <div></div>
    </div>
  </footer>`)(e);document.body.appendChild(t)}});const Va="core/linter-rules/check-charset",Ya=ht({en:{msg:"Document must only contain one `<meta>` tag with charset set to 'utf-8'",hint:'Add this line in your document `<head>` section - `<meta charset="utf-8">` or set charset to "utf-8" if not set already.'},zh:{msg:"文档只能包含一个 charset 属性为 utf-8 的 `<meta>` 标签",hint:'将此行添加到文档的 `<head>` 部分—— `<meta charset="utf-8">` 或将 charset 设置为 utf-8（如果尚未设置）。'}});var Ga=Object.freeze({__proto__:null,name:Va,run:function(e){if(!e.lint?.["check-charset"])return;const t=document.querySelectorAll("meta[charset]"),n=[];for(const e of t)n.push(e.getAttribute("charset").trim().toLowerCase());n.includes("utf-8")&&1===t.length||Nt(Ya.msg,Va,{hint:Ya.hint,elements:[...t]})}});const Ka="core/linter-rules/check-punctuation",Za=[".",":","!","?"],Xa=ht({en:{msg:"`p` elements should end with a punctuation mark.",hint:`Please make sure \`p\` elements end with one of: ${Za.map((e=>`"${e}"`)).join(", ")}.`}});var Ja=Object.freeze({__proto__:null,name:Ka,run:function(e){if(!e.lint?.["check-punctuation"])return;const t=new RegExp(`[${Za.join("")}\\]]$|^ *$`,"m"),n=[...document.querySelectorAll("p:not(#back-to-top)")].filter((e=>!t.test(e.textContent.trim())));n.length&&Nt(Xa.msg,Ka,{hint:Xa.hint,elements:n})}});const Qa="core/linter-rules/check-internal-slots",ec=ht({en:{msg:"Internal slots should be preceded by a '.'",hint:"Add a '.' between the elements mentioned."}});var tc=Object.freeze({__proto__:null,name:Qa,run:function(e){if(!e.lint?.["check-internal-slots"])return;const t=[...document.querySelectorAll("var+a")].filter((({previousSibling:{nodeName:e}})=>e&&"VAR"===e));t.length&&Nt(ec.msg,Qa,{hint:ec.hint,elements:t})}});const nc="core/linter-rules/local-refs-exist",rc=ht({en:{msg:"Broken local reference found in document.",hint:"Please fix the links mentioned."}});function oc(e){const t=e.getAttribute("href").substring(1),n=e.ownerDocument;return!n.getElementById(t)&&!n.getElementsByName(t).length}var ic=Object.freeze({__proto__:null,name:nc,run:function(e){if(!e.lint?.["local-refs-exist"])return;const t=[...document.querySelectorAll("a[href^='#']")].filter(oc);t.length&&Nt(rc.msg,nc,{hint:rc.hint,elements:t})}});const sc="core/linter-rules/no-headingless-sections",ac=ht({en:{msg:"All sections must start with a `h2-6` element.",hint:"Add a `h2-6` to the offending section or use a `<div>`."},nl:{msg:"Alle secties moeten beginnen met een `h2-6` element.",hint:"Voeg een `h2-6` toe aan de conflicterende sectie of gebruik een `<div>`."},zh:{msg:"所有章节（section）都必须以 `h2-6` 元素开头。",hint:"将 `h2-6` 添加到有问题的章节或使用 `<div>`。"}}),cc=({firstElementChild:e})=>null===e||!1===/^h[1-6]$/.test(e.localName);var lc=Object.freeze({__proto__:null,name:sc,run:function(e){if(!e.lint?.["no-headingless-sections"])return;const t=[...document.querySelectorAll("section")].filter(cc);t.length&&Nt(ac.msg,sc,{hint:ac.hint,elements:t})}});const dc="core/linter-rules/no-unused-vars",uc=ht({en:{msg:"Variable was defined, but never used.",hint:"Add a `data-ignore-unused` attribute to the `<var>`."}});var pc=Object.freeze({__proto__:null,name:dc,run:function(e){if(!e.lint?.["no-unused-vars"])return;const t=[],n=e=>!!e.querySelector(":scope > :not(section) ~ .algorithm, :scope > :not(section) .algorithm");for(const e of document.querySelectorAll("section")){if(!n(e))continue;const r=e.querySelectorAll(":scope > :not(section) var");if(!r.length)continue;const o=new Map;for(const e of r){const t=ft(e.textContent);(o.get(t)||o.set(t,[]).get(t)).push(e)}for(const e of o.values())1!==e.length||e[0].hasAttribute("data-ignore-unused")||t.push(e[0])}t.length&&Nt(uc.msg,dc,{hint:uc.hint,elements:t})}});const fc="core/linter-rules/privsec-section",hc=ht({en:{msg:"Document must have a 'Privacy and/or Security' Considerations section.",hint:"Add a privacy and/or security considerations section. See the [Self-Review Questionnaire](https://w3ctag.github.io/security-questionnaire/)."}});var mc=Object.freeze({__proto__:null,name:fc,run:function(e){var t;e.lint?.["privsec-section"]&&e.isRecTrack&&(t=document,!Array.from(t.querySelectorAll("h2, h3, h4, h5, h6")).some((({textContent:e})=>{const t=/(privacy|security)/im.test(e),n=/(considerations)/im.test(e);return t&&n||t})))&&Nt(hc.msg,fc,{hint:hc.hint})}});const gc="core/linter-rules/wpt-tests-exist",bc=ht({en:{msg:"The following test could not be found in Web Platform Tests:",hint:"Check [wpt.live](https://wpt.live) to see if it was deleted or renamed."}});var yc=Object.freeze({__proto__:null,name:gc,run:async function(e){if(!e.lint?.["wpt-tests-exist"])return;const t=await async function(e,t){let n;try{const t=new URL(e);if(t.pathname.startsWith("/web-platform-tests/wpt/tree/master/")){const e=/web-platform-tests\/wpt\/tree\/master\/(.+)/;n=t.pathname.match(e)[1].replace(/\//g,"")}else n=t.pathname.replace(/\//g,"")}catch(e){return Nt("Failed to parse WPT directory from testSuiteURI",`linter/${gc}`),console.error(e),null}const r=new URL("web-platform-tests/wpt/files",`${t}/`);r.searchParams.set("path",n);const o=await fetch(r);if(!o.ok){return Nt(`Failed to fetch files from WPT repository. Request failed with error: ${await o.text()} (${o.status})`,`linter/${gc}`),null}const{entries:i}=await o.json(),s=i.filter((e=>!e.endsWith("/")));return new Set(s)}(e.testSuiteURI,e.githubAPI);if(!t)return;const n=[...document.querySelectorAll("[data-tests]")].filter((e=>e.dataset.tests));for(const e of n)e.dataset.tests.split(/,/gm).map((e=>e.trim().split("#")[0])).filter((e=>e&&!t.has(e))).map((t=>{Nt(`${bc.msg} \`${t}\`.`,gc,{hint:bc.hint,elements:[e]})}))}});const wc="core/linter-rules/no-http-props",vc=ht({en:{msg:jt`Insecure URLs are not allowed in ${"[respecConfig]"}.`,hint:"Please change the following properties to 'https://': "},zh:{msg:jt`${"[respecConfig]"} 中不允许使用不安全的URL.`,hint:"请将以下属性更改为 https://："}});var xc=Object.freeze({__proto__:null,name:wc,run:function(e){if(!e.lint?.["no-http-props"])return;if(!parent.location.href.startsWith("http"))return;const t=Object.getOwnPropertyNames(e).filter((t=>t.endsWith("URI")&&e[t]||"prevED"===t)).filter((t=>new URL(e[t],parent.location.href).href.startsWith("http://")));if(t.length){const e=ut(t,(e=>jt`${`[${e}]`}`));Nt(vc.msg,wc,{hint:vc.hint+e})}}});const $c="core/linter-rules/a11y",kc=["color-contrast","landmark-one-main","landmark-unique","region"];function Sc(e){const t=[];for(const n of e.split("\n\n")){const[e,...r]=n.split(/^\s{2}/m),o=r.map((e=>`- ${e.trimEnd()}`)).join("\n");t.push(`${e}${o}`)}return t.join("\n\n")}var _c=Object.freeze({__proto__:null,name:$c,run:async function(e){if(!e.lint?.a11y&&!e.a11y)return;const t=e.lint?.a11y||e.a11y,n=!0===t?{}:t,r=await async function(e){const{rules:t,...n}=e,r={rules:{...Object.fromEntries(kc.map((e=>[e,{enabled:!1}]))),...t},...n,elementRef:!0,resultTypes:["violations"],reporter:"v1"};let o;try{o=await function(){const e=document.createElement("script");return e.classList.add("remove"),e.src="https://unpkg.com/axe-core@3/axe.min.js",document.head.appendChild(e),new Promise(((t,n)=>{e.onload=()=>t(window.axe),e.onerror=n}))}()}catch(e){return Lt("Failed to load a11y linter.",$c),console.error(e),[]}try{return(await o.run(document,r)).violations}catch(e){return Lt("Error while looking for a11y issues.",$c),console.error(e),[]}}(n);for(const e of r){const t=new Map;for(const n of e.nodes){const{failureSummary:e,element:r}=n;(t.get(e)||t.set(e,[]).get(e)).push(r)}const{id:n,help:r,description:o,helpUrl:i}=e,s=`a11y/${n}: ${r}`;for(const[e,n]of t){const t=Sc(e);Nt(s,$c,{details:`\n\n${o}.\n\n${t}. ([Learn more](${i}))`,elements:n})}}}}),Ec=Object.freeze({__proto__:null,default:'// ReSpec Worker v1.0.0\r\n"use strict";\r\ntry {\r\n  importScripts("https://www.w3.org/Tools/respec/respec-highlight");\r\n} catch (err) {\r\n  console.error("Network error loading highlighter", err);\r\n}\r\n\r\nself.addEventListener("message", ({ data: originalData }) => {\r\n  const data = Object.assign({}, originalData);\r\n  switch (data.action) {\r\n    case "highlight-load-lang": {\r\n      const { langURL, propName, lang } = data;\r\n      importScripts(langURL);\r\n      self.hljs.registerLanguage(lang, self[propName]);\r\n      break;\r\n    }\r\n    case "highlight": {\r\n      const { code } = data;\r\n      const langs = data.languages.length ? data.languages : undefined;\r\n      try {\r\n        const { value, language } = self.hljs.highlightAuto(code, langs);\r\n        Object.assign(data, { value, language });\r\n      } catch (err) {\r\n        console.error("Could not transform some code?", err);\r\n        // Post back the original code\r\n        Object.assign(data, { value: code, language: "" });\r\n      }\r\n      break;\r\n    }\r\n  }\r\n  self.postMessage(data);\r\n});\r\n'}),Cc=Object.freeze({__proto__:null,default:'(() => {\n// @ts-check\r\nif (document.respec) {\r\n  document.respec.ready.then(setupPanel);\r\n} else {\r\n  setupPanel();\r\n}\r\n\r\nfunction setupPanel() {\r\n  const listener = panelListener();\r\n  document.body.addEventListener("keydown", listener);\r\n  document.body.addEventListener("click", listener);\r\n}\r\n\r\nfunction panelListener() {\r\n  /** @type {HTMLElement} */\r\n  let panel = null;\r\n  return event => {\r\n    const { target, type } = event;\r\n\r\n    if (!(target instanceof HTMLElement)) return;\r\n\r\n    // For keys, we only care about Enter key to activate the panel\r\n    // otherwise it\'s activated via a click.\r\n    if (type === "keydown" && event.key !== "Enter") return;\r\n\r\n    const action = deriveAction(event);\r\n\r\n    switch (action) {\r\n      case "show": {\r\n        hidePanel(panel);\r\n        /** @type {HTMLElement} */\r\n        const dfn = target.closest("dfn, .index-term");\r\n        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);\r\n        const coords = deriveCoordinates(event);\r\n        displayPanel(dfn, panel, coords);\r\n        break;\r\n      }\r\n      case "dock": {\r\n        panel.style.left = null;\r\n        panel.style.top = null;\r\n        panel.classList.add("docked");\r\n        break;\r\n      }\r\n      case "hide": {\r\n        hidePanel(panel);\r\n        panel = null;\r\n        break;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * @param {MouseEvent|KeyboardEvent} event\r\n */\r\nfunction deriveCoordinates(event) {\r\n  const target = /** @type HTMLElement */ (event.target);\r\n\r\n  // We prevent synthetic AT clicks from putting\r\n  // the dialog in a weird place. The AT events sometimes\r\n  // lack coordinates, so they have clientX/Y = 0\r\n  const rect = target.getBoundingClientRect();\r\n  if (\r\n    event instanceof MouseEvent &&\r\n    event.clientX >= rect.left &&\r\n    event.clientY >= rect.top\r\n  ) {\r\n    // The event probably happened inside the bounding rect...\r\n    return { x: event.clientX, y: event.clientY };\r\n  }\r\n\r\n  // Offset to the middle of the element\r\n  const x = rect.x + rect.width / 2;\r\n  // Placed at the bottom of the element\r\n  const y = rect.y + rect.height;\r\n  return { x, y };\r\n}\r\n\r\n/**\r\n * @param {Event} event\r\n */\r\nfunction deriveAction(event) {\r\n  const target = /** @type {HTMLElement} */ (event.target);\r\n  const hitALink = !!target.closest("a");\r\n  if (target.closest("dfn:not([data-cite]), .index-term")) {\r\n    return hitALink ? "none" : "show";\r\n  }\r\n  if (target.closest(".dfn-panel")) {\r\n    if (hitALink) {\r\n      return target.classList.contains("self-link") ? "hide" : "dock";\r\n    }\r\n    const panel = target.closest(".dfn-panel");\r\n    return panel.classList.contains("docked") ? "hide" : "none";\r\n  }\r\n  if (document.querySelector(".dfn-panel:not([hidden])")) {\r\n    return "hide";\r\n  }\r\n  return "none";\r\n}\r\n\r\n/**\r\n * @param {HTMLElement} dfn\r\n * @param {HTMLElement} panel\r\n * @param {{ x: number, y: number }} clickPosition\r\n */\r\nfunction displayPanel(dfn, panel, { x, y }) {\r\n  panel.hidden = false;\r\n  // distance (px) between edge of panel and the pointing triangle (caret)\r\n  const MARGIN = 20;\r\n\r\n  const dfnRects = dfn.getClientRects();\r\n  // Find the `top` offset when the `dfn` can be spread across multiple lines\r\n  let closestTop = 0;\r\n  let minDiff = Infinity;\r\n  for (const rect of dfnRects) {\r\n    const { top, bottom } = rect;\r\n    const diffFromClickY = Math.abs((top + bottom) / 2 - y);\r\n    if (diffFromClickY < minDiff) {\r\n      minDiff = diffFromClickY;\r\n      closestTop = top;\r\n    }\r\n  }\r\n\r\n  const top = window.scrollY + closestTop + dfnRects[0].height;\r\n  const left = x - MARGIN;\r\n  panel.style.left = `${left}px`;\r\n  panel.style.top = `${top}px`;\r\n\r\n  // Find if the panel is flowing out of the window\r\n  const panelRect = panel.getBoundingClientRect();\r\n  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);\r\n  if (panelRect.right > SCREEN_WIDTH) {\r\n    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);\r\n    const newCaretOffset = left - newLeft;\r\n    panel.style.left = `${newLeft}px`;\r\n    /** @type {HTMLElement} */\r\n    const caret = panel.querySelector(".caret");\r\n    caret.style.left = `${newCaretOffset}px`;\r\n  }\r\n\r\n  // As it\'s a dialog, we trap focus.\r\n  // TODO: when <dialog> becomes a implemented, we should really\r\n  // use that.\r\n  trapFocus(panel, dfn);\r\n}\r\n\r\n/**\r\n * @param {HTMLElement} panel\r\n * @param {HTMLElement} dfn\r\n * @returns\r\n */\r\nfunction trapFocus(panel, dfn) {\r\n  /** @type NodeListOf<HTMLAnchorElement> elements */\r\n  const anchors = panel.querySelectorAll("a[href]");\r\n  // No need to trap focus\r\n  if (!anchors.length) return;\r\n\r\n  // Move focus to first anchor element\r\n  const first = anchors.item(0);\r\n  first.focus();\r\n\r\n  const trapListener = createTrapListener(anchors, panel, dfn);\r\n  panel.addEventListener("keydown", trapListener);\r\n\r\n  // Hiding the panel releases the trap\r\n  const mo = new MutationObserver(records => {\r\n    const [record] = records;\r\n    const target = /** @type HTMLElement */ (record.target);\r\n    if (target.hidden) {\r\n      panel.removeEventListener("keydown", trapListener);\r\n      mo.disconnect();\r\n    }\r\n  });\r\n  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });\r\n}\r\n\r\n/**\r\n *\r\n * @param {NodeListOf<HTMLAnchorElement>} anchors\r\n * @param {HTMLElement} panel\r\n * @param {HTMLElement} dfn\r\n * @returns\r\n */\r\nfunction createTrapListener(anchors, panel, dfn) {\r\n  const lastIndex = anchors.length - 1;\r\n  let currentIndex = 0;\r\n  return event => {\r\n    switch (event.key) {\r\n      // Hitting "Tab" traps us in a nice loop around elements.\r\n      case "Tab": {\r\n        event.preventDefault();\r\n        currentIndex += event.shiftKey ? -1 : +1;\r\n        if (currentIndex < 0) {\r\n          currentIndex = lastIndex;\r\n        } else if (currentIndex > lastIndex) {\r\n          currentIndex = 0;\r\n        }\r\n        anchors.item(currentIndex).focus();\r\n        break;\r\n      }\r\n\r\n      // Hitting "Enter" on an anchor releases the trap.\r\n      case "Enter":\r\n        hidePanel(panel);\r\n        break;\r\n\r\n      // Hitting "Escape" returns focus to dfn.\r\n      case "Escape":\r\n        hidePanel(panel);\r\n        dfn.focus();\r\n        return;\r\n    }\r\n  };\r\n}\r\n\r\n/** @param {HTMLElement} panel */\r\nfunction hidePanel(panel) {\r\n  if (!panel) return;\r\n  panel.hidden = true;\r\n  panel.classList.remove("docked");\r\n}\r\n})()'})}();
//# sourceMappingURL=respec-ims-default.js.map
